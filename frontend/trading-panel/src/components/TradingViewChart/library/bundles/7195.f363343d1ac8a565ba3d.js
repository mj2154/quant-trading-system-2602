(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[7195],{533384:e=>{e.exports={button:"button-PYEOTd6i",disabled:"disabled-PYEOTd6i",hidden:"hidden-PYEOTd6i",icon:"icon-PYEOTd6i",dropped:"dropped-PYEOTd6i"}},701455:e=>{e.exports={"textarea-container":"textarea-container-x5KHDULU","change-highlight":"change-highlight-x5KHDULU",focused:"focused-x5KHDULU","resize-vertical":"resize-vertical-x5KHDULU","resize-horizontal":"resize-horizontal-x5KHDULU","resize-both":"resize-both-x5KHDULU",textarea:"textarea-x5KHDULU","with-icon":"with-icon-x5KHDULU",endslot:"endslot-x5KHDULU"}},524713:e=>{e.exports={default:"default-EZuD3gZZ",danger:"danger-EZuD3gZZ",warning:"warning-EZuD3gZZ",success:"success-EZuD3gZZ",neutral:"neutral-EZuD3gZZ","neutral-light":"neutral-light-EZuD3gZZ",small:"small-EZuD3gZZ",medium:"medium-EZuD3gZZ",large:"large-EZuD3gZZ",iconWrapper:"iconWrapper-EZuD3gZZ",icon:"icon-EZuD3gZZ"}},463553:e=>{e.exports={radioButtonView:"radioButtonView-zzLJI6BH",checked:"checked-zzLJI6BH",disabled:"disabled-zzLJI6BH"}},247114:e=>{e.exports={radio:"radio-ALqkCUvs",reverse:"reverse-ALqkCUvs",label:"label-ALqkCUvs",wrapper:"wrapper-ALqkCUvs",input:"input-ALqkCUvs",box:"box-ALqkCUvs",disabled:"disabled-ALqkCUvs"}},878194:e=>{e.exports={wrap:"wrap-g_7HJ1Y8",item:"item-g_7HJ1Y8",checked:"checked-g_7HJ1Y8",accessible:"accessible-g_7HJ1Y8",focusVisible:"focusVisible-g_7HJ1Y8",radio:"radio-g_7HJ1Y8",paddingCompact:"paddingCompact-g_7HJ1Y8"}},778195:e=>{e.exports={"small-height-breakpoint":"(max-height: 360px)",footer:"footer-PhMf7PhQ",submitButton:"submitButton-PhMf7PhQ",buttons:"buttons-PhMf7PhQ"}},536408:e=>{e.exports={wrap:"wrap-ne5qGlZh",icon:"icon-ne5qGlZh",text:"text-ne5qGlZh",disabled:"disabled-ne5qGlZh"}},711556:e=>{e.exports={container:"container-zTsGmQlA",title:"title-zTsGmQlA",lineContainer:"lineContainer-zTsGmQlA",lineSegment:"lineSegment-zTsGmQlA",checked:"checked-zTsGmQlA"}},744885:e=>{e.exports={colorPickerWrap:"colorPickerWrap-Sw_a4qpB",focused:"focused-Sw_a4qpB",readonly:"readonly-Sw_a4qpB",disabled:"disabled-Sw_a4qpB","size-small":"size-small-Sw_a4qpB","size-medium":"size-medium-Sw_a4qpB","size-large":"size-large-Sw_a4qpB","font-size-small":"font-size-small-Sw_a4qpB","font-size-medium":"font-size-medium-Sw_a4qpB","font-size-large":"font-size-large-Sw_a4qpB","border-none":"border-none-Sw_a4qpB",shadow:"shadow-Sw_a4qpB","border-thin":"border-thin-Sw_a4qpB","border-thick":"border-thick-Sw_a4qpB","intent-default":"intent-default-Sw_a4qpB","intent-success":"intent-success-Sw_a4qpB","intent-warning":"intent-warning-Sw_a4qpB","intent-danger":"intent-danger-Sw_a4qpB","intent-primary":"intent-primary-Sw_a4qpB","corner-top-left":"corner-top-left-Sw_a4qpB","corner-top-right":"corner-top-right-Sw_a4qpB","corner-bottom-right":"corner-bottom-right-Sw_a4qpB","corner-bottom-left":"corner-bottom-left-Sw_a4qpB",colorPicker:"colorPicker-Sw_a4qpB",swatch:"swatch-Sw_a4qpB",placeholderContainer:"placeholderContainer-Sw_a4qpB",placeholder:"placeholder-Sw_a4qpB",mixedColor:"mixedColor-Sw_a4qpB",white:"white-Sw_a4qpB",
opacitySwatch:"opacitySwatch-Sw_a4qpB",colorLine:"colorLine-Sw_a4qpB",multiWidth:"multiWidth-Sw_a4qpB",lineStyleSelect:"lineStyleSelect-Sw_a4qpB",overflowContainer:"overflowContainer-Sw_a4qpB",linePropertyContainer:"linePropertyContainer-Sw_a4qpB",whiteContainer:"whiteContainer-Sw_a4qpB",multiProperty:"multiProperty-Sw_a4qpB",lineItem:"lineItem-Sw_a4qpB",lineSegment:"lineSegment-Sw_a4qpB"}},506708:e=>{e.exports={thicknessContainer:"thicknessContainer-C05zSid7",thicknessTitle:"thicknessTitle-C05zSid7",bar:"bar-C05zSid7",checked:"checked-C05zSid7"}},854209:e=>{e.exports={hasTooltip:"hasTooltip-DcvaoxPU",uppercase:"uppercase-DcvaoxPU"}},758123:e=>{e.exports={wrap:"wrap-Q2NZ0gvI"}},936730:e=>{e.exports={checkbox:"checkbox-FG0u1J5p",title:"title-FG0u1J5p"}},970724:e=>{e.exports={hintButton:"hintButton-qEI9XsjF",infoTooltip:"infoTooltip-qEI9XsjF"}},765032:e=>{e.exports={titleWrap:"titleWrap-SexRbl__",title:"title-SexRbl__"}},646321:e=>{e.exports={button:"button-HBcDEU4c",accessible:"accessible-HBcDEU4c"}},330329:e=>{e.exports={container:"container-mdcOkvbj",sectionTitle:"sectionTitle-mdcOkvbj",separator:"separator-mdcOkvbj",customButton:"customButton-mdcOkvbj",accessible:"accessible-mdcOkvbj"}},155778:e=>{e.exports={container:"container-iiEYaqPD",form:"form-iiEYaqPD",swatch:"swatch-iiEYaqPD",white:"white-iiEYaqPD",inputWrap:"inputWrap-iiEYaqPD",inputHash:"inputHash-iiEYaqPD",input:"input-iiEYaqPD",buttonWrap:"buttonWrap-iiEYaqPD",hueSaturationWrap:"hueSaturationWrap-iiEYaqPD",saturation:"saturation-iiEYaqPD",hue:"hue-iiEYaqPD"}},161483:e=>{e.exports={hue:"hue-r4uo5Wn6",pointer:"pointer-r4uo5Wn6",accessible:"accessible-r4uo5Wn6",pointerContainer:"pointerContainer-r4uo5Wn6"}},598182:e=>{e.exports={opacity:"opacity-EnWts7Xu",opacitySlider:"opacitySlider-EnWts7Xu",opacitySliderGradient:"opacitySliderGradient-EnWts7Xu",pointer:"pointer-EnWts7Xu",dragged:"dragged-EnWts7Xu",opacityPointerWrap:"opacityPointerWrap-EnWts7Xu",opacityInputWrap:"opacityInputWrap-EnWts7Xu",opacityInput:"opacityInput-EnWts7Xu",opacityInputPercent:"opacityInputPercent-EnWts7Xu",accessible:"accessible-EnWts7Xu"}},649339:e=>{e.exports={saturation:"saturation-NFNfqP2w",pointer:"pointer-NFNfqP2w",accessible:"accessible-NFNfqP2w"}},69825:e=>{e.exports={swatches:"swatches-sfn7Lezv",swatch:"swatch-sfn7Lezv",hover:"hover-sfn7Lezv",empty:"empty-sfn7Lezv",white:"white-sfn7Lezv",selected:"selected-sfn7Lezv",contextItem:"contextItem-sfn7Lezv",row:"row-sfn7Lezv"}},121187:e=>{e.exports={container:"container-PNiXwSz6",icon:"icon-PNiXwSz6",tooltip:"tooltip-PNiXwSz6",date:"date-PNiXwSz6",time:"time-PNiXwSz6"}},490132:e=>{e.exports={tooltip:"tooltip-RU08GcsY"}},805092:e=>{e.exports={button:"button-tFul0OhX","button-children":"button-children-tFul0OhX",hiddenArrow:"hiddenArrow-tFul0OhX",invisibleFocusHandler:"invisibleFocusHandler-tFul0OhX"}},589390:e=>{e.exports={"icon-wrapper":"icon-wrapper-dikdewwx","with-link":"with-link-dikdewwx","with-tooltip":"with-tooltip-dikdewwx","no-active-state":"no-active-state-dikdewwx"}},252428:e=>{e.exports={
placeholder:"placeholder-V6ceS6BN"}},805184:(e,t,n)=>{"use strict";var o,s,a;function r(e="default"){switch(e){case"default":return"primary";case"stroke":return"secondary"}}function i(e="primary"){switch(e){case"primary":return"brand";case"success":return"green";case"default":return"gray";case"danger":return"red"}}function l(e="m"){switch(e){case"s":return"xsmall";case"m":return"small";case"l":return"large"}}n.d(t,{Button:()=>d}),function(e){e.Primary="primary",e.Success="success",e.Default="default",e.Danger="danger"}(o||(o={})),function(e){e.Small="s",e.Medium="m",e.Large="l"}(s||(s={})),function(e){e.Default="default",e.Stroke="stroke"}(a||(a={}));var c=n(50959),u=n(228837);function p(e){const{intent:t,size:n,appearance:o,useFullWidth:s,icon:a,...c}=e;return{...c,color:i(t),size:l(n),variant:r(o),stretch:s}}function d(e){return c.createElement(u.SquareButton,{...p(e)})}},148982:(e,t,n)=>{"use strict";n.d(t,{Caret:()=>d,CaretButton:()=>h});var o=n(50959),s=n(497754),a=n.n(s),r=n(878112),i=n(602948),l=n.n(i),c=n(533384),u=n.n(c);function p(e){const{isDropped:t}=e;return o.createElement(r.Icon,{className:a()(u().icon,t&&u().dropped),icon:l()})}function d(e){const{className:t,disabled:n,isDropped:s}=e;return o.createElement("span",{className:a()(u().button,n&&u().disabled,t)},o.createElement(p,{isDropped:s}))}function h(e){const{className:t,tabIndex:n=-1,disabled:s,isDropped:r,...i}=e;return o.createElement("button",{...i,type:"button",tabIndex:n,disabled:s,className:a()(u().button,s&&u().disabled,t)},o.createElement(p,{isDropped:r}))}},558213:(e,t,n)=>{"use strict";n.d(t,{Textarea:()=>C});var o,s=n(50959),a=n(497754),r=n.n(a),i=n(525388),l=n(383836),c=n(21778),u=n(603548),p=n(269842),d=n(1811),h=n(34735),m=n(102691),v=n(701455),g=n.n(v);!function(e){e.None="none",e.Vertical="vertical",e.Horizontal="horizontal",e.Both="both"}(o||(o={}));const f=s.forwardRef(((e,t)=>{const{id:n,title:o,tabIndex:a,containerTabIndex:i,role:l,inputClassName:c,autoComplete:u,autoFocus:p,cols:d,disabled:v,isFocused:f,form:b,maxLength:y,minLength:C,name:x,placeholder:E,readonly:w,required:S,rows:_,value:T,defaultValue:N,wrap:I,containerReference:k,onChange:P,onSelect:D,onFocus:B,onContainerFocus:O,onBlur:L,onPaste:M,dataQaId:R,"aria-describedby":V,"aria-required":A,"aria-invalid":F,hasIcon:z,endSlot:W,hasAttachImage:q,...H}=e,Z={id:n,title:o,tabIndex:a,role:l,autoComplete:u,autoFocus:p,cols:d,disabled:v,form:b,maxLength:y,minLength:C,name:x,placeholder:E,readOnly:w,required:S,rows:_,value:T,defaultValue:N,wrap:I,onChange:P,onSelect:D,onFocus:B,onBlur:L,onPaste:M,"aria-describedby":V,"aria-required":A,"aria-invalid":F};return s.createElement(h.ControlSkeleton,{...H,"data-qa-id":R,tabIndex:i,disabled:v,readonly:w,isFocused:f,ref:k,onFocus:O,middleSlot:s.createElement(m.MiddleSlot,null,s.createElement("textarea",{...Z,"data-qa-id":`${R??"ui-lib-textarea-view"}-textarea`,className:r()(g().textarea,c,W&&g().endslot),ref:t})),...W&&{endSlot:s.createElement("span",{className:r()(!q&&g()["with-icon"])},W)}})}));f.displayName="TextareaView"
;const b=(e,t,n)=>t?void 0:e?-1:n,y=(e,t,n)=>t?void 0:e?n:-1,C=s.forwardRef(((e,t)=>{e=(0,c.useControl)(e);const{className:n,disabled:a,autoSelectOnFocus:h,tabIndex:m=0,borderStyle:v,highlight:C,resize:x,containerReference:E=null,onFocus:w,onBlur:S,hasIcon:_,...T}=e,N=(0,s.useRef)(null),I=(0,s.useRef)(null),{isMouseDown:k,handleMouseDown:P,handleMouseUp:D}=(0,u.useIsMouseDown)(),[B,O]=(0,l.useFocus)(),L=(0,p.createSafeMulticastEventHandler)(O.onFocus,(function(e){h&&!k.current&&(0,d.selectAllContent)(e.currentTarget)}),w),M=(0,p.createSafeMulticastEventHandler)(O.onBlur,S),R=void 0!==x&&x!==o.None,V=v??(R?C?"thick":"thin":void 0),A=C??(!R&&void 0);return s.createElement(f,{...T,className:r()(g()["textarea-container"],R&&g()["change-highlight"],x&&x!==o.None&&g()[`resize-${x}`],B&&g().focused,n),disabled:a,isFocused:B,containerTabIndex:b(B,a,m),tabIndex:y(B,a,m),borderStyle:V,highlight:A,onContainerFocus:function(e){I.current===e.target&&null!==N.current&&N.current.focus()},onFocus:L,onBlur:M,onMouseDown:P,onMouseUp:D,ref:function(e){N.current=e,"function"==typeof t?t(e):t&&(t.current=e)},containerReference:(0,i.useMergedRefs)([E,I]),hasIcon:_})}));C.displayName="Textarea"},942544:(e,t,n)=>{"use strict";n.d(t,{useControlDisclosure:()=>s});var o=n(772069);function s(e){const{intent:t,highlight:n,...s}=e,{isFocused:a,...r}=(0,o.useDisclosure)(s);return{...r,isFocused:a,highlight:n??a,intent:t??(a?"primary":"default")}}},139784:(e,t,n)=>{"use strict";n.d(t,{useTooltip:()=>i});var o=n(50959),s=n(799573);var a=n(718736);const r=200;function i(e,t=null){const{showTooltip:n,hideTooltip:i,onClick:l,doNotShowTooltipOnTouch:c=!1}=e,u=(0,a.useFunctionalRefObject)(t),p=function(){const[e,t]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{t(s.mobiletouch)}),[]),e}(),d=p&&c?void 0:e.tooltip;(0,o.useEffect)((()=>{const e=()=>i&&i();return document.addEventListener("scroll",e,!0),()=>document.removeEventListener("scroll",e,!0)}),[u,i]);return{onBlur:(0,o.useCallback)((e=>{i&&i()}),[i]),onFocus:(0,o.useCallback)((e=>{!e.target.matches(":hover")&&n&&e.target.matches(":focus-visible")&&n(e.currentTarget,{tooltipDelay:r})}),[n]),onClick:(0,o.useCallback)((e=>{p&&u?.current?.focus(),l&&l(e)}),[l,u,p]),tooltip:d,className:void 0!==d?"apply-common-tooltip":void 0,ref:u}}},404568:(e,t,n)=>{"use strict";n.d(t,{RadioButtonView:()=>l});var o=n(50959),s=n(497754),a=n.n(s),r=n(463553),i=n.n(r);function l(e){const{disabled:t,checked:n}=e;return o.createElement("span",{className:a()(i().radioButtonView,t&&i().disabled,n&&i().checked)})}},976669:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AdaptiveConfirmDialog:()=>h,DialogCloseAction:()=>o});var o,s=n(50959),a=n(497754),r=n.n(a),i=n(805184),l=n(650151),c=n(609838),u=n(180185),p=n(533408),d=n(778195);!function(e){e.Submit="submit",e.Cancel="cancel",e.None="none"}(o||(o={}));class h extends s.PureComponent{constructor(){super(...arguments),this._dialogRef=s.createRef(),this._handleClose=()=>{const{defaultActionOnClose:e,onSubmit:t,onCancel:n,onClose:o}=this.props;switch(e){case"submit":t();break;case"cancel":
n()}o()},this._handleCancel=()=>{this.props.onCancel(),this.props.onClose()},this._handleKeyDown=e=>{const{onSubmit:t,submitButtonDisabled:n,submitOnEnterKey:o}=this.props;13===(0,u.hashFromEvent)(e)&&o&&(e.preventDefault(),n||t())}}render(){const{render:e,onClose:t,onSubmit:n,onCancel:o,footerLeftRenderer:a,submitButtonText:r,submitButtonDisabled:i,defaultActionOnClose:l,submitOnEnterKey:c,...u}=this.props;return s.createElement(p.AdaptivePopupDialog,{...u,ref:this._dialogRef,onKeyDown:this._handleKeyDown,render:this._renderChildren(),onClose:this._handleClose})}focus(){(0,l.ensureNotNull)(this._dialogRef.current).focus()}_renderChildren(){return e=>{const{render:t,footerLeftRenderer:o,additionalButtons:a,submitButtonText:l,submitButtonDisabled:u,onSubmit:p,cancelButtonText:h,showCancelButton:m=!0,showSubmitButton:v=!0,submitButtonClassName:g,cancelButtonClassName:f,buttonsWrapperClassName:b}=this.props;return s.createElement(s.Fragment,null,t(e),s.createElement("div",{className:d.footer},o&&o(e.isSmallWidth),s.createElement("div",{className:r()(d.buttons,b)},a,m&&s.createElement(i.Button,{className:f,name:"cancel",appearance:"stroke",onClick:this._handleCancel},h??c.t(null,void 0,n(904543))),v&&s.createElement("span",{className:d.submitButton},s.createElement(i.Button,{className:g,disabled:u,name:"submit",onClick:p,"data-name":"submit-button"},l??c.t(null,void 0,n(819295)))))))}}}h.defaultProps={defaultActionOnClose:"submit",submitOnEnterKey:!0}},27950:(e,t,n)=>{"use strict";n.d(t,{EditButton:()=>l});var o=n(50959),s=n(497754),a=n(878112),r=n(610600),i=n(536408);function l(e){const{value:t,onClick:n,className:l,startSlot:c,disabled:u=!1}=e;return o.createElement("div",{className:s(i.wrap,u&&i.disabled,l),onClick:n,"data-name":"edit-button"},o.createElement("div",{className:s(i.text,"apply-overflow-tooltip")},void 0!==c&&c,o.createElement("span",null,t)),o.createElement(a.Icon,{icon:r,className:i.icon}))}},782302:(e,t,n)=>{"use strict";n.d(t,{ColorSelect:()=>A});var o=n(50959),s=n(497754),a=n.n(s),r=n(650151),i=n(180185),l=n(624216),c=n(383836),u=n(44093),p=n(230553),d=n(947278),h=n(738152),m=n(646321);function v(e){const{button:t,children:n,className:s,onPopupClose:v,"data-name":g,onColorChange:f,disabled:b,repositionOnScroll:y,closeOnScrollOutsideOffset:C,...x}=e,[E,w]=(0,o.useState)(!1),[S,_]=(0,o.useState)(!1),[T,N]=(0,c.useFocus)(),I=(0,o.useRef)(null),k=(0,o.useRef)(null),P=(0,o.useRef)(null);return o.createElement("div",{className:s,"data-name":g},o.createElement("button",{className:a()(m.button,m.accessible),tabIndex:b?-1:0,ref:P,onClick:function(){if(e.disabled)return;_((e=>!e)),w(!1)},onFocus:N.onFocus,onBlur:N.onBlur,disabled:b},"function"==typeof t?t(S,T):t),o.createElement(l.PopupMenu,{reference:k,controller:I,onFocus:function(e){if(!e.target||e.target!==e.currentTarget||E)return;const t=e.currentTarget,n=(0,r.ensureNotNull)((o=e.target,o.querySelector('[data-role="swatch"]:not([disabled]):not([aria-disabled])')));var o;(0,h.becomeMainElement)(n),setTimeout((()=>{
if(document.activeElement!==t||!e.target.matches(":focus-visible"))return;const[n]=(0,d.queryTabbableElements)(t).sort(d.navigationOrderComparator);n&&n.focus()}))},isOpened:S,onClose:D,position:function(){const e=(0,r.ensureNotNull)(P.current).getBoundingClientRect();return{x:e.left,y:e.top+e.height}},doNotCloseOn:P.current,onKeyDown:function(e){if(27===(0,i.hashFromEvent)(e))S&&(e.preventDefault(),D())},repositionOnScroll:y,onOpen:function(){I.current?.focus()},tabIndex:-1,closeOnScrollOutsideOffset:C},o.createElement(p.MenuContext.Consumer,null,(e=>o.createElement(u.ColorPicker,{...x,onColorChange:f,onToggleCustom:w,menu:e}))),!E&&n));function D(){_(!1),(0,r.ensureNotNull)(P.current).focus(),v&&v()}}var g=n(206397),f=n(613113),b=n(860184),y=n(609838),C=n(230789),x=n(878194);const E=(0,C.makeSwitchGroupItem)(class extends o.PureComponent{constructor(e){super(e),this._onChange=()=>{this.props.onChange&&this.props.onChange(this.props.value)},this._handleFocus=e=>{e.target.matches(":focus-visible")&&this.setState({isFocusVisible:!0})},this._handleBlur=()=>{this.state.isFocusVisible&&this.setState({isFocusVisible:!1})},this.state={isFocusVisible:!1}}render(){const{name:e,checked:t,value:n,renderItemContent:a,className:r}=this.props,i=s(x.item,x.accessible,{[x.checked]:t,[x.focusVisible]:this.state.isFocusVisible},r);return o.createElement("div",{className:i},o.createElement("input",{type:"radio",className:x.radio,name:e,value:n,onChange:this._onChange,onFocus:this._handleFocus,onBlur:this._handleBlur,checked:t}),a(parseInt(n),t))}});function w(e){const{name:t,values:n,selectedValues:a,onChange:r,renderItemContent:i}=e,l=n.map(((e,t)=>o.createElement(E,{key:t,value:e.toString(),renderItemContent:i,className:s(n.length>3&&x.paddingCompact)}))),c=a.map((e=>e.toString()));return o.createElement("div",{className:x.wrap},o.createElement(C.SwitchGroup,{name:t,onChange:e=>{r(parseInt(e))},values:c},l))}var S=n(506708);const _=y.t(null,void 0,n(254971));function T(e){const{value:t,items:n,onChange:s}=e;return o.createElement("div",{className:S.thicknessContainer},o.createElement("div",{className:S.thicknessTitle},_),o.createElement(w,{name:"color_picker_thickness_select",onChange:s,values:n,selectedValues:"mixed"===t?[]:[t],renderItemContent:(e,t)=>o.createElement("div",{className:a()(S.bar,t&&S.checked),style:{borderTopWidth:e}})}))}var N=n(977912);function I(e,t,n,o,s,a){return{repeat:e,width:t,height:n,segmentsGap:o,marginTop:s,segmentsGaps:a}}const k={"style-SOLID_thickness-1":I(1,"30px","1px"),"style-DASHED_thickness-1":I(4,"5px","1px","3px"),"style-DOTTED_thickness-1":I(6,"2px","2px","3px"),"style-SOLID_thickness-2":I(1,"30px","2px"),"style-DASHED_thickness-2":I(4,"5px","2px","3px"),"style-DOTTED_thickness-2":I(5,"3px","3px","3px"),"style-SOLID_thickness-3":I(1,"30px","3px"),"style-DASHED_thickness-3":I(4,"5px","3px","3px"),"style-DOTTED_thickness-3":I(5,"4px","4px","2px"),"style-SOLID_thickness-4":I(1,"30px","4px"),"style-DASHED_thickness-4":I(4,"5px","4px","3px"),"style-DOTTED_thickness-4":I(4,"5px","5px","3px")},P={
...k,"style-mixed_thickness-large":I(1,"30px","16px"),"style-mixed_thickness-1":[I(1,"27px","1px"),I(4,"4px","1px","4px","5px",{3:"3px"}),I(6,"2px","2px","3px","5px")],"style-mixed_thickness-2":[I(1,"27px","2px"),I(4,"4px","2px","4px","4px",{3:"3px"}),I(6,"2px","2px","3px","4px")],"style-mixed_thickness-3":[I(1,"27px","3px"),I(4,"4px","3px","4px","3px",{3:"3px"}),I(6,"2px","2px","3px","3px")],"style-mixed_thickness-4":[I(1,"27px","4px"),I(4,"4px","4px","4px","3px",{3:"3px"}),I(6,"2px","2px","3px","3px")],"style-SOLID_thickness-mixed":[I(1,"30px","3px",void 0,"4px"),I(1,"30px","2px",void 0,"4px"),I(1,"30px","1px",void 0,"4px")],"style-DASHED_thickness-mixed":[I(4,"5px","3px","3px"),I(4,"5px","2px","3px","4px"),I(4,"5px","1px","3px","4px")],"style-DOTTED_thickness-mixed":[I(5,"3px","3px","3px"),I(5,"3px","2px","3px","4px"),I(6,"2px","2px","3px","4px")],"style-mixed_thickness-mixed":[I(1,"30px","3px"),I(4,"6px","2px","2px","4px"),I(5,"2px","2px","5px","4px")]};function D(e,t){if(!t)return[];const n=e??N.LINESTYLE_SOLID;if("mixed"!==t&&t>4)return P["style-mixed_thickness-large"]||[];const o="mixed"===n?"mixed":B(n);return P[`style-${o}_thickness-${"mixed"===t?"mixed":t}`]||[]}function B(e){switch(e){case N.LINESTYLE_SOLID:return"SOLID";case N.LINESTYLE_DOTTED:return"DOTTED";case N.LINESTYLE_DASHED:return"DASHED";default:return"UNKNOWN"}}var O=n(229144),L=n(711556);function M(e){const{value:t,items:s,onChange:r,className:i}=e;return o.createElement("div",{className:a()(L.container,i)},o.createElement("div",{className:L.title},y.t(null,void 0,n(228603))),o.createElement(w,{name:"color_picker_line_style_select",onChange:r,values:s,selectedValues:"mixed"===t?[]:[t],renderItemContent:R}))}function R(e,t){const n=function(e,t=1){const n=B(e);return k[`style-${n}_thickness-${t}`]||null}(e,1);return n?o.createElement("div",{className:L.lineContainer},Array.from({length:n.repeat}).map(((e,s)=>{const r=n?.segmentsGaps?.[s]||n?.segmentsGap;return o.createElement("div",{key:s,className:a()(L.lineSegment,t&&L.checked),style:{width:n.width,height:n.height,...0!==s&&{[(0,O.isRtl)()?"marginRight":"marginLeft"]:r}}})}))):null}var V=n(744885);function A(e){const{className:t,selectOpacity:n=void 0!==e.opacity,thickness:s,lineStyle:r,color:i,disabled:l,opacity:c=1,onColorChange:u,onOpacityChange:p,onThicknessChange:d,onLineStyleChange:h,thicknessItems:m,lineStyleItems:f,onPopupClose:b,"data-name":y,repositionOnScroll:C,closeOnScrollOutsideOffset:x}=e,[E,w,S]=(0,g.useCustomColors)(),_=s&&m&&m.length>0;return o.createElement(v,{className:t,disabled:l,color:"mixed"!==i?i:null,selectOpacity:n,opacity:c,selectCustom:!0,customColors:E,onColorChange:u,onOpacityChange:i?p:void 0,onAddColor:w,onRemoveCustomColor:S,button:function(e,t){const n=e||t,u=n?"primary":"default";return o.createElement("div",{className:a()(V.colorPickerWrap,V[`intent-${u}`],V["border-thin"],V["size-medium"],n&&V.highlight,n&&V.focused,l&&V.disabled),"data-role":"button","data-name":s?"color-with-thickness-select":"color-select"},o.createElement("div",{
className:a()(V.colorPicker,l&&V.disabled)},i&&"mixed"!==i?function(){const e=F(i,c),t=c>=.95&&z(i);return o.createElement("div",{className:V.opacitySwatch},o.createElement("div",{style:{backgroundColor:e},className:a()(V.swatch,t&&V.white)}))}():o.createElement("div",{className:V.placeholderContainer},o.createElement("div",{className:"mixed"===i?V.mixedColor:V.placeholder})),(void 0!==r||s)&&function(){const e=i&&"mixed"!==i?F(i,c):void 0;if(void 0===r&&!s)return null;const t=D(r,s);if(!t||Array.isArray(t)&&!t.length)return null;if(Array.isArray(t))return o.createElement("div",{className:V.overflowContainer},o.createElement("div",{className:a()(V.linePropertyContainer,V.multiProperty,z(i)&&V.whiteContainer)},t.map(((t,n)=>o.createElement("div",{key:n,className:V.lineItem,style:{marginTop:z(i)&&t?.marginTop?`calc(${t.marginTop} - 2px)`:t?.marginTop}},N(t,e))))));return o.createElement("div",{className:V.overflowContainer},o.createElement("div",{className:a()(V.linePropertyContainer,z(i)&&V.whiteContainer)},N(t,e)))}()),n&&o.createElement("span",{className:V.shadow}))},onPopupClose:b,"data-name":y,repositionOnScroll:C,closeOnScrollOutsideOffset:x},_&&o.createElement(T,{value:s,items:m,onChange:function(e){d?.(e)}}),void 0!==r&&f&&f?.length>0&&o.createElement(M,{className:a()(_&&V.lineStyleSelect),value:r,items:f,onChange:function(e){h?.(e)}}));function N(e,t){return Array.from({length:e.repeat}).map(((n,s)=>{const r=e?.segmentsGaps?.[s]||e?.segmentsGap,l=z(i)&&r?`calc(${r} - 2px)`:r;return o.createElement("div",{key:s,className:a()(V.lineSegment,z(i)&&V.white),style:{width:e.width,height:e.height,backgroundColor:t,...0!==s&&{[(0,O.isRtl)()?"marginRight":"marginLeft"]:l}}})}))}}function F(e,t){return e?(0,f.generateColor)(e,(0,f.alphaToTransparency)(t),!0):"#000000"}function z(e){return!!e&&e.toLowerCase()===b.white}},377707:(e,t,n)=>{"use strict";n.d(t,{defaultLineStyleItems:()=>c,lineStyleItemValues:()=>l});var o=n(984078),s=n(977912),a=n(200501),r=n(123851),i=n(357740);const l=[{type:s.LINESTYLE_SOLID,icon:a,label:o.t(null,void 0,n(903554))},{type:s.LINESTYLE_DASHED,icon:r,label:o.t(null,void 0,n(488123))},{type:s.LINESTYLE_DOTTED,icon:i,label:o.t(null,void 0,n(27390))}],c=l.map((e=>e.type))},193315:(e,t,n)=>{"use strict";n.d(t,{SymbolInputsButton:()=>x});var o=n(50959),s=n(497754),a=n.n(s),r=n(609838),i=n(650151),l=n(753327),c=n(910549),u=n(534934),p=n(296611),d=n(357092),h=n(558323),m=n(27950),v=n(955261),g=n(720911),f=n(707002),b=n(626800),y=n(854209);function C(e){const{symbol:t,onSymbolChanged:s,disabled:i,className:p}=e,[v,g]=(0,o.useState)(t),C=(0,o.useContext)(l.SlotContext),x=(0,o.useContext)(c.PopupContext);let E;return u.enabled("symbol_search_option_chain_selector")&&({quotes:E}=useSymbolQuotes(matchesOptionPattern(v)?v:null)),o.createElement(m.EditButton,{value:v,onClick:function(){const e=function(e){const t=(0,f.tokenize)(e);return(0,f.isSpread)(t)}(v)?v:(0,b.safeShortName)(v),t="option"===E?.type,o=E?.["underlying-symbol"],a=u.enabled("symbol_search_option_chain_selector")&&t&&o?{type:"option",
value:v,underlying:o}:e,i=(0,d.getSymbolSearchCompleteOverrideFunction)();(0,h.showSymbolSearchItemsDialog)({onSearchComplete:e=>{i(e[0].symbol,e[0].result).then((e=>{s(e.symbol),g(e.name)}))},dialogTitle:r.t(null,void 0,n(963245)),defaultValue:a,manager:C,onClose:()=>{x&&x.focus()},searchInitiationPoint:"indicatorInputs",enableOptionsChain:u.enabled("symbol_search_option_chain_selector"),showSpreadActions:u.enabled("show_spread_operators")&&u.enabled("studies_symbol_search_spread_operators")})},disabled:i,className:a()(p,u.enabled("uppercase_instrument_names")&&y.uppercase)})}function x(e){if("definition"in e){const{propType:t,properties:n,id:s,title:a="",solutionId:r}=e.definition,l=n[t],c=l.value()||"",u=e=>{l.setValue(e)};return o.createElement(v.CommonSection,{id:s,title:a,solutionId:r},o.createElement(g.CellWrap,null,o.createElement(C,{symbol:(0,i.ensureDefined)(c),onSymbolChanged:u})))}{const{study:t,value:n,input:{id:s,name:r},onChange:l,disabled:c,hasTooltip:u}=e,d=e=>{const n=(0,p.getInternalSymbolName)(e,t);l(n,s,r)};return o.createElement(C,{symbol:(0,i.ensureDefined)(n),onSymbolChanged:d,disabled:c,className:a()(u&&y.hasTooltip)})}}},558323:(e,t,n)=>{"use strict";n.d(t,{showSymbolSearchItemsDialog:()=>l});var o=n(50959),s=n(753327),a=n(63192),r=n(760299),i=n(157129);function l(e){const{symbolTypeFilter:t,initialMode:n="symbolSearch",autofocus:l=!0,defaultValue:c,showSpreadActions:u,selectSearchOnInit:p,onSearchComplete:d,dialogTitle:h,placeholder:m,fullscreen:v,initialScreen:g,wrapper:f,dialog:b,contentItem:y,onClose:C,onOpen:x,footer:E,symbolTypes:w,searchInput:S,emptyState:_,hideMarkedListFlag:T,dialogWidth:N="auto",manager:I,shouldReturnFocus:k,onSymbolFiltersParamsChange:P,onEmptyResults:D,customSearchSymbols:B,enableOptionsChain:O,disableRecents:L,overrideQueryParams:M,hiddenFilterIds:R,showRecents:V,searchInitiationPoint:A,selectedSymbolSettingsKey:F,filterValuesSettingsKey:z}=e;if(a.dialogsOpenerManager.isOpened("SymbolSearch")||a.dialogsOpenerManager.isOpened("ChangeIntervalDialog"))return;const W=document.createElement("div"),q=o.createElement(s.SlotContext.Provider,{value:I??null},o.createElement(r.SymbolSearchItemsDialog,{symbolTypeFilter:t,onClose:Z,initialMode:n,defaultValue:c,showSpreadActions:u,hideMarkedListFlag:T,selectSearchOnInit:p,onSearchComplete:d,dialogTitle:h,placeholder:m,fullscreen:v,initialScreen:g,wrapper:f,dialog:b,contentItem:y,footer:E,symbolTypes:w,searchInput:S,emptyState:_,autofocus:l,dialogWidth:N,shouldReturnFocus:k,onSymbolFiltersParamsChange:P,onEmptyResults:D,customSearchSymbols:B,enableOptionsChain:O,disableRecents:L,overrideQueryParams:M,hiddenFilterIds:R,showRecents:V,searchInitiationPoint:A,selectedSymbolSettingsKey:F,filterValuesSettingsKey:z})),H=(0,i.createReactRoot)(q,W);function Z(){H.unmount(),a.dialogsOpenerManager.setAsClosed("SymbolSearch"),C&&C()}return a.dialogsOpenerManager.setAsOpened("SymbolSearch"),x&&x(),{close:Z}}},39290:(e,t,n)=>{"use strict";n.d(t,{createAdapter:()=>r,doesStudyLikeAffectSave:()=>i});var o=n(597024),s=n(991543),a=n(515822)
;function r(e){if((0,o.isLineTool)(e))return{isPine:()=>!1,isStandardPine:()=>!1,canOverrideMinTick:()=>!1,resolvedSymbolInfoBySymbol:()=>{throw new TypeError("Only study is supported.")},symbolsResolved:()=>{throw new TypeError("Only study is supported.")},parentSources:()=>{throw new TypeError("Only study is supported.")},getAllChildren:()=>[],sourceId:()=>{throw new TypeError("Only study is supported.")},inputs:()=>({}),parentSourceForInput:()=>{throw new TypeError("Only study is supported.")}};if((0,a.isStudy)(e))return e;if("isInputsStudy"in e)return e;throw new TypeError("Unsupported source type.")}function i(e){return(0,a.isStudy)(e)||!s.lineToolsDoNotAffectChartInvalidation}},771586:(e,t,n)=>{"use strict";n.d(t,{useDefinitionProperty:()=>a});var o=n(50959),s=n(653898);const a=e=>{const t="property"in e?e.property:void 0,n="defaultValue"in e?e.defaultValue:e.property.value(),[a,r]=(0,o.useState)(t?t.value():n);(0,o.useEffect)((()=>{if(t){const n={};return r(t.value()),t.subscribe(n,(t=>{const n=t.value();e.handler&&e.handler(n),r(n)})),()=>{t.unsubscribeAll(n)}}return()=>{}}),[t]);return[a,e=>{if(void 0!==t){const n=t.value();s.logger.logNormal(`Changing property value from "${n}" to "${e}"`),t.setValue(e)}}]}},720911:(e,t,n)=>{"use strict";n.d(t,{CellWrap:()=>i});var o=n(50959),s=n(497754),a=n.n(s),r=n(758123);function i(e){return o.createElement("div",{className:a()(r.wrap,e.className)},e.children)}},76882:(e,t,n)=>{"use strict";n.d(t,{CheckableTitle:()=>c});var o=n(50959),s=n(302946),a=n(771586);function r(e){const{property:t,...n}=e,[r,i]=(0,a.useDefinitionProperty)({property:t}),l="mixed"===r;return o.createElement(s.Checkbox,{...n,name:"toggle-enabled",checked:l||r,indeterminate:l,onChange:function(){i("mixed"===r||!r)}})}var i=n(720911),l=n(936730);function c(e){const{property:t,disabled:n,title:s,className:a,name:c}=e,u=o.createElement("span",{className:l.title},s);return o.createElement(i.CellWrap,{className:a},t?o.createElement(r,{name:c,className:l.checkbox,property:t,disabled:n,label:u,labelAlignBaseline:!0}):u)}},955261:(e,t,n)=>{"use strict";n.d(t,{CommonSection:()=>r});var o=n(50959),s=(n(586240),n(734914)),a=n(76882);n(737563),n(737402),n(970724);function r(e){const{id:t,offset:n,disabled:r,checked:i,title:l,children:c,solutionId:u,infoTooltip:p,dialogContent:d}=e;return o.createElement(s.PropertyTable.Row,null,o.createElement(s.PropertyTable.Cell,{placement:"first",verticalAlign:"adaptive",offset:n,"data-section-name":t,colSpan:Boolean(c)?void 0:2,checkableTitle:!0},o.createElement(a.CheckableTitle,{name:`is-enabled-${t}`,title:l,disabled:r,property:i,dialogContent:d}),u&&!Boolean(c)&&!1,!1,p&&!Boolean(c)&&!1),Boolean(c)&&o.createElement(s.PropertyTable.Cell,{placement:"last","data-section-name":t},c,u&&!1,p&&!1))}},852830:(e,t,n)=>{"use strict";n.d(t,{GroupTitleSection:()=>l});var o=n(50959),s=n(734914),a=n(76882),r=n(497754),i=n(765032);function l(e){return o.createElement(s.PropertyTable.Row,null,o.createElement(s.PropertyTable.Cell,{className:r(i.titleWrap,e.rowClassName),
placement:"first",verticalAlign:"adaptive",colSpan:2,"data-section-name":e.name,checkableTitle:!0},o.createElement(a.CheckableTitle,{title:e.title,name:`is-enabled-${e.name}`,className:i.title})))}},653898:(e,t,n)=>{"use strict";n.d(t,{logger:()=>o});const o=(0,n(671945).getLogger)("Platform.GUI.PropertyDefinitionTrace")},886176:(e,t,n)=>{"use strict";n.d(t,{getChartTimezoneOffsetMs:()=>a,getTimezoneName:()=>s});var o=n(453253);function s(e){const t=e.model().timezone();if("exchange"!==t)return t;const n=e.model().mainSeries().symbolInfo();return n?.timezone}function a(e,t){if(void 0===t)return 0;return(0,o.get_timezone)(t).offset_utc(e)}},63192:(e,t,n)=>{"use strict";n.d(t,{DialogsOpenerManager:()=>o,dialogsOpenerManager:()=>s});class o{constructor(){this._storage=new Map}setAsOpened(e,t){this._storage.set(e,t)}setAsClosed(e){this._storage.delete(e)}isOpened(e){return this._storage.has(e)}getDialogPayload(e){return this._storage.get(e)}}const s=new o},44093:(e,t,n)=>{"use strict";n.d(t,{ColorPicker:()=>q});var o=n(50959),s=n(497754),a=n.n(s),r=n(609838),i=n(578601),l=n(382665),c=n(724377),u=n(650151),p=n(601227),d=n(624216),h=n(192063),m=n(860184),v=n(865266),g=n(993544),f=n(69825);const b=4;function y(e){const{color:t,selected:a,onSelect:i,onSwatchRemove:l}=e,[c,y]=(0,o.useState)(!1),[C,x]=(0,v.useRovingTabindexElement)(null),E=Boolean(l)&&!p.CheckMobile.any();return o.createElement(o.Fragment,null,o.createElement("button",{ref:C,style:t?{color:t}:void 0,className:s(f.swatch,c&&f.hover,a&&f.selected,!t&&f.empty,String(t).toLowerCase()===m.white&&f.white),onClick:function(){i(t)},onContextMenu:E?w:void 0,tabIndex:x,"data-role":"swatch"}),E&&o.createElement(d.PopupMenu,{isOpened:c,onClose:w,position:function(){const e=(0,u.ensureNotNull)(C.current).getBoundingClientRect();return{x:e.left,y:e.top+e.height+b}},onClickOutside:w},o.createElement(h.PopupMenuItem,{className:f.contextItem,label:r.t(null,void 0,n(989984)),icon:g,onClick:function(){w(),(0,u.ensureDefined)(l)()},dontClosePopup:!0})));function w(){y(!c)}}const C=10;function x(e){const{colors:t,color:n,children:s,onSelect:a,onRemoveCustomColor:r}=e;if(!t)return null;const i=n?(0,c.parseRgb)(String(n)):void 0,u=(0,l.default)(t,C);return o.createElement("div",{className:f.swatches},u.map(((e,t)=>o.createElement("div",{className:f.row,"data-role":"row",key:t},e.map(((e,n)=>o.createElement(y,{key:String(e)+n,color:e,selected:i&&(0,c.areEqualRgb)(i,(0,c.parseRgb)(String(e))),onSelect:p,onSwatchRemove:r?()=>function(e,t){const n=e*C+t;r?.(n)}(t,n):void 0})))))),s);function p(e){a&&a(e)}}var E=n(939075),w=n(805184);function S(e){const t=`Invalid RGB color: ${e}`;if(null===e)throw new Error(t);const n=e.match(/^#?([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i);if(null===n)throw new Error(t);const[,o,s,a]=n;if(!o||!s||!a)throw new Error(t);const r=parseInt(o,16)/255,i=parseInt(s,16)/255,l=parseInt(a,16)/255,c=Math.max(r,i,l),u=Math.min(r,i,l);let p;const d=c,h=c-u,m=0===c?0:h/c;if(c===u)p=0;else{switch(c){case r:p=(i-l)/h+(i<l?6:0);break;case i:p=(l-r)/h+2;break;case l:
p=(r-i)/h+4;break;default:p=0}p/=6}return{h:p,s:m,v:d}}var _=n(920057),T=n(180185),N=n(825850),I=n(649339);const k=[37,39,38,40],P=.01;class D extends o.PureComponent{constructor(){super(...arguments),this._container=null,this._refContainer=e=>{this._container=e},this._handlePosition=e=>{const{hsv:{h:t},onChange:n}=this.props;if(!n)return;const o=(0,u.ensureNotNull)(this._container).getBoundingClientRect(),s=e.clientX-o.left,a=e.clientY-o.top;n({h:t,s:(0,N.clamp)(s/o.width,0,1),v:(0,N.clamp)(1-a/o.height,0,1)})},this._handleKeyDown=e=>{const{hsv:{h:t,s:n,v:o},onChange:s}=this.props,a=(0,T.hashFromEvent)(e);if(!s||!k.includes(a))return;if(37===a||39===a){return void s({h:t,s:(0,N.clamp)(37===a?n-P:n+P,0,1),v:o})}s({h:t,s:n,v:(0,N.clamp)(40===a?o-P:o+P,0,1)})},this._mouseDown=e=>{window.addEventListener("mouseup",this._mouseUp),window.addEventListener("mousemove",this._mouseMove)},this._mouseUp=e=>{window.removeEventListener("mousemove",this._mouseMove),window.removeEventListener("mouseup",this._mouseUp),this._handlePosition(e)},this._mouseMove=(0,_.default)(this._handlePosition,100),this._handleTouch=e=>{this._handlePosition(e.nativeEvent.touches[0])}}render(){const{className:e,hsv:{h:t,s:n,v:s}}=this.props,r=`hsl(${360*t}, 100%, 50%)`;return o.createElement("div",{tabIndex:0,className:a()(I.accessible,e),onKeyDown:this._handleKeyDown},o.createElement("div",{className:I.saturation,style:{backgroundColor:r},ref:this._refContainer,onMouseDown:this._mouseDown,onTouchStart:this._handleTouch,onTouchMove:this._handleTouch},o.createElement("div",{className:I.pointer,style:{left:100*n+"%",top:100*(1-s)+"%"}})))}}var B=n(161483);class O extends o.PureComponent{constructor(){super(...arguments),this._container=null,this._refContainer=e=>{this._container=e},this._handlePosition=e=>{const{hsv:{s:t,v:n},onChange:o}=this.props;if(!o)return;const s=(0,u.ensureNotNull)(this._container).getBoundingClientRect(),a=e.clientY-s.top;o({h:(0,N.clamp)(a/s.height,0,1),s:t,v:n})},this._handleKeyDown=e=>{const{hsv:{h:t,s:n,v:o},onChange:s}=this.props,a=(0,T.hashFromEvent)(e);if(!s||38!==a&&40!==a)return;s({h:(0,N.clamp)(38===a?t-.01:t+.01,0,1),s:n,v:o})},this._mouseDown=e=>{window.addEventListener("mouseup",this._mouseUp),window.addEventListener("mousemove",this._mouseMove)},this._mouseUp=e=>{window.removeEventListener("mousemove",this._mouseMove),window.removeEventListener("mouseup",this._mouseUp),this._handlePosition(e)},this._mouseMove=(0,_.default)(this._handlePosition,100),this._handleTouch=e=>{this._handlePosition(e.nativeEvent.touches[0])}}render(){const{className:e,hsv:{h:t}}=this.props;return o.createElement("div",{className:a()(B.hue,B.accessible,e),tabIndex:0,onKeyDown:this._handleKeyDown},o.createElement("div",{className:B.pointerContainer,ref:this._refContainer,onMouseDown:this._mouseDown,onTouchStart:this._handleTouch,onTouchMove:this._handleTouch},o.createElement("div",{className:B.pointer,style:{top:100*t+"%"}})))}}var L=n(155778);const M="#000000",R=r.t(null,{context:"Color Picker"},n(155517));class V extends o.PureComponent{
constructor(e){super(e),this._inputRef=o.createRef(),this._handleHSV=e=>{const t=function(e){const{h:t,s:n,v:o}=e;let s,a,r;const i=Math.floor(6*t),l=6*t-i,c=o*(1-n),u=o*(1-l*n),p=o*(1-(1-l)*n);switch(i%6){case 0:s=o,a=p,r=c;break;case 1:s=u,a=o,r=c;break;case 2:s=c,a=o,r=p;break;case 3:s=c,a=u,r=o;break;case 4:s=p,a=c,r=o;break;case 5:s=o,a=c,r=u;break;default:s=0,a=0,r=0}return"#"+[255*s,255*a,255*r].map((e=>("0"+Math.round(e).toString(16)).replace(/.+?([a-f0-9]{2})$/i,"$1"))).join("")}(e)||M;this.setState({color:t,inputColor:A(t),hsv:e}),this.props.onSelect(t)},this._handleInput=e=>{const t=A(e.currentTarget.value);try{const e=S(t),n=`#${t}`;this.setState({color:n,inputColor:t,hsv:e}),this.props.onSelect(n)}catch(e){this.setState({inputColor:t})}},this._handleAddColor=()=>this.props.onAdd(this.state.color);const t=e.color||M;this.state={color:t,inputColor:A(t),hsv:S(t)}}componentDidMount(){p.CheckMobile.any()||this._inputRef.current?.focus()}render(){const{color:e,hsv:t,inputColor:n}=this.state;return o.createElement("div",{className:L.container},o.createElement("div",{className:L.form},o.createElement("div",{className:a()(L.swatch,String(e).toLowerCase()===m.white&&L.white),style:{backgroundColor:e}}),o.createElement("div",{className:L.inputWrap},o.createElement("span",{className:L.inputHash},"#"),o.createElement("input",{ref:this._inputRef,type:"text",className:L.input,value:n,onChange:this._handleInput})),o.createElement("div",{className:L.buttonWrap},o.createElement(w.Button,{size:"s",onClick:this._handleAddColor},R))),o.createElement("div",{className:L.hueSaturationWrap},o.createElement(D,{className:L.saturation,hsv:t,onChange:this._handleHSV}),o.createElement(O,{className:L.hue,hsv:t,onChange:this._handleHSV})))}}function A(e){return e.replace(/^#/,"")}var F=n(330329);const z=r.t(null,{context:"Color Picker"},n(329619)),W=r.t(null,{context:"Color Picker"},n(980936));function q(e){const{color:t,opacity:n,selectCustom:s,selectOpacity:r,customColors:l,onRemoveCustomColor:c,onToggleCustom:u,onOpacityChange:p,menu:d}=e,[h,v]=(0,o.useState)(!1),g="number"==typeof n?n:1,[f,b]=(0,i.useRowsNavigation)();return(0,o.useLayoutEffect)((()=>{d&&d.update()}),[r,d]),h?o.createElement(V,{color:t,onSelect:y,onAdd:function(t){v(!1),u?.(!1);const{onAddColor:n}=e;n&&n(t)}}):o.createElement("div",{className:F.container},o.createElement("div",{ref:f,onKeyDown:b},o.createElement(x,{colors:m.basic,color:t,onSelect:y}),o.createElement(x,{colors:m.extended,color:t,onSelect:y}),o.createElement("div",{className:F.separator}),o.createElement(x,{colors:l,color:t,onSelect:y,onRemoveCustomColor:c},s&&o.createElement(o.Fragment,null,l?.length?o.createElement("button",{title:z,onClick:C,className:a()(F.customButton,F.accessible,"apply-common-tooltip"),tabIndex:-1}):o.createElement("div",{"data-role":"row"},o.createElement("button",{title:z,onClick:C,className:a()(F.customButton,F.accessible,"apply-common-tooltip"),tabIndex:-1}))))),r&&o.createElement(o.Fragment,null,o.createElement("div",{className:F.sectionTitle
},W),o.createElement(E.Opacity,{color:t,opacity:g,onChange:function(e){p&&p(e)}})));function y(t){const{onColorChange:n}=e;n&&n(t,h)}function C(e){v(!0),u?.(!0)}}},939075:(e,t,n)=>{"use strict";n.d(t,{Opacity:()=>c});var o=n(50959),s=n(497754),a=n(650151),r=n(825850),i=n(180185),l=n(598182);class c extends o.PureComponent{constructor(e){super(e),this._container=null,this._pointer=null,this._raf=null,this._refContainer=e=>{this._container=e},this._refPointer=e=>{this._pointer=e},this._handlePosition=e=>{null===this._raf&&(this._raf=requestAnimationFrame((()=>{const t=(0,a.ensureNotNull)(this._container),n=(0,a.ensureNotNull)(this._pointer),o=t.getBoundingClientRect(),s=n.offsetWidth,i=e.clientX-s/2-o.left,l=(0,r.clamp)(i/(o.width-s),0,1);this.setState({inputOpacity:Math.round(100*l).toString()}),this.props.onChange(l),this._raf=null})))},this._onSliderClick=e=>{this._handlePosition(e.nativeEvent),this._dragSubscribe()},this._mouseUp=e=>{this.setState({isPointerDragged:!1}),this._dragUnsubscribe(),this._handlePosition(e)},this._mouseMove=e=>{this.setState({isPointerDragged:!0}),this._handlePosition(e)},this._onTouchStart=e=>{this._handlePosition(e.nativeEvent.touches[0])},this._handleTouch=e=>{this.setState({isPointerDragged:!0}),this._handlePosition(e.nativeEvent.touches[0])},this._handleTouchEnd=()=>{this.setState({isPointerDragged:!1})},this._handleInput=e=>{const t=e.currentTarget.value,n=Number(t)/100;this.setState({inputOpacity:t}),Number.isNaN(n)||n>1||this.props.onChange(n)},this._handleKeyDown=e=>{const t=(0,i.hashFromEvent)(e);if(37!==t&&39!==t)return;e.preventDefault();const n=Number(this.state.inputOpacity);37===t&&0!==n&&this._changeOpacity(n-1),39===t&&100!==n&&this._changeOpacity(n+1)},this.state={inputOpacity:Math.round(100*e.opacity).toString(),isPointerDragged:!1}}componentWillUnmount(){null!==this._raf&&(cancelAnimationFrame(this._raf),this._raf=null),this._dragUnsubscribe()}render(){const{color:e,opacity:t,hideInput:n,disabled:a}=this.props,{inputOpacity:r,isPointerDragged:i}=this.state,c={color:e||void 0};return o.createElement("div",{className:l.opacity},o.createElement("div",{className:s(l.opacitySlider,l.accessible),style:c,tabIndex:a?-1:0,ref:this._refContainer,onMouseDown:this._onSliderClick,onTouchStart:this._onTouchStart,onTouchMove:this._handleTouch,onTouchEnd:this._handleTouchEnd,onKeyDown:this._handleKeyDown,"aria-disabled":a},o.createElement("div",{className:l.opacitySliderGradient,style:{backgroundImage:`linear-gradient(90deg, transparent, ${e})`}}),o.createElement("div",{className:l.opacityPointerWrap},o.createElement("div",{className:s(l.pointer,i&&l.dragged),style:{left:100*t+"%"},ref:this._refPointer}))),!n&&o.createElement("div",{className:l.opacityInputWrap},o.createElement("input",{type:"text",className:l.opacityInput,value:r,onChange:this._handleInput}),o.createElement("span",{className:l.opacityInputPercent},"%")))}_dragSubscribe(){const e=(0,a.ensureNotNull)(this._container).ownerDocument;e&&(e.addEventListener("mouseup",this._mouseUp),
e.addEventListener("mousemove",this._mouseMove))}_dragUnsubscribe(){const e=(0,a.ensureNotNull)(this._container).ownerDocument;e&&(e.removeEventListener("mousemove",this._mouseMove),e.removeEventListener("mouseup",this._mouseUp))}_changeOpacity(e){this.setState({inputOpacity:e.toString()}),this.props.onChange(e/100)}}},860184:(e,t,n)=>{"use strict";n.d(t,{basic:()=>i,extended:()=>c,white:()=>s});var o=n(829609);const s=o.colorsPalette["color-white"],a=["ripe-red","tan-orange","banana-yellow","iguana-green","minty-green","sky-blue","tv-blue","deep-blue","grapes-purple","berry-pink"],r=[200,300,400,500,600,700,800,900].map((e=>`color-cold-gray-${e}`));r.unshift("color-white"),r.push("color-black"),a.forEach((e=>{r.push(`color-${e}-500`)}));const i=r.map((e=>o.colorsPalette[e])),l=[];[100,200,300,400,700,900].forEach((e=>{a.forEach((t=>{l.push(`color-${t}-${e}`)}))}));const c=l.map((e=>o.colorsPalette[e]))},350324:(e,t,n)=>{"use strict";n.d(t,{DateInput:()=>m});var o=n(50959),s=n(609838),a=n(878112),r=n(102691),i=n(481476),l=n(497754),c=n.n(l),u=n(490132);function p(e){const{className:t,text:n}=e;return o.createElement("span",{className:c()(u.tooltip,t)},n)}var d=n(598475);const h=n(121187);function m(e){const{hasErrors:t,onClick:l,errors:c,className:u,theme:m=h,...v}=e;return o.createElement("div",{className:m.container,onClick:l},o.createElement(i.FormInput,{...v,className:m.date,hasErrors:t,errors:[],endSlot:!t&&o.createElement(r.EndSlot,{icon:!0,interactive:!1},o.createElement(a.Icon,{icon:d,className:m.icon}))}),t&&o.createElement(p,{text:s.t(null,void 0,n(527254)),className:m.tooltip}))}},444144:(e,t,n)=>{"use strict";n.d(t,{ControlDisclosureView:()=>h});var o=n(50959),s=n(497754),a=n.n(s),r=n(525388),i=n(34735),l=n(615617),c=n(102691),u=n(904925),p=n(763802),d=n(805092);const h=o.forwardRef(((e,t)=>{const{listboxId:n,className:s,listboxClassName:h,listboxTabIndex:m,hideArrowButton:v,matchButtonAndListboxWidths:g,popupPosition:f,disabled:b,isOpened:y,scrollWrapReference:C,repositionOnScroll:x,closeOnHeaderOverlap:E,listboxReference:w,size:S="small",onClose:_,onOpen:T,onListboxFocus:N,onListboxBlur:I,onListboxKeyDown:k,buttonChildren:P,children:D,caretClassName:B,buttonContainerClassName:O,listboxAria:L,dataQaId:M,...R}=e,V=(0,o.useRef)(null),A=!v&&o.createElement(c.EndSlot,null,o.createElement(p.Caret,{isDropped:y,disabled:!0,className:B}));return o.createElement(u.PopupMenuDisclosureView,{buttonRef:V,listboxId:n,listboxClassName:h,listboxTabIndex:m,isOpened:y,onClose:_,onOpen:T,listboxReference:w,scrollWrapReference:C,onListboxFocus:N,onListboxBlur:I,onListboxKeyDown:k,listboxAria:L,dataQaId:(0,l.dataQaIds)("popup-menu-container",M),matchButtonAndListboxWidths:g,popupPosition:f,button:o.createElement(i.ControlSkeleton,{...R,"data-qa-id":(0,l.dataQaIds)("ui-kit-disclosure-control",M),"data-role":"listbox",disabled:b,className:a()(d.button,s),size:S,ref:(0,r.useMergedRefs)([V,t]),middleSlot:o.createElement(c.MiddleSlot,null,o.createElement("span",{className:a()(d["button-children"],v&&d.hiddenArrow,O)},P)),
endSlot:A}),popupChildren:D,repositionOnScroll:x,closeOnHeaderOverlap:E})}));h.displayName="ControlDisclosureView"},953517:(e,t,n)=>{"use strict";n.d(t,{useKeyboardActionHandler:()=>o.useKeyboardActionHandler,useKeyboardClose:()=>o.useKeyboardClose,useKeyboardEventHandler:()=>o.useKeyboardEventHandler,useKeyboardOpen:()=>o.useKeyboardOpen,useKeyboardToggle:()=>o.useKeyboardToggle});var o=n(865968)},206397:(e,t,n)=>{"use strict";n.d(t,{useCustomColors:()=>c});var o=n(50959),s=n(748838),a=n(559410);function r(e,t){(0,o.useEffect)((()=>(a.subscribe(e,t,null),()=>{a.unsubscribe(e,t,null)})),[e,t])}var i,l=n(724377);function c(){const[e,t]=(0,o.useState)((0,s.getJSON)("pickerCustomColors",[]));r("add_new_custom_color",(n=>t(u(n,e)))),r("remove_custom_color",(n=>t(p(n,e))));const n=(0,o.useCallback)((t=>{const n=t?(0,l.parseRgb)(t):null;e.some((e=>null!==e&&null!==n&&(0,l.areEqualRgb)((0,l.parseRgb)(e),n)))||(a.emit("add_new_custom_color",t),(0,s.setJSON)("pickerCustomColors",u(t,e)))}),[e]),i=(0,o.useCallback)((t=>{(t>=0||t<e.length)&&(a.emit("remove_custom_color",t),(0,s.setJSON)("pickerCustomColors",p(t,e)))}),[e]);return[e,n,i]}function u(e,t){const n=t.slice();return n.push(e),n.length>29&&n.shift(),n}function p(e,t){return t.filter(((t,n)=>e!==n))}!function(e){e.SettingsKey="pickerCustomColors",e.GlobalAddEventName="add_new_custom_color",e.GlobalRemoveEventName="remove_custom_color",e[e.MaxColors=29]="MaxColors"}(i||(i={}))},737402:(e,t,n)=>{"use strict";n.d(t,{useSafeMatchMedia:()=>o.useSafeMatchMedia});var o=n(671129)},737563:(e,t,n)=>{"use strict";n.d(t,{IconQuestionInformation:()=>D,IconQuestionInformationButton:()=>B});var o,s=n(50959),a=n(497754),r=n.n(a),i=n(800417),l=n(878112),c=n(482353),u=n.n(c),p=n(527941),d=n.n(p),h=n(499084),m=n.n(h),v=n(530162),g=n.n(v),f=n(524713),b=n.n(f);!function(e){e.Small="small",e.Medium="medium",e.Large="large"}(o||(o={}));const y="small";var C,x;!function(e){e.Default="default",e.Danger="danger",e.Warning="warning",e.Success="success",e.Neutral="neutral",e.NeutralLight="neutral-light"}(C||(C={})),function(e){e.Info="info",e.Question="question",e.Check="check",e.Exclamation="exclamation"}(x||(x={}));const E={info:d(),question:u(),check:m(),exclamation:g()},w=s.forwardRef(((e,t)=>s.createElement("span",{...e,ref:t,className:r()(e.className,b()["no-active-state"])}))),S=s.forwardRef(((e,t)=>{const{icon:n="exclamation",intent:o="default",ariaLabel:a,tooltip:c,className:u,renderComponent:p=w,tabIndex:d=0,size:h=y,onFocus:m,onBlur:v,onClick:g,...f}=e,C=E[n]??n;return s.createElement(p,{className:r()(u,b().iconWrapper,b()[o],b()[h]),title:c,ref:t,tabIndex:d,onFocus:m,onBlur:v,onClick:g,...(0,i.filterDataProps)(f)},s.createElement(l.Icon,{"aria-hidden":!a,"aria-label":a,icon:C,className:b().icon}))}));var _=n(139784),T=n(744471),N=n(589390),I=n.n(N);function k(){document.removeEventListener("scroll",k),document.removeEventListener("touchstart",k),document.removeEventListener("mouseout",k),(0,T.hide)()}const P=e=>{(0,T.showOnElement)(e.currentTarget,{tooltipDelay:0}),
document.addEventListener("scroll",k),document.addEventListener("touchstart",k),document.addEventListener("mouseout",k)},D=(0,s.forwardRef)(((e,t)=>{const{className:n,onClick:o=P,doNotShowTooltipOnTouch:r,size:i,...l}=e,{tooltip:c,className:u,...p}=(0,_.useTooltip)({tooltip:e.tooltip,doNotShowTooltipOnTouch:!1,showTooltip:T.showOnElement,hideTooltip:T.hide,onClick:o},t);return s.createElement(S,{className:a(n,I()["icon-wrapper"],c&&I()["with-tooltip"],u),tooltip:c,size:i,...l,...p})})),B=((0,s.forwardRef)(((e,t)=>{const{className:n,href:o,rel:r,target:i,...l}=e,c=(0,s.useMemo)((()=>(0,s.forwardRef)(((e,t)=>s.createElement("a",{href:o,rel:r,target:i,ref:t,...e})))),[o,r,i]);return s.createElement(D,{...l,className:a(n,I()["with-link"]),renderComponent:c,ref:t,doNotShowTooltipOnTouch:!0})})),(0,s.forwardRef)(((e,t)=>{const{className:n,withActiveState:o,...r}=e,i=(0,s.useMemo)((()=>(0,s.forwardRef)(((e,t)=>s.createElement("button",{...e,ref:t,type:"button"})))),[]);return s.createElement(D,{...r,className:a(n,!o&&I()["no-active-state"]),renderComponent:i,ref:t})})))},763802:(e,t,n)=>{"use strict";n.d(t,{Caret:()=>o.Caret,CaretButton:()=>o.CaretButton});var o=n(148982)},529631:(e,t,n)=>{"use strict";n.d(t,{Select:()=>C});var o=n(50959),s=n(855393),a=n(414823),r=n(525388),i=n(930617),l=n(192063),c=n(290484),u=n(920057);var p=n(648621),d=n(953517),h=n(444144),m=n(942544),v=n(229144),g=n(252428);function f(e){return!e.readonly}function b(e,t){return t?.id??(0,a.createDomId)(e,"item",t?.value)}function y(e){const{selectedItem:t,placeholder:n}=e;if(!t)return o.createElement("span",{className:g.placeholder},n);const s=t.selectedContent??t.content??t.value;return o.createElement("span",null,s)}const C=o.forwardRef(((e,t)=>{const{id:n,menuClassName:g,menuItemClassName:C,tabIndex:x,disabled:E,highlight:w,intent:S,hideArrowButton:_,placeholder:T,addPlaceholderToItems:N=!1,value:I,"aria-labelledby":k,onFocus:P,onBlur:D,onClick:B,onChange:O,onKeyDown:L,repositionOnScroll:M=!0,openMenuOnEnter:R=!0,"aria-describedby":V,"aria-invalid":A,...F}=e;let{items:z}=e;if(T&&N){z=[{value:void 0,content:T,id:(0,a.createDomId)(n,"placeholder")},...z]}const{listboxId:W,isOpened:q,isFocused:H,buttonTabIndex:Z,listboxTabIndex:K,highlight:G,intent:U,open:Y,onOpen:$,close:Q,toggle:X,buttonFocusBindings:J,onButtonClick:j,buttonRef:ee,listboxRef:te,buttonAria:ne}=(0,m.useControlDisclosure)({id:n,disabled:E,buttonTabIndex:x,intent:S,highlight:w,onFocus:P,onBlur:D,onClick:B}),oe=z.filter(f),se=oe.find((e=>e.value===I)),[ae,re]=o.useState(T&&N?oe[0].value:se?.value),[ie,le,ce]=(0,i.useKeepActiveItemIntoView)({activeItem:se});(0,s.useIsomorphicLayoutEffect)((()=>re(se?.value)),[I]);const ue=(0,a.joinDomIds)(k,n),pe=ue.length>0?ue:void 0,de=(0,o.useMemo)((()=>({role:"listbox","aria-labelledby":k,"aria-activedescendant":b(n,se)})),[k,se]),he=(0,o.useCallback)((e=>e.value===ae),[ae]),me=(0,o.useCallback)((()=>(Q(),O&&O(ae))),[Q,O,ae]),ve=(0,p.useItemsKeyboardNavigation)("vertical",v.isRtl,oe,he,(e=>{re(e.value)}),!1,{next:[40],previous:[38]}),ge=(0,
d.useKeyboardToggle)(X,q||R),fe=(0,d.useKeyboardToggle)(me),be=(0,d.useKeyboardClose)(q,Se),ye=(0,d.useKeyboardOpen)(q,Y),Ce=(0,d.useKeyboardEventHandler)([ge,be,ye]),xe=(0,d.useKeyboardEventHandler)([ve,fe,be]),Ee=function(e){const t=(0,o.useRef)(""),n=(0,o.useMemo)((()=>(0,c.default)((()=>{t.current=""}),500)),[]),s=(0,o.useMemo)((()=>(0,u.default)(e,200)),[e]);return(0,o.useCallback)((e=>{e.key.length>0&&e.key.length<3&&(t.current+=e.key,s(t.current,e),n())}),[n,s])}(((t,n)=>{const o=function(e,t,n){return e.find((e=>{const o=t.toLowerCase();return!e.readonly&&(n?n(e).toLowerCase().startsWith(o):!e.readonly&&("string"==typeof e.content&&e.content.toLowerCase().startsWith(o)||"string"==typeof e.textContent&&e.textContent.toLowerCase().startsWith(o)||String(e.value??"").toLowerCase().startsWith(o)))}))}(oe,t,e.getSearchKey);void 0!==o&&O&&(n.stopPropagation(),q||Y(),O(o.value))}));return o.createElement(h.ControlDisclosureView,{...F,...ne,...J,id:n,role:"button",tabIndex:Z,"aria-owns":ne["aria-controls"],"aria-haspopup":"listbox","aria-labelledby":pe,disabled:E,hideArrowButton:_,isFocused:H,isOpened:q,highlight:G,intent:U,ref:(0,r.useMergedRefs)([ee,t]),onClick:j,onOpen:function(){ce(se,{duration:0}),$()},onClose:Se,onKeyDown:function(e){Ce(e),L&&L(e);e.defaultPrevented||Ee(e)},listboxId:W,listboxTabIndex:K,listboxClassName:g,listboxAria:de,"aria-describedby":V,"aria-invalid":A,listboxReference:te,scrollWrapReference:ie,onListboxKeyDown:function(e){xe(e),e.defaultPrevented||Ee(e)},buttonChildren:o.createElement(y,{selectedItem:se??null,placeholder:T}),repositionOnScroll:M},z.map(((e,t)=>{if(e.readonly)return o.createElement(o.Fragment,{key:`readonly_item_${t}`},e.content);const s=b(n,e);return o.createElement(l.PopupMenuItem,{key:s,id:s,className:C,role:"option","aria-selected":I===e.value,isActive:ae===e.value,label:e.content??e.value,onClick:we,onClickArg:e.value,isDisabled:e.disabled,reference:t=>le(e,t)})})));function we(e){O&&(O(e),re(e))}function Se(){re(se?.value),Q()}}));C.displayName="Select"},957772:e=>{e.exports={titleWrap:"titleWrap-Izz3hpJc",groupFooter:"groupFooter-Izz3hpJc"}},38496:e=>{e.exports={wrapper:"wrapper-JXHzsa7P"}},222629:e=>{e.exports={inlineRow:"inlineRow-D8g11qqA"}},172074:e=>{e.exports={container:"container-QyF09i7Y",hasTooltip:"hasTooltip-QyF09i7Y",datePickerWrapper:"datePickerWrapper-QyF09i7Y",timePickerWrapper:"timePickerWrapper-QyF09i7Y"}},575191:e=>{e.exports={input:"input-ZOx_CVY3",symbol:"symbol-ZOx_CVY3",checkbox:"checkbox-ZOx_CVY3",label:"label-ZOx_CVY3",dropdownMenu:"dropdownMenu-ZOx_CVY3",sessionStart:"sessionStart-ZOx_CVY3",sessionEnd:"sessionEnd-ZOx_CVY3",sessionInputContainer:"sessionInputContainer-ZOx_CVY3",sessionDash:"sessionDash-ZOx_CVY3",inputGroup:"inputGroup-ZOx_CVY3",textarea:"textarea-ZOx_CVY3",inlineGroup:"inlineGroup-ZOx_CVY3",hasTooltip:"hasTooltip-ZOx_CVY3"}},912968:e=>{e.exports={content:"content-tBgV1m0B",cell:"cell-tBgV1m0B",inner:"inner-tBgV1m0B",first:"first-tBgV1m0B",inlineCell:"inlineCell-tBgV1m0B",fill:"fill-tBgV1m0B",top:"top-tBgV1m0B",
topCenter:"topCenter-tBgV1m0B",offset:"offset-tBgV1m0B",inlineRow:"inlineRow-tBgV1m0B",grouped:"grouped-tBgV1m0B",separator:"separator-tBgV1m0B",groupSeparator:"groupSeparator-tBgV1m0B",big:"big-tBgV1m0B",adaptive:"adaptive-tBgV1m0B",checkableTitle:"checkableTitle-tBgV1m0B"}},796782:e=>{e.exports={wrap:"wrap-QutFvTLS",labelWrap:"labelWrap-QutFvTLS",label:"label-QutFvTLS",hasTooltip:"hasTooltip-QutFvTLS"}},2290:(e,t,n)=>{"use strict";n.d(t,{bind:()=>r,setter:()=>i});var o=n(50959),s=n(6934),a=n(886176);function r(e){var t;return t=class extends o.PureComponent{constructor(){super(...arguments),this._onChange=(e,t,n)=>{const{setValue:o}=this.context,{onChange:s}=this.props;i(o,s)(e,t,n)}}render(){const{input:t}=this.props,{values:n,model:s}=this.context;return o.createElement(e,{...this.props,value:n[t.id],tzName:(0,a.getTimezoneName)(s),onChange:this._onChange})}},t.contextType=s.PropertyContext,t}function i(e,t){return(n,o,s)=>{e(o,n,s),t&&t(n,o,s)}}},6934:(e,t,n)=>{"use strict";n.d(t,{PropertyContainer:()=>m,PropertyContext:()=>h});var o=n(50959),s=n(650151),a=n(671945),r=n(609838),i=n(754617),l=n(515822),c=n(991543),u=n(911942);const p=(0,a.getLogger)("Platform.GUI.StudyInputPropertyContainer"),d=new i.TranslatedString("change {propertyName} property",r.t(null,void 0,n(925167))),h=o.createContext(null);class m extends o.PureComponent{constructor(e){super(e),this._setValue=(e,t,n)=>{const{property:o,model:a,study:r}=this.props,h=!(0,l.isStudy)(r),m=(0,s.ensureDefined)(o.child(e));p.logNormal(`Changing property "${e}" value from "${o.value()}" to "${t}"`);const v=new i.TranslatedString(n,(0,u.getTranslatedInputTitle)(n));a.setProperty(m,t,d.format({propertyName:v}),h&&c.lineToolsDoNotAffectChartInvalidation)};const{property:t}=e,n={};t.childNames().forEach((e=>{const o=(0,s.ensureDefined)(t.child(e));n.hasOwnProperty(e)||(n[e]=o.value())})),this.state=n}componentDidMount(){const{property:e,onStudyInputChange:t}=this.props;e.childNames().forEach((n=>{(0,s.ensureDefined)(e.child(n)).subscribe(this,(e=>{const o=e.value();p.logNormal(`Property "${n}" updated to value "${o}"`),this.setState({[n]:o}),t?.(o,n)}))}))}componentWillUnmount(){const{property:e}=this.props;e.childNames().forEach((t=>{(0,s.ensureDefined)(e.child(t)).unsubscribeAll(this)}))}render(){const{study:e,model:t,children:n}=this.props,s={study:e,model:t,values:this.state,setValue:this._setValue};return o.createElement(h.Provider,{value:s},n)}}},307276:(e,t,n)=>{"use strict";n.d(t,{ModelContext:()=>s,bindModel:()=>a});var o=n(50959);const s=o.createContext(null);function a(e,t){return o.createElement(s.Consumer,null,(n=>n?o.createElement(e,{...Object.assign({model:n},t)}):null))}},376954:(e,t,n)=>{"use strict";n.d(t,{StylePropertyContainer:()=>r,StylePropertyContext:()=>a,bindPropertyContext:()=>i});var o=n(50959),s=n(307276);const a=o.createContext(null);class r extends o.PureComponent{constructor(){super(...arguments),this._setValue=(e,t,n)=>{const{model:o,affectSave:s}=this.props
;Array.isArray(e)?o.setProperties(e,e.map((()=>t)),n,s):o.setProperty(e,t,n,!s)}}componentDidMount(){const{property:e}=this.props;e.subscribe(this,(()=>this.forceUpdate()))}componentWillUnmount(){const{property:e}=this.props;e.unsubscribeAll(this)}render(){const e={setValue:this._setValue};return o.createElement(a.Provider,{value:e},this.props.children)}}function i(e,t,n){return(0,s.bindModel)((({model:s})=>o.createElement(r,{model:s,affectSave:n,property:t.property},o.createElement(e,{...t}))),t)}},570795:(e,t,n)=>{"use strict";n.d(t,{IconGroupWrapper:()=>a});var o=n(50959),s=n(38496);function a(e){const{children:t}=e;return o.createElement("div",{className:s.wrapper},t)}},767913:(e,t,n)=>{"use strict";n.d(t,{InputTooltip:()=>a});var o=n(50959),s=n(737563);function a(e){const{className:t,title:n}=e;return o.createElement(s.IconQuestionInformation,{icon:"info",className:t,ariaLabel:n,tooltip:n,tabIndex:-1})}},616261:(e,t,n)=>{"use strict";n.d(t,{getInputGroups:()=>i,isGroup:()=>a,isInputInlines:()=>r});var o,s=n(650151);function a(e){return e.hasOwnProperty("groupType")}function r(e){return a(e)&&"inline"===e.groupType}function i(e){const t=[],n=new Map,o=new Map;return o.set(void 0,new Map),e.forEach((e=>{const{group:a,inline:r}=e;if(void 0!==a||void 0!==r)if(void 0!==a)if(void 0!==r)if(n.has(a)){const t=(0,s.ensureDefined)(n.get(a));let i;o.has(t)?i=(0,s.ensureDefined)(o.get(t)):(i=new Map,o.set(t,i)),l(e,"inline",r,i,t.children)}else{const s={id:r,groupType:"inline",children:[e]},i={id:a,groupType:"group",children:[s]},l=new Map;l.set(r,s),o.set(i,l),n.set(a,i),t.push(i)}else l(e,"group",a,n,t);else{const n=(0,s.ensureDefined)(o.get(void 0));l(e,"inline",(0,s.ensureDefined)(r),n,t)}else t.push(e)})),t}function l(e,t,n,o,a){if(o.has(n))(0,s.ensureDefined)(o.get(n)).children.push(e);else{const s={id:n,groupType:t,children:[e]};o.set(n,s),a.push(s)}}!function(e){e.Inline="inline",e.Group="group"}(o||(o={}))},718406:(e,t,n)=>{"use strict";n.d(t,{InputRow:()=>re});var o=n(50959),s=n(650151),a=n(746399),r=n(63404),i=n(73943),l=n(773113),c=n(497754),u=n.n(c),p=n(654936),d=n(2290),h=n(474443),m=n(575191);class v extends o.PureComponent{constructor(){super(...arguments),this._onChange=e=>{const{input:{id:t,name:n},onChange:o}=this.props;o(e.currentTarget.value,t,n)}}render(){const{input:{defval:e},value:t,disabled:n,onBlur:s,onKeyDown:a,hasTooltip:r}=this.props;return o.createElement(p.InputControl,{className:u()(m.input,r&&m.hasTooltip),value:void 0===t?e:t,onChange:this._onChange,onBlur:s,onKeyDown:a,disabled:n,maxLength:40960})}}const g=(0,h.debounced)(v),f=(0,d.bind)(g);var b=n(296611),y=n(734914);function C(e){const{className:t}=e,n=(0,o.useContext)(y.PropertyTable.InlineRowContext);return o.createElement("div",{className:c(m.inputGroup,n&&m.inlineGroup,t)},e.children)}var x=n(44807);function E(e=""){const[,t="",n="",o="",s=""]=Array.from(e.match(/^(\d\d)(\d\d)-(\d\d)(\d\d)/)||[]);return[`${t}:${n}`,`${o}:${s}`]}class w extends o.PureComponent{constructor(e){super(e),this._onStartPick=e=>{this.setState({startTime:e
},this._onChange)},this._onEndPick=e=>{this.setState({endTime:e},this._onChange)},this._onChange=()=>{const{input:{id:e,name:t},onChange:n}=this.props,{startTime:o,endTime:s}=this.state;n(o.replace(":","")+"-"+s.replace(":",""),e,t)};const t=e.value||e.input.defval,[n,o]=E(t);this.state={prevValue:t,startTime:n,endTime:o}}render(){const{startTime:e,endTime:t}=this.state,{hasTooltip:n,disabled:a}=this.props;return o.createElement(C,{className:u()(n&&m.hasTooltip)},o.createElement("div",{className:m.sessionStart},o.createElement(x.TimeInput,{className:u()(m.input,m.sessionInputContainer),name:"start",value:(0,s.ensureDefined)(e),onChange:this._onStartPick,disabled:a}),o.createElement("span",{className:m.sessionDash},"")),o.createElement("div",{className:m.sessionEnd},o.createElement(x.TimeInput,{className:u()(m.input,m.sessionInputContainer),name:"end",value:(0,s.ensureDefined)(t),onChange:this._onEndPick,disabled:a})))}static getDerivedStateFromProps(e,t){if(e.value===t.prevValue)return t;const[n,o]=E(e.value);return{prevValue:e.value,startTime:n,endTime:o}}}const S=(0,d.bind)(w);var _=n(534934),T=n(912133),N=n(204162),I=n(6934),k=n(529631),P=n(911942);class D extends o.PureComponent{constructor(){super(...arguments),this._onChange=e=>{const{input:{id:t,name:n},onChange:o}=this.props;o(e,t,n)}}render(){const{input:{id:e,defval:t,options:n,optionsTitles:s},value:a,disabled:r,hasTooltip:i}=this.props,l=n.map((e=>{const t=s&&s[e]?s[e]:e;return{value:e,content:(0,P.getTranslatedInputTitle)(t)}})),c=void 0!==a&&n.includes(a)?a:t;return o.createElement(k.Select,{id:e,className:u()(m.input,i&&m.hasTooltip),menuClassName:m.dropdownMenu,value:c,items:l,onChange:this._onChange,disabled:r})}}const B=(0,d.bind)(D);var O=n(39290),L=n(515822);var M=n(696486);const R={};["open","high","low","close","hl2","hlc3","ohlc4","hlcc4"].forEach((e=>{R[e]=M.priceSourceTitles[e]}));class V extends o.PureComponent{render(){const{input:e}=this.props,{study:t,model:n}=this.context;let r={...R};delete r.hlcc4;const i=(0,O.createAdapter)(t);if(t&&this._isStudy(t)&&t.isChildStudy()){const t=(0,a.getInputValue)(i.inputs()[e.id]),n=i.parentSourceForInput(t);if(n&&(0,L.isStudy)(n)){const t=n.title(N.TitleDisplayTarget.StatusLine),o=T.StudyMetaInfo.getChildSourceInputTitles(e,n.metaInfo(),t);r={...r,...o}}}if(_.enabled("study_on_study")&&t&&this._isStudy(t)&&(t.isChildStudy()||T.StudyMetaInfo.canBeChild(t.metaInfo()))){const e=[t,...i.getAllChildren()];n.model().allStudies().filter((t=>t.canHaveChildren()&&!e.includes(t))).forEach((e=>{const t=e.title(N.TitleDisplayTarget.StatusLine,!0,void 0,!0),n=e.id(),o=e.metaInfo(),a=o.styles,i=o.plots||[];if(1===i.length)r[n+"$0"]=t;else if(i.length>1){const e=i.reduce(((e,o,r)=>{if(!T.StudyMetaInfo.canPlotBeSourceOfChildStudy(o.type))return e;let i;try{i=(0,s.ensureDefined)((0,s.ensureDefined)(a)[o.id]).title}catch(e){i=o.id}return{...e,[`${n}$${r}`]:`${t}: ${i}`}}),{});r={...r,...e}}}))}const l={...e,type:"text",options:Object.keys(r),optionsTitles:r};return o.createElement(B,{...this.props,input:l})}
_isStudy(e){return!e.hasOwnProperty("isInputsStudy")}}V.contextType=I.PropertyContext;var A=n(271706),F=n(505070),z=n(368017),W=n(609838);const q=void 0,H=["1","3","5","15","30","45","60","120","180","240","1D","1W","1M","3M","6M","12M"],Z=["1S","5S","10S","15S","30S"],K=["1T","10T","100T","1000T"];class G extends o.PureComponent{constructor(){super(...arguments),this._onChange=e=>{const{input:{id:t,name:n},onChange:o}=this.props;o(e,t,n)}}render(){const{input:e,value:t,disabled:s,hasTooltip:a}=this.props,r=A.Interval.parse(void 0===t?e.defval:t),i=r.isValid()?r.value():t,l=q?q.get().filter((e=>!A.Interval.parse(e).isRange())):[],c=(0,F.mergeResolutions)(H,(0,F.isSecondsEnabled)()?Z:[],(0,z.isTicksEnabled)()?K:[],l);return c.unshift(""),o.createElement(k.Select,{id:e.id,className:u()(m.input,m.resolution,a&&m.hasTooltip),menuClassName:u()(m.dropdownMenu,m.resolution),items:(p=c,p.map((e=>({value:e,content:""===e?W.t(null,void 0,n(354613)):(0,F.getTranslatedResolutionModel)(e).hint})))),value:i,onChange:this._onChange,disabled:s});var p}}const U=(0,d.bind)(G);var Y=n(292824),$=n(376954);class Q extends o.PureComponent{render(){return o.createElement(I.PropertyContext.Consumer,null,(e=>e?this._getColorInputWithContext(e):null))}_getColorInputWithContext(e){const{input:{id:t},disabled:n,hasTooltip:s}=this.props,{model:a,study:r}=e;if("properties"in r||"tempProperties"in r){const e="properties"in r?r.properties().inputs[t]:r.tempProperties?.inputs.child(t);return o.createElement($.StylePropertyContainer,{model:a,affectSave:!0,property:e},o.createElement(Y.BasicColorSelect,{className:u()(s&&m.hasTooltip),color:e,disabled:n}))}return null}}var X=n(614793),J=n(350324),j=n(508550),ee=n(886176),te=n(172074);const ne=(0,d.bind)((function(e){const{value:t,onChange:n,input:s,tzName:a,hasTooltip:r,disabled:i}=e,{id:l,name:c,defval:p}=s,d=(0,o.useMemo)((()=>Number(t??p)),[t,p]),h=(0,o.useMemo)((()=>(0,ee.getChartTimezoneOffsetMs)(d,a)),[d,a]),m=(0,o.useMemo)((()=>{const e=new Date(d+h+g(d));return e.setSeconds(0),e}),[d,h]),v=(0,o.useMemo)((()=>(0,j.twoDigitsFormat)(m.getHours())+":"+(0,j.twoDigitsFormat)(m.getMinutes())),[m]);return o.createElement("div",{className:u()(te.container,r&&te.hasTooltip)},o.createElement("div",{className:te.datePickerWrapper},o.createElement(X.DatePicker,{InputComponent:J.DateInput,initial:m,onPick:function(e){if(null===e)return;const t=new Date(m);t.setFullYear(e.getFullYear()),t.setMonth(e.getMonth()),t.setDate(e.getDate()),n(f(t),l,c)},disabled:i,revertInvalidData:!0})),o.createElement("div",{className:te.timePickerWrapper},o.createElement(x.TimeInput,{value:v,onChange:function(e){const[t,o]=e.split(":"),s=new Date(m);s.setHours(Number(t)),s.setMinutes(Number(o)),n(f(s),l,c)},disabled:i})));function g(e){return 60*new Date(e).getTimezoneOffset()*1e3}function f(e){return e.valueOf()-h-g(d)}}));class oe extends o.PureComponent{render(){const{input:e,onChange:t,tzName:n,hasTooltip:s}=this.props,c=!1===e.active||this.props.disabled;if((0,a.isStudyInputOptionsInfo)(e))return o.createElement(B,{input:e,
disabled:c,onChange:t,hasTooltip:s});switch(e.type){case"integer":return o.createElement(r.IntegerInput,{input:e,disabled:c,onChange:t,hasTooltip:s});case"float":case"price":return o.createElement(i.FloatInput,{input:e,disabled:c,onChange:t,hasTooltip:s});case"bool":return o.createElement(l.BoolInput,{input:e,disabled:c,onChange:t,hasTooltip:s});case"text":return o.createElement(f,{input:e,disabled:c,onChange:t,hasTooltip:s});case"symbol":return o.createElement(b.SymbolInput,{input:e,disabled:c,onChange:t,hasTooltip:s});case"session":return o.createElement(S,{input:e,disabled:c,onChange:t,hasTooltip:s});case"source":return o.createElement(V,{input:e,disabled:c,onChange:t,hasTooltip:s});case"resolution":return o.createElement(U,{input:e,disabled:c,onChange:t,hasTooltip:s});case"time":return o.createElement(ne,{input:e,tzName:n,onChange:t,hasTooltip:s,disabled:c});case"color":return o.createElement(Q,{input:e,disabled:c,onChange:t,hasTooltip:s});default:return null}}}var se=n(767913),ae=n(570795);class re extends o.PureComponent{render(){const{label:e,children:t,input:n,onChange:a,labelAlign:r,grouped:i,tooltip:l,solutionId:c,offset:u}=this.props,p=!1===n?.active||this.props.disabled,d=Boolean(l);return o.createElement(y.PropertyTable.Row,null,o.createElement(y.PropertyTable.Cell,{"data-study-input-name":n?.id&&`${n.id}-label`,placement:"first",verticalAlign:r,grouped:i,offset:u},void 0!==e?e:(0,P.getTranslatedInputTitle)((0,s.ensureDefined)(n).name)),o.createElement(y.PropertyTable.Cell,{"data-study-input-name":n?.id&&`${n.id}-input`,placement:"last",grouped:i},t||o.createElement(oe,{input:(0,s.ensureDefined)(n),onChange:a,disabled:p,hasTooltip:d}),d&&o.createElement(ae.IconGroupWrapper,null,l&&o.createElement(se.InputTooltip,{title:l}),!1)))}}},890205:(e,t,n)=>{"use strict";n.d(t,{InputsTabContent:()=>Z});var o=n(50959),s=n(650151),a=n(609838),r=n(6934),i=n(376954),l=n(734914),c=n(852830),u=n(911942),p=n(230789),d=n(497754),h=n.n(d),m=n(404568),v=n(247114),g=n.n(v);const f=(0,p.makeSwitchGroupItem)((e=>{const{disabled:t,checked:n,label:s,value:a="on",name:r,onChange:i,className:l,id:c,title:u,labelPositionReverse:p,reference:d,ariaDescribedby:v,"data-name":f}=e,b=h()(l,g().radio,p&&g().reverse),y=h()(g().label,t&&g().disabled);return o.createElement("label",{className:b},o.createElement("span",{className:h()(g().wrapper,t&&g().disabled),title:u},o.createElement("input",{type:"radio",id:c,className:g().input,name:r,checked:n,disabled:t,value:a,onChange:()=>i?.(a),ref:d,"aria-describedby":v,"data-name":f}),o.createElement("span",{className:h()(g().box,n&&g().checked)},o.createElement(m.RadioButtonView,{checked:n,disabled:t}))),s&&o.createElement("span",{className:y},s))}));var b=n(296611),y=n(2290),C=n(767913),x=n(570795),E=n(575191);function w(e){const{children:t,input:i,onChange:c,grouped:u,tooltip:d,solutionId:h}=e,m=!1===i.active||e.disabled,v=(0,o.useContext)(r.PropertyContext),{values:g,setValue:w}=(0,s.ensureNotNull)(v),S=g[i.id],[_,T]=(0,o.useState)(S?"another-symbol":"main-symbol"),[N,I]=(0,
o.useState)(S),k=Boolean(d);return(0,o.useEffect)((()=>{S&&I(S)}),[S]),o.createElement(p.SwitchGroup,{name:`symbol-source-${i.id}`,values:[_],onChange:function(e){T(e),"main-symbol"===e?(0,y.setter)(w)("",i.id,i.name):"another-symbol"===e&&N&&(0,y.setter)(w,c)(N,i.id,i.name)}},o.createElement(l.PropertyTable.Row,null,o.createElement(l.PropertyTable.Cell,{colSpan:2,placement:"first",grouped:u,"data-study-input-name":i?.id&&`${i.id}-main-symbol`},o.createElement(f,{value:"main-symbol",className:E.checkbox,disabled:m,label:o.createElement("span",{className:E.label},a.t(null,{context:"input"},n(594849)))}))),o.createElement(l.PropertyTable.Row,null,o.createElement(l.PropertyTable.Cell,{placement:"first",grouped:u,"data-study-input-name":i?.id&&`${i.id}-another-symbol-label`},o.createElement(f,{value:"another-symbol",className:E.checkbox,disabled:m,label:o.createElement("span",{className:E.label},a.t(null,{context:"input"},n(624716)))})),o.createElement(l.PropertyTable.Cell,{placement:"last",grouped:u,"data-study-input-name":i?.id&&`${i.id}-another-symbol-input`},t||o.createElement(b.SymbolInput,{input:(0,s.ensureDefined)(i),onChange:c,disabled:m||"main-symbol"===_,hasTooltip:k}),k&&o.createElement(x.IconGroupWrapper,null,d&&o.createElement(C.InputTooltip,{title:d}),!1))))}var S=n(773113);class _ extends o.PureComponent{render(){const{label:e,input:t,tooltip:n,solutionId:s}=this.props,a=!1===t.active,r=Boolean(n);return o.createElement(l.PropertyTable.Row,null,o.createElement(l.PropertyTable.Cell,{placement:"first",colSpan:2,"data-study-input-name":t?.id&&`${t.id}-checkbox`},o.createElement(S.BoolInput,{label:e,input:t,hasTooltip:r,disabled:a}),r&&o.createElement(x.IconGroupWrapper,null,n&&o.createElement(C.InputTooltip,{title:n}),!1)))}}var T=n(718406),N=n(558213),I=n(34735),k=n(474443);class P extends o.PureComponent{constructor(){super(...arguments),this._onChange=e=>{const{input:{id:t,name:n},onChange:o}=this.props;o(e.currentTarget.value,t,n)}}render(){const{input:{defval:e},value:t,disabled:n,onBlur:s,onKeyDown:a}=this.props;return o.createElement(N.Textarea,{className:h()(E.input,E.textarea,I.InputClasses.FontSizeMedium),value:void 0===t?e:t,onChange:this._onChange,onBlur:s,onKeyDown:a,disabled:n,maxLength:40960})}}const D=(0,k.debounced)(P),B=(0,y.bind)(D);var O=n(796782);function L(e){const{input:t,label:n,tooltip:s,solutionId:a}=e,r=!1===t?.active,i=Boolean(s);return o.createElement(l.PropertyTable.Row,null,o.createElement(l.PropertyTable.Cell,{placement:"first",colSpan:2,className:O.wrap,"data-study-input-name":t?.id&&`${t.id}-textarea`},o.createElement("div",{className:O.labelWrap},o.createElement("span",{className:h()(O.label,i&&O.hasTooltip)},n),i&&o.createElement(x.IconGroupWrapper,null,s&&o.createElement(C.InputTooltip,{title:s}),!1)),o.createElement(B,{input:t,disabled:r})))}function M(e){const{input:t,tooltip:n,solutionId:s}=e;return"symbol"===t.type&&t.optional?o.createElement(w,{input:t,tooltip:n,solutionId:s}):"bool"===t.type?o.createElement(_,{label:(0,u.getTranslatedInputTitle)(t.name),input:t,
tooltip:n,solutionId:s}):"text_area"===t.type?o.createElement(L,{label:(0,u.getTranslatedInputTitle)(t.name),input:t,tooltip:n,solutionId:s}):o.createElement(T.InputRow,{labelAlign:function(e){switch(e){case"session":return"adaptive";case"time":return"topCenter";default:return}}(t.type),input:t,tooltip:n,solutionId:s})}var R=n(222629);function V(e){const{content:t}=e;let n;return o.createElement(l.PropertyTable.InlineRowContext.Provider,{value:!0},o.createElement("div",{className:R.inlineRow},t.children.map(((e,s)=>(void 0!==e.tooltip&&(n=e.tooltip),o.createElement(M,{key:e.id,input:e,tooltip:s===t.children.length-1?n:void 0}))))))}var A=n(616261),F=n(957772);function z(e){const{content:t}=e;return(0,A.isGroup)(t)?(0,A.isInputInlines)(t)?o.createElement(V,{content:t}):o.createElement(o.Fragment,null,o.createElement("div",{className:F.titleWrap},o.createElement(c.GroupTitleSection,{title:(0,u.getTranslatedInputTitle)(t.id),name:t.id})),t.children.map((e=>(0,A.isGroup)(e)?o.createElement(V,{key:e.id,content:e}):o.createElement(M,{key:e.id,input:e,tooltip:e.tooltip,solutionId:e.solutionId}))),o.createElement("div",{className:F.groupFooter})):o.createElement(M,{input:t,tooltip:t.tooltip,solutionId:t.solutionId})}var W=n(870136),q=n(515822);const H={offset:a.t(null,void 0,n(855450)),inputValuesGroupTitle:a.t(null,void 0,n(932774)),showInputsInLegendTitle:a.t(null,void 0,n(806616))};class Z extends o.PureComponent{render(){const{reference:e,inputs:t,property:n,study:a,studyMetaInfo:r,model:u,onStudyInputChange:p,className:d}=this.props,{offset:h,offsets:m}=n;return o.createElement(l.PropertyTable,{reference:e,className:d},o.createElement(G,{study:a,model:u,property:n.inputs,inputs:t,onStudyInputChange:p}),h&&this._createOffsetSection(h,(0,s.ensureDefined)(r.offset)),m&&m.childNames().map((e=>{const t=m.childs()[e];return this._createOffsetSection(t,(0,s.ensureDefined)(r.offsets?.[e]))})),(0,q.isStudy)(a)&&o.createElement(l.PropertyTable.Row,null,o.createElement(c.GroupTitleSection,{title:H.inputValuesGroupTitle,name:H.inputValuesGroupTitle}),o.createElement(l.PropertyTable.Cell,{placement:"first",colSpan:2},o.createElement(i.StylePropertyContainer,{model:u,affectSave:!0,property:a.properties().childs().showLegendInputs},o.createElement(W.VisibilitySwitch,{id:"showStudyLegendInputs",title:H.showInputsInLegendTitle,visible:a.properties().childs().showLegendInputs})))))}_createOffsetSection(e,t){const n=e.childs();return o.createElement(G,{key:`offset_${t.title}`,study:this.props.study,model:this.props.model,inputs:[Y(n,t)],property:e})}}const K=e=>!1;function G(e){const{study:t,model:n,inputs:s,property:a,onStudyInputChange:i}=e,l=K(t)?s.filter(U):s,c=(0,o.useMemo)((()=>(0,A.getInputGroups)(l)),[l]);return o.createElement(r.PropertyContainer,{property:a,study:t,model:n,onStudyInputChange:i},!1,!1,c.map((e=>o.createElement(o.Fragment,{key:e.id},o.createElement(z,{content:e}),!1))))}function U(e){return!defaultCustomSessionIds.has(e.id)&&!vbpAnchorPeriodInputsIds.has(e.id)&&!tpoCustomRowSizeIds.has(e.id)}function Y(e,t){
return{id:"val",name:t.title||H.offset,defval:e.val.value(),type:"integer",min:t.min,max:t.max}}},773113:(e,t,n)=>{"use strict";n.d(t,{BoolInput:()=>u,BoolInputComponent:()=>c});var o=n(50959),s=n(302946),a=n(497754),r=n.n(a),i=n(2290),l=n(575191);class c extends o.PureComponent{constructor(){super(...arguments),this._onChange=()=>{const{input:{id:e,name:t},value:n,onChange:o}=this.props;o(!n,e,t)}}render(){const{input:{defval:e},value:t,disabled:n,label:a,hasTooltip:i}=this.props,c=void 0===t?e:t;return o.createElement(s.Checkbox,{className:r()(l.checkbox,i&&l.hasTooltip),disabled:n,checked:c,onChange:this._onChange,label:o.createElement("span",{className:l.label},a),labelAlignBaseline:!0})}}const u=(0,i.bind)(c)},474443:(e,t,n)=>{"use strict";n.d(t,{debounced:()=>a});var o=n(50959);const s={blur:0,commit:0,change:1/0};function a(e,t=s){return class extends o.PureComponent{constructor(e){super(e),this._onChange=(e,n,o)=>{const s=t.change;s?(clearTimeout(this._timeout),this.setState({value:e},(()=>{s!==1/0&&(this._timeout=setTimeout((()=>this._flush()),s))}))):this._flush(e)},this._onBlur=()=>{this._debounce(t.blur);const{onBlur:e}=this.props;e&&e()},this._onKeyDown=e=>{13===e.keyCode&&this._debounce(t.commit)},this.state={prevValue:e.value,value:e.value}}componentWillUnmount(){this._flush()}render(){const{value:t}=this.state;return o.createElement(e,{...this.props,value:t,onChange:this._onChange,onBlur:this._onBlur,onKeyDown:this._onKeyDown})}static getDerivedStateFromProps(e,t){return e.value===t.prevValue?t:{prevValue:e.value,value:e.value}}_debounce(e){e?(clearTimeout(this._timeout),e!==1/0&&(this._timeout=setTimeout((()=>this._flush()),e))):this.setState((e=>{this._flush(e.value)}))}_flush(e){const{input:{id:t,name:n},onChange:o}=this.props,{prevValue:s,value:a}=this.state;clearTimeout(this._timeout);const r=void 0!==e?e:a;void 0!==r&&r!==s&&o(r,t,n)}}}},73943:(e,t,n)=>{"use strict";n.d(t,{FloatInput:()=>d,FloatInputComponent:()=>p});var o=n(50959),s=n(497754),a=n.n(s),r=n(708154),i=n(2290),l=n(474443),c=n(575191);class u extends o.PureComponent{render(){const{hasTooltip:e}=this.props;return o.createElement(r.NumericInput,{...this.props,className:a()(c.input,e&&c.hasTooltip),stretch:!1})}}const p=(0,l.debounced)(u,{change:1/0,commit:0,blur:0}),d=(0,i.bind)(p)},63404:(e,t,n)=>{"use strict";n.d(t,{IntegerInput:()=>d,IntegerInputComponent:()=>p});var o=n(50959),s=n(497754),a=n.n(s),r=n(2290),i=n(474443),l=n(708154),c=n(575191);class u extends o.PureComponent{render(){const{hasTooltip:e}=this.props;return o.createElement(l.NumericInput,{...this.props,mode:"integer",className:a()(c.input,e&&c.hasTooltip),stretch:!1})}}const p=(0,i.debounced)(u,{change:1/0,commit:0,blur:0}),d=(0,r.bind)(p)},708154:(e,t,n)=>{"use strict";n.d(t,{NumericInput:()=>r});var o=n(50959),s=n(650151),a=n(587125);class r extends o.PureComponent{constructor(){super(...arguments),this._container=null,this._handleContainerRef=e=>this._container=e,this._onChange=(e,t)=>{const{input:{id:n,name:o},onChange:s,onBlur:a}=this.props;s(e,n,o),
"step"===t&&a&&a()},this._onBlur=e=>{const{onBlur:t}=this.props;if(t){const n=(0,s.ensureNotNull)(this._container);n.contains(document.activeElement)||n.contains(e.relatedTarget)||t()}}}render(){const{input:{defval:e,min:t,max:n,step:s},value:r,disabled:i,onKeyDown:l,className:c,mode:u,stretch:p}=this.props;return o.createElement(a.NumberInput,{className:c,value:Number(void 0===r?e:r),min:t,max:n,step:s,mode:u,onBlur:this._onBlur,onValueChange:this._onChange,onKeyDown:l,disabled:i,containerReference:this._handleContainerRef,fontSizeStyle:"medium",roundByStep:!1,stretch:p})}}},296611:(e,t,n)=>{"use strict";n.d(t,{SymbolInput:()=>p,getInternalSymbolName:()=>c});var o=n(50959),s=n(650151),a=n(6934),r=n(2290),i=n(39290),l=n(193315);function c(e,t){const n=(0,i.createAdapter)(t).resolvedSymbolInfoBySymbol(e);return n&&(n.ticker||n.full_name)?n.ticker||n.full_name:e}function u(e,t){const n=(0,i.createAdapter)(t).resolvedSymbolInfoBySymbol(e);return null===n?e:n.name}const p=(0,r.bind)((function(e){const t=(0,o.useContext)(a.PropertyContext),{study:n}=(0,s.ensureNotNull)(t),{input:{defval:r},value:i}=e;return o.createElement(l.SymbolInputsButton,{...e,value:u(i||r||"",n),study:n})}))},292824:(e,t,n)=>{"use strict";n.d(t,{BasicColorSelect:()=>a});var o=n(50959),s=n(743548);function a(e){return o.createElement(s.ColorWithLinePropertySelect,{...e})}},743548:(e,t,n)=>{"use strict";n.d(t,{ColorWithLinePropertySelect:()=>b});var o=n(50959),s=n(724377),a=n(609838),r=n(754617),i=n(613113),l=n(376954),c=n(782302),u=n(409564),p=n(32133),d=n(377707);const h=new r.TranslatedString("change thickness",a.t(null,void 0,n(773281))),m=new r.TranslatedString("change color",a.t(null,void 0,n(731675))),v=new r.TranslatedString("change opacity",a.t(null,void 0,n(629426))),g=new r.TranslatedString("change line style",a.t(null,void 0,n(728818))),f=[1,2,3,4];class b extends o.PureComponent{constructor(){super(...arguments),this._trackEventLabel=null,this._getTransparencyValue=()=>{const{transparency:e}=this.props;return e?e.value():0},this._getOpacityValue=()=>{const{color:e}=this.props,t=(0,u.getPropertyValue)(e);if(t)return(0,i.isHexColor)(t)?(0,i.transparencyToAlpha)(this._getTransparencyValue()):(0,s.parseRgba)(t)[3]},this._getColorValueInHex=()=>{const{color:e}=this.props,t=(0,u.getPropertyValue)(e);return t?(0,i.isHexColor)(t)?t:(0,s.rgbToHexString)((0,s.parseRgb)(t)):null},this._onThicknessChange=e=>{const{thickness:t}=this.props;void 0!==t&&this._setProperty(t,e,h)},this._onLineStyleChange=e=>{const{lineStyle:t}=this.props;void 0!==t&&this._setProperty(t,e,g)},this._onColorChange=e=>{const{color:t,isPaletteColor:n}=this.props,o=(0,u.getPropertyValue)(t);let a=0;o&&(a=(0,i.isHexColor)(o)?this._getTransparencyValue():(0,i.alphaToTransparency)((0,s.parseRgba)(o)[3])),this._setProperty(t,(0,i.generateColor)(String(e),a,!0),m),this._trackEventLabel="Plot color > "+(n?"Palette":"Single")},this._onOpacityChange=e=>{const{color:t}=this.props,n=(0,u.getPropertyValue)(t);this._setProperty(t,(0,i.generateColor)(n,(0,i.alphaToTransparency)(e),!0),v)},
this._onPopupClose=()=>{this._trackEventLabel&&((0,p.trackEvent)("GUI","Study settings",this._trackEventLabel),this._trackEventLabel=null)}}componentWillUnmount(){this._onPopupClose()}render(){const{selectOpacity:e=!0,disabled:t,className:n}=this.props;return o.createElement(c.ColorSelect,{className:n,disabled:t,color:this._getColorValueInHex(),selectOpacity:e,opacity:this._getOpacityValue(),thickness:this._getThicknessValue(),lineStyle:this._getLineStyleValue(),thicknessItems:f,lineStyleItems:d.defaultLineStyleItems,onColorChange:this._onColorChange,onOpacityChange:this._onOpacityChange,onThicknessChange:this._onThicknessChange,onLineStyleChange:this._onLineStyleChange,onPopupClose:this._onPopupClose})}_getThicknessValue(){const{thickness:e}=this.props;return e?(0,u.getPropertyValue)(e):void 0}_getLineStyleValue(){const{lineStyle:e}=this.props;return e?(0,u.getPropertyValue)(e):void 0}_setProperty(e,t,n){const{setValue:o}=this.context;o(e,t,n)}}b.contextType=l.StylePropertyContext},870136:(e,t,n)=>{"use strict";n.d(t,{VisibilitySwitch:()=>d});var o=n(50959),s=n(609838),a=n(754617),r=n(129914),i=n(773113),l=n(376954),c=n(409564),u=n(911942);const p=new a.TranslatedString("change visibility",s.t(null,void 0,n(201924)));class d extends o.PureComponent{constructor(){super(...arguments),this._onChange=e=>{const{setValue:t}=this.context,{visible:n}=this.props;n&&t(n,e,p)}}render(){const{id:e,title:t,visible:n,disabled:s}=this.props,a=(0,r.clean)((0,u.getTranslatedInputTitle)(t),!0);return o.createElement(i.BoolInputComponent,{label:a,disabled:s,input:{id:e,type:"bool",defval:!0,name:"visible"},value:!n||(0,c.getPropertyValue)(n),onChange:this._onChange})}}d.contextType=l.StylePropertyContext},734914:(e,t,n)=>{"use strict";n.d(t,{PropertyTable:()=>l});var o=n(50959),s=n(497754),a=n(800417),r=n(912968);const i=o.createContext(!1);class l extends o.PureComponent{render(){return o.createElement("div",{ref:this.props.reference,className:s(r.content,this.props.className)},this.props.children)}}var c,u,p;l.InlineRowContext=i,l.Row=function(e){const{children:t,className:n}=e;return(0,o.useContext)(i)?o.createElement("span",{className:s(r.inlineRow,n)},t):o.createElement(o.Fragment,null,t)},function(e){e.Top="top",e.TopCenter="topCenter",e.Middle="middle",e.Adaptive="adaptive"}(c||(c={})),function(e){e.First="first",e.Last="last"}(u||(u={})),l.Cell=function(e){const t=(0,o.useContext)(i),n=s(r.cell,e.offset&&r.offset,e.grouped&&r.grouped,t&&r.inlineCell,"top"===e.verticalAlign&&r.top,"topCenter"===e.verticalAlign&&r.topCenter,"adaptive"===e.verticalAlign&&r.adaptive,e.checkableTitle&&r.checkableTitle,2===e.colSpan&&r.fill,"first"===e.placement&&2!==e.colSpan&&r.first,"last"===e.placement&&2!==e.colSpan&&r.last),l=(0,a.filterDataProps)(e);return o.createElement("div",{...l,className:n},o.createElement("div",{className:s(r.inner,e.className)},e.children))},l.Separator=function(e){return o.createElement(l.Row,null,o.createElement("div",{className:s(r.cell,r.separator,r.fill)}))},function(e){e[e.Small=0]="Small",e[e.Big=1]="Big"
}(p||(p={})),l.GroupSeparator=function(e){const t=e.size||0;return o.createElement(l.Row,null,o.createElement("div",{className:s(r.cell,r.groupSeparator,r.fill,1===t&&r.big,e.className)}))}},409564:(e,t,n)=>{"use strict";function o(e){return Array.isArray(e)?e[0].value():e.value()}n.d(t,{getPropertyValue:()=>o})},129914:(e,t,n)=>{"use strict";function o(e,t){return s(e,t,t?["&amp;"]:["&"])}function s(e,t,n){const o=[["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#039;"],["'","&#39;"]];t&&o.forEach((e=>e.reverse()));let s=e;if(!e||!e.replace)return s;for(const e of o){const[t,o]=e;n&&-1!==n.indexOf(t)||(s=s.replace(new RegExp(t,"g"),o))}return s}n.d(t,{clean:()=>s,cleanButAmpersand:()=>o})},610600:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M11.44 3.34a1.5 1.5 0 0 1 2.12 0l1.09 1.09a1.5 1.5 0 0 1 0 2.12l-7 7a1.5 1.5 0 0 1-1.06.44H4V11.4c0-.4.16-.78.44-1.06l7-7Zm1.41.7a.5.5 0 0 0-.7 0l-.7.7 1.8 1.79.69-.7a.5.5 0 0 0 0-.7l-1.09-1.08Zm-.3 3.2-1.8-1.8-5.6 5.6a.5.5 0 0 0-.15.36v1.59h1.59a.5.5 0 0 0 .35-.15l5.6-5.6Z"/></svg>'},499084:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" fill-rule="evenodd" d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16Zm4-9.97L11.9 6 8.3 9.82 6.1 7.46 4.99 8.5 8.32 12 13 7.03Z"/></svg>'},530162:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" fill-rule="evenodd" d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16ZM9 4c-.79 0-1.38.7-1.25 1.48l.67 4.03a.59.59 0 0 0 1.16 0l.67-4.03A1.27 1.27 0 0 0 9 4Zm0 8a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>'},527941:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16Zm1-12a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM8.5 9.5H7V8h3v6H8.5V9.5Z"/></svg>'},482353:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" fill-rule="evenodd" d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16Zm-1-4a1 1 0 1 0 2 0 1 1 0 0 0-2 0Zm2.83-3.52c-.49.43-.97.85-1.06 1.52H8.26c.08-1.18.74-1.69 1.32-2.13.49-.38.92-.71.92-1.37C10.5 6.67 9.82 6 9 6s-1.5.67-1.5 1.5V8H6v-.5a3 3 0 1 1 6 0c0 .96-.6 1.48-1.17 1.98Z"/></svg>'},598475:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28" fill="none"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M10 4h1v2h6V4h1v2h2.5A2.5 2.5 0 0 1 23 8.5v11a2.5 2.5 0 0 1-2.5 2.5h-13A2.5 2.5 0 0 1 5 19.5v-11A2.5 2.5 0 0 1 7.5 6H10V4zm8 3H7.5C6.67 7 6 7.67 6 8.5v11c0 .83.67 1.5 1.5 1.5h13c.83 0 1.5-.67 1.5-1.5v-11c0-.83-.67-1.5-1.5-1.5H18zm-3 2h-2v2h2V9zm-7 4h2v2H8v-2zm12-4h-2v2h2V9zm-7 4h2v2h-2v-2zm-3 4H8v2h2v-2zm3 0h2v2h-2v-2zm7-4h-2v2h2v-2z"/></svg>'},123851:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path fill="currentColor" d="M4 13h5v1H4v-1zM12 13h5v1h-5v-1zM20 13h5v1h-5v-1z"/></svg>'},
357740:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" d="M3 13h2v2H3v-2Zm5 0h2v2H8v-2Zm7 0h-2v2h2v-2Zm3 0h2v2h-2v-2Zm7 0h-2v2h2v-2Z"/></svg>'},200501:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path stroke="currentColor" d="M4 13.5h20"/></svg>'},755883:(e,t,n)=>{"use strict";n.d(t,{default:()=>o});const o=function(){}}}]);