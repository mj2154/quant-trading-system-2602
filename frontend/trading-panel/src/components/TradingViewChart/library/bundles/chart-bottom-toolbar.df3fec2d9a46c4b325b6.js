(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[7260],{259142:function(e,t){var n,s,i;s=[t],n=function(e){"use strict";function t(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(e,"__esModule",{value:!0});var n=!1;if("undefined"!=typeof window){var s={get passive(){n=!0}};window.addEventListener("testPassive",null,s),window.removeEventListener("testPassive",null,s)}var i="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&/iP(ad|hone|od)/.test(window.navigator.platform),o=[],a=!1,r=-1,l=void 0,c=void 0,u=function(e){return o.some((function(t){return!(!t.options.allowTouchMove||!t.options.allowTouchMove(e))}))},d=function(e){var t=e||window.event;return!!u(t.target)||1<t.touches.length||(t.preventDefault&&t.preventDefault(),!1)},h=function(){setTimeout((function(){void 0!==c&&(document.body.style.paddingRight=c,c=void 0),void 0!==l&&(document.body.style.overflow=l,l=void 0)}))};e.disableBodyScroll=function(e,s){if(i){if(!e)return void console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");if(e&&!o.some((function(t){return t.targetElement===e}))){var h={targetElement:e,options:s||{}};o=[].concat(t(o),[h]),e.ontouchstart=function(e){1===e.targetTouches.length&&(r=e.targetTouches[0].clientY)},e.ontouchmove=function(t){var n,s,i,o;1===t.targetTouches.length&&(s=e,o=(n=t).targetTouches[0].clientY-r,!u(n.target)&&(s&&0===s.scrollTop&&0<o||(i=s)&&i.scrollHeight-i.scrollTop<=i.clientHeight&&o<0?d(n):n.stopPropagation()))},a||(document.addEventListener("touchmove",d,n?{passive:!1}:void 0),a=!0)}}else{p=s,setTimeout((function(){if(void 0===c){var e=!!p&&!0===p.reserveScrollBarGap,t=window.innerWidth-document.documentElement.clientWidth;e&&0<t&&(c=document.body.style.paddingRight,document.body.style.paddingRight=t+"px")}void 0===l&&(l=document.body.style.overflow,document.body.style.overflow="hidden")}));var m={targetElement:e,options:s||{}};o=[].concat(t(o),[m])}var p},e.clearAllBodyScrollLocks=function(){i?(o.forEach((function(e){e.targetElement.ontouchstart=null,e.targetElement.ontouchmove=null})),a&&(document.removeEventListener("touchmove",d,n?{passive:!1}:void 0),a=!1),o=[],r=-1):(h(),o=[])},e.enableBodyScroll=function(e){if(i){if(!e)return void console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");e.ontouchstart=null,e.ontouchmove=null,o=o.filter((function(t){return t.targetElement!==e})),a&&0===o.length&&(document.removeEventListener("touchmove",d,n?{passive:!1}:void 0),a=!1)}else 1===o.length&&o[0].targetElement===e?(h(),o=[]):o=o.filter((function(t){return t.targetElement!==e}))}},void 0===(i="function"==typeof n?n.apply(t,s):n)||(e.exports=i)},497754:(e,t)=>{var n;!function(){"use strict";var s={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n
;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)&&n.length){var a=i.apply(null,n);a&&e.push(a)}else if("object"===o)for(var r in n)s.call(n,r)&&n[r]&&e.push(r)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},757554:e=>{e.exports={logo:"logo-PsAlMQQF",hidden:"hidden-PsAlMQQF",xxceptionallysmalldonotusebrv1023:"xxceptionallysmalldonotusebrv1023-PsAlMQQF",xxxsmall:"xxxsmall-PsAlMQQF",xxsmall:"xxsmall-PsAlMQQF",xsmall:"xsmall-PsAlMQQF",small:"small-PsAlMQQF",medium:"medium-PsAlMQQF",large:"large-PsAlMQQF",xlarge:"xlarge-PsAlMQQF",xxlarge:"xxlarge-PsAlMQQF",xxxlarge:"xxxlarge-PsAlMQQF",skeleton:"skeleton-PsAlMQQF",letter:"letter-PsAlMQQF"}},649107:e=>{e.exports={loader:"loader-UL6iwcBa",static:"static-UL6iwcBa",item:"item-UL6iwcBa","tv-button-loader":"tv-button-loader-UL6iwcBa",medium:"medium-UL6iwcBa",small:"small-UL6iwcBa",black:"black-UL6iwcBa",white:"white-UL6iwcBa",gray:"gray-UL6iwcBa",primary:"primary-UL6iwcBa"}},116313:e=>{e.exports={wrapper:"wrapper-TJ9ObuLF",animated:"animated-TJ9ObuLF",pulsation:"pulsation-TJ9ObuLF"}},447429:e=>{e.exports={item:"item-GJX1EXhk",interactive:"interactive-GJX1EXhk",hovered:"hovered-GJX1EXhk",disabled:"disabled-GJX1EXhk",active:"active-GJX1EXhk",shortcut:"shortcut-GJX1EXhk",normal:"normal-GJX1EXhk",big:"big-GJX1EXhk",iconCell:"iconCell-GJX1EXhk",icon:"icon-GJX1EXhk",content:"content-GJX1EXhk",label:"label-GJX1EXhk",checked:"checked-GJX1EXhk",toolbox:"toolbox-GJX1EXhk",showToolboxOnHover:"showToolboxOnHover-GJX1EXhk",arrowIcon:"arrowIcon-GJX1EXhk",subMenu:"subMenu-GJX1EXhk",invisibleHotkey:"invisibleHotkey-GJX1EXhk"}},405264:e=>{e.exports={item:"item-WJDah4zD",emptyIcons:"emptyIcons-WJDah4zD",loading:"loading-WJDah4zD",disabled:"disabled-WJDah4zD",interactive:"interactive-WJDah4zD",hovered:"hovered-WJDah4zD",normal:"normal-WJDah4zD",big:"big-WJDah4zD",icon:"icon-WJDah4zD",label:"label-WJDah4zD",title:"title-WJDah4zD",nested:"nested-WJDah4zD",shortcut:"shortcut-WJDah4zD",remove:"remove-WJDah4zD"}},276773:e=>{e.exports={"default-drawer-min-top-distance":"100px",wrap:"wrap-_HnK0UIN",positionBottom:"positionBottom-_HnK0UIN",backdrop:"backdrop-_HnK0UIN",drawer:"drawer-_HnK0UIN",positionLeft:"positionLeft-_HnK0UIN"}},315015:e=>{e.exports={separator:"separator-Pf4rIzEt"}},558590:e=>{e.exports={"tablet-small-breakpoint":"(max-width: 440px)",item:"item-jFqVJoPk",hovered:"hovered-jFqVJoPk",isDisabled:"isDisabled-jFqVJoPk",isActive:"isActive-jFqVJoPk",shortcut:"shortcut-jFqVJoPk",toolbox:"toolbox-jFqVJoPk",withIcon:"withIcon-jFqVJoPk","round-icon":"round-icon-jFqVJoPk",icon:"icon-jFqVJoPk",startSlot:"startSlot-jFqVJoPk",labelRow:"labelRow-jFqVJoPk",label:"label-jFqVJoPk",showOnHover:"showOnHover-jFqVJoPk","disclosure-item-circle-logo":"disclosure-item-circle-logo-jFqVJoPk",showOnFocus:"showOnFocus-jFqVJoPk"}},540359:e=>{e.exports={separator:"separator-QjUlCDId",small:"small-QjUlCDId",normal:"normal-QjUlCDId",large:"large-QjUlCDId"}},686186:e=>{e.exports={icon:"icon-WB2y0EnP",dropped:"dropped-WB2y0EnP"}},
185934:(e,t,n)=>{"use strict";n.d(t,{getStyleClasses:()=>l,isCircleLogoWithUrlProps:()=>c});var s=n(497754),i=n.n(s),o=n(92318),a=n(757554),r=n.n(a);function l(e,t=2,n){return i()(r().logo,r()[e],n,0===t||1===t?i()(o.skeletonTheme.wrapper,r().skeleton):r().letter,1===t&&o.skeletonTheme.animated)}function c(e){return"logoUrl"in e&&null!==e.logoUrl&&void 0!==e.logoUrl&&0!==e.logoUrl.length}},718736:(e,t,n)=>{"use strict";n.d(t,{useFunctionalRefObject:()=>o});var s=n(50959),i=n(855393);function o(e){const t=(0,s.useMemo)((()=>function(e){const t=n=>{e(n),t.current=n};return t.current=null,t}((e=>{r.current(e)}))),[]),n=(0,s.useRef)(null),o=t=>{if(null===t)return a(n.current,t),void(n.current=null);n.current!==e&&(n.current=e,a(n.current,t))},r=(0,s.useRef)(o);return r.current=o,(0,i.useIsomorphicLayoutEffect)((()=>{if(null!==t.current)return r.current(t.current),()=>r.current(null)}),[e]),t}function a(e,t){null!==e&&("function"==typeof e?e(t):e.current=t)}},855393:(e,t,n)=>{"use strict";n.d(t,{useIsomorphicLayoutEffect:()=>i});var s=n(50959);function i(e,t){("undefined"==typeof window?s.useEffect:s.useLayoutEffect)(e,t)}},183787:(e,t,n)=>{"use strict";n.d(t,{Icon:()=>i});var s=n(50959);const i=s.forwardRef(((e,t)=>{const{icon:n="",title:i,ariaLabel:o,ariaLabelledby:a,ariaHidden:r,...l}=e,c=!!(i||o||a);return s.createElement("span",{role:"img",...l,ref:t,"aria-label":o,"aria-labelledby":a,"aria-hidden":r||!c,title:i,dangerouslySetInnerHTML:{__html:n}})}))},878112:(e,t,n)=>{"use strict";n.d(t,{Icon:()=>s.Icon});var s=n(183787)},234404:(e,t,n)=>{"use strict";n.d(t,{Loader:()=>c});var s,i=n(50959),o=n(497754),a=n.n(o),r=n(649107),l=n.n(r);function c(e){const{className:t,size:n="medium",staticPosition:s,color:o="black"}=e,r=a()(l().item,l()[o],l()[n]);return i.createElement("span",{className:a()(l().loader,s&&l().static,t)},i.createElement("span",{className:r}),i.createElement("span",{className:r}),i.createElement("span",{className:r}))}!function(e){e.Medium="medium",e.Small="small"}(s||(s={}))},92318:(e,t,n)=>{"use strict";n.d(t,{skeletonTheme:()=>i});var s=n(116313);const i=n.n(s)()},800417:(e,t,n)=>{"use strict";function s(e){return o(e,a)}function i(e){return o(e,r)}function o(e,t){const n=Object.entries(e).filter(t),s={};for(const[e,t]of n)s[e]=t;return s}function a(e){const[t,n]=e;return 0===t.indexOf("data-")&&"string"==typeof n}function r(e){return 0===e[0].indexOf("aria-")}n.d(t,{filterAriaProps:()=>i,filterDataProps:()=>s,filterProps:()=>o,isAriaAttribute:()=>r,isDataAttribute:()=>a})},269842:(e,t,n)=>{"use strict";function s(...e){return t=>{for(const n of e)void 0!==n&&n(t)}}n.d(t,{createSafeMulticastEventHandler:()=>s})},670086:(e,t,n)=>{"use strict";n.d(t,{FragmentMap:()=>i});var s=n(50959);function i(e){if(e.map){return s.Children.toArray(e.children).map(e.map)}return e.children}},865266:(e,t,n)=>{"use strict";n.d(t,{useRovingTabindexElement:()=>a});var s=n(50959),i=n(718736),o=n(855393);function a(e,t=[]){const[n,a]=(0,s.useState)(!1),r=(0,i.useFunctionalRefObject)(e);return(0,
o.useIsomorphicLayoutEffect)((()=>{const e=r.current;if(null===e)return;const t=e=>{switch(e.type){case"roving-tabindex:main-element":a(!0);break;case"roving-tabindex:secondary-element":a(!1)}};return e.addEventListener("roving-tabindex:main-element",t),e.addEventListener("roving-tabindex:secondary-element",t),()=>{e.removeEventListener("roving-tabindex:main-element",t),e.removeEventListener("roving-tabindex:secondary-element",t)}}),t),[r,n?0:-1]}},361701:(e,t,n)=>{"use strict";n.d(t,{CircleLogo:()=>r,hiddenCircleLogoClass:()=>a});var s=n(50959),i=n(185934),o=n(757554);const a=n.n(o)().hidden;function r(e){const t=(0,i.isCircleLogoWithUrlProps)(e),[n,o]=(0,s.useState)(0),a=(0,s.useRef)(null),r=(0,i.getStyleClasses)(e.size,n,e.className),l=e.alt??e.title??"",c=t?l[0]:e.placeholderLetter;return(0,s.useEffect)((()=>o(a.current?.complete??!t?2:1)),[t]),t&&3!==n?s.createElement("img",{ref:a,className:r,crossOrigin:"",src:e.logoUrl,alt:l,title:e.title,loading:e.loading,onLoad:()=>o(2),onError:()=>o(3),"aria-label":e["aria-label"],"aria-hidden":e["aria-hidden"]}):s.createElement("span",{className:r,title:e.title,"aria-label":e["aria-label"],"aria-hidden":e["aria-hidden"]},c)}},68620:(e,t,n)=>{"use strict";n.d(t,{Hint:()=>r});var s=n(50959),i=n(497754),o=n.n(i),a=n(447429);function r(e){const{text:t="",className:n}=e;return s.createElement("span",{className:o()(a.shortcut,n)},t)}},729624:(e,t,n)=>{"use strict";n.d(t,{ContextMenuItem:()=>p});var s=n(50959),i=n(497754),o=n.n(i),a=n(878112),r=n(234404),l=n(134064),c=n(68620),u=n(339750),d=n(379978),h=n(460925),m=n(405264);function p(e){const{className:t,isTitle:n,isLoading:i,isHovered:p,active:g,checkable:v,disabled:b,checked:f,icon:_,iconChecked:y,hint:C,subItems:x,label:E,styledLabel:S,onClick:w,children:M,toolbox:k,jsxLabel:B,size:T="normal"}=e,R=(0,s.useContext)(l.EmptyIconsContext),D=!!x.length;return i?s.createElement("li",{className:o()(t,m.item,m.loading,m[T])},s.createElement(r.Loader,null)):s.createElement("li",{className:o()(t,m.item,m.interactive,n&&m.title,b&&m.disabled,p&&m.hovered,g&&m.active,R&&m.emptyIcons,m[T]),onClick:w},s.createElement(a.Icon,{className:o()(m.icon),icon:function(){if(v&&f)return y||_||u;return _}()}),s.createElement("span",{className:o()(m.label)},!B&&S?S.map((({text:e,...t},n)=>s.createElement("span",{key:n,style:t},e))):B??E),!!k&&s.createElement(a.Icon,{onClick:function(){k&&k.action()},className:m.remove,icon:h}),!D&&C&&s.createElement(c.Hint,{className:m.shortcut,text:C}),D&&s.createElement(a.Icon,{className:m.nested,icon:d}),M)}},134064:(e,t,n)=>{"use strict";n.d(t,{EmptyIconsContext:()=>s});const s=n(50959).createContext(!1)},163694:(e,t,n)=>{"use strict";n.d(t,{DrawerContext:()=>a,DrawerManager:()=>o});var s=n(50959),i=n(285089);class o extends s.PureComponent{constructor(e){super(e),this._isBodyFixed=!1,this._addDrawer=e=>{this.setState((t=>({stack:[...t.stack,e]})))},this._removeDrawer=e=>{this.setState((t=>({stack:t.stack.filter((t=>t!==e))})))},this.state={stack:[]}}componentDidUpdate(e,t){
!t.stack.length&&this.state.stack.length&&((0,i.setFixedBodyState)(!0),this._isBodyFixed=!0),t.stack.length&&!this.state.stack.length&&this._isBodyFixed&&((0,i.setFixedBodyState)(!1),this._isBodyFixed=!1)}componentWillUnmount(){this.state.stack.length&&this._isBodyFixed&&(0,i.setFixedBodyState)(!1)}render(){return s.createElement(a.Provider,{value:{addDrawer:this._addDrawer,removeDrawer:this._removeDrawer,currentDrawer:this.state.stack.length?this.state.stack[this.state.stack.length-1]:null}},this.props.children)}}const a=s.createContext(null)},759339:(e,t,n)=>{"use strict";n.d(t,{Drawer:()=>m});var s=n(50959),i=n(650151),o=n(497754),a=n(284170),r=n(8361),l=n(163694),c=n(28466),u=n(742554),d=n(276773);var h;function m(e){const{position:t="Bottom",onClose:n,children:u,reference:h,className:m,theme:g=d}=e,v=(0,i.ensureNotNull)((0,s.useContext)(l.DrawerContext)),[b]=(0,s.useState)((()=>(0,a.randomHash)())),f=(0,s.useRef)(null),_=(0,s.useContext)(c.CloseDelegateContext);return(0,s.useLayoutEffect)((()=>((0,i.ensureNotNull)(f.current).focus({preventScroll:!0}),_.subscribe(v,n),v.addDrawer(b),()=>{v.removeDrawer(b),_.unsubscribe(v,n)})),[]),s.createElement(r.Portal,null,s.createElement("div",{ref:h,className:o(d.wrap,d[`position${t}`])},b===v.currentDrawer&&s.createElement("div",{className:d.backdrop,onClick:n}),s.createElement(p,{className:o(g.drawer,d[`position${t}`],m),ref:f,"data-name":e["data-name"],"data-qa-id":e["data-qa-id"]},u)))}!function(e){e.Left="Left",e.Bottom="Bottom"}(h||(h={}));const p=(0,s.forwardRef)(((e,t)=>{const{className:n,...i}=e;return s.createElement(u.TouchScrollContainer,{className:o(d.drawer,n),tabIndex:-1,ref:t,...i})}))},494707:(e,t,n)=>{"use strict";n.d(t,{Separator:()=>a});var s=n(50959),i=n(497754),o=n(315015);function a(e){return s.createElement("div",{className:i(o.separator,e.className)})}},192063:(e,t,n)=>{"use strict";n.d(t,{DEFAULT_POPUP_MENU_ITEM_THEME:()=>u,PopupMenuItem:()=>h});var s=n(50959),i=n(497754),o=n(32133),a=n(370981),r=n(361701),l=n(111706),c=n(558590);const u=c;function d(e){e.stopPropagation()}function h(e){const{id:t,role:n,className:u,title:h,labelRowClassName:m,labelClassName:p,toolboxClassName:g,shortcut:v,forceShowShortcuts:b,icon:f,iconClassname:_,isActive:y,isDisabled:C,isHovered:x,appearAsDisabled:E,label:S,link:w,showToolboxOnHover:M,showToolboxOnFocus:k,target:B,rel:T,toolbox:R,toolboxRole:D,reference:A,onMouseOut:N,onMouseOver:W,onKeyDown:F,suppressToolboxClick:P=!0,theme:L=c,tabIndex:O,tagName:z,renderComponent:I,roundedIcon:H,iconAriaProps:U,circleLogo:j,dontClosePopup:V,onClick:X,onClickArg:Q,trackEventObject:q,trackMouseWheelClick:G,trackRightClick:J,startSlot:K,...$}=e,Z=(0,s.useRef)(null),Y=(0,s.useMemo)((()=>function(e){function t(t){const{reference:n,...i}=t,o=e??(i.href?"a":"div"),a="a"===o?i:function(e){const{download:t,href:n,hrefLang:s,media:i,ping:o,rel:a,target:r,type:l,referrerPolicy:c,...u}=e;return u}(i);return s.createElement(o,{...a,ref:n})}return t.displayName=`DefaultComponent(${e})`,t}(z)),[z]),ee=I??Y;return s.createElement(ee,{...$,
id:t,role:n,className:i(u,L.item,f&&L.withIcon,{[L.isActive]:y,[L.isDisabled]:C||E,[L.hovered]:x}),title:h,href:w,target:B,rel:T,reference:function(e){Z.current=e,"function"==typeof A&&A(e);"object"==typeof A&&(A.current=e)},onClick:function(e){if(C)return;q&&(0,o.trackEvent)(q.category,q.event,q.label);X&&X(Q,e);V||(e.currentTarget.dispatchEvent(new CustomEvent("popup-menu-close-event",{bubbles:!0,detail:{clickType:(0,l.isKeyboardClick)(e)?"keyboard":"mouse"}})),(0,a.globalCloseMenu)())},onContextMenu:function(e){q&&J&&(0,o.trackEvent)(q.category,q.event,`${q.label}_rightClick`)},onMouseUp:function(e){if(1===e.button&&w&&q){let e=q.label;G&&(e+="_mouseWheelClick"),(0,o.trackEvent)(q.category,q.event,e)}},onMouseOver:W,onMouseOut:N,onKeyDown:F,tabIndex:O},j&&s.createElement(r.CircleLogo,{...U,className:c["disclosure-item-circle-logo"],size:"xxxsmall",logoUrl:j.logoUrl,placeholderLetter:"placeholderLetter"in j?j.placeholderLetter:void 0}),K&&s.createElement("span",{className:L.startSlot},K),f&&s.createElement("span",{"aria-label":U&&U["aria-label"],"aria-hidden":U&&Boolean(U["aria-hidden"]),className:i(L.icon,H&&c["round-icon"],_),dangerouslySetInnerHTML:{__html:f}}),s.createElement("span",{className:i(L.labelRow,m)},s.createElement("span",{className:i(L.label,p)},S)),(void 0!==v||b)&&s.createElement("span",{className:L.shortcut},(te=v)&&te.split("+").join(" + ")),void 0!==R&&s.createElement("span",{role:D,onClick:P?d:void 0,className:i(g,L.toolbox,{[L.showOnHover]:M,[L.showOnFocus]:k})},R));var te}},917850:(e,t,n)=>{"use strict";n.d(t,{PopupMenuSeparator:()=>l});var s,i=n(50959),o=n(497754),a=n.n(o),r=n(540359);function l(e){const{size:t="normal",className:n,ariaHidden:s=!1}=e;return i.createElement("div",{className:a()(r.separator,"small"===t&&r.small,"normal"===t&&r.normal,"large"===t&&r.large,n),role:"separator","aria-hidden":s})}!function(e){e.Small="small",e.Large="large",e.Normal="normal"}(s||(s={}))},624216:(e,t,n)=>{"use strict";n.d(t,{PopupMenu:()=>h});var s=n(50959),i=n(632227),o=n(688987),a=n(8361),r=n(510618),l=n(28466);const c=s.createContext(void 0);var u=n(908783);const d=s.createContext({setMenuMaxWidth:!1});function h(e){const{controller:t,children:n,isOpened:h,closeOnClickOutside:m=!0,doNotCloseOn:p,onClickOutside:g,onClose:v,onKeyboardClose:b,"data-name":f="popup-menu-container",closeOnScrollOutsideOffset:_,...y}=e,C=(0,s.useContext)(l.CloseDelegateContext),x=s.useContext(d),E=(0,s.useContext)(c),S=(0,u.useOutsideEvent)({handler:function(e){g&&g(e);if(!m)return;const t=(0,o.default)(p)?p():null==p?[]:[p];if(t.length>0&&e.target instanceof Node)for(const n of t){const t=i.findDOMNode(n);if(t instanceof Node&&t.contains(e.target))return}v()},mouseDown:!0,touchStart:!0});return h?s.createElement(a.Portal,{top:"0",left:"0",right:"0",bottom:"0",pointerEvents:"none"},s.createElement("span",{ref:S,style:{pointerEvents:"auto"}},s.createElement(r.Menu,{...y,onClose:v,onKeyboardClose:b,onScroll:function(t){const{onScroll:n}=e;n&&n(t)},customCloseDelegate:C,customRemeasureDelegate:E,ref:t,"data-name":f,
limitMaxWidth:x.setMenuMaxWidth,"data-tooltip-show-on-focus":"true",closeOnScrollOutsideOffset:_},n))):null}},515783:(e,t,n)=>{"use strict";n.d(t,{ToolWidgetCaret:()=>l});var s=n(50959),i=n(497754),o=n(878112),a=n(686186),r=n(100578);function l(e){const{dropped:t,className:n}=e;return s.createElement(o.Icon,{className:i(n,a.icon,{[a.dropped]:t}),icon:r})}},742554:(e,t,n)=>{"use strict";n.d(t,{TouchScrollContainer:()=>c});var s=n(50959),i=n(259142),o=n(650151),a=n(601227);const r=CSS.supports("overscroll-behavior","none");let l=0;const c=(0,s.forwardRef)(((e,t)=>{const{children:n,...o}=e,c=(0,s.useRef)(null);return(0,s.useImperativeHandle)(t,(()=>c.current)),(0,s.useLayoutEffect)((()=>{if(a.CheckMobile.iOS())return l++,null!==c.current&&(r?1===l&&(document.body.style.overscrollBehavior="none"):(0,i.disableBodyScroll)(c.current,{allowTouchMove:u(c)})),()=>{l--,null!==c.current&&(r?0===l&&(document.body.style.overscrollBehavior=""):(0,i.enableBodyScroll)(c.current))}}),[]),s.createElement("div",{ref:c,...o},n)}));function u(e){return t=>{const n=(0,o.ensureNotNull)(e.current),s=document.activeElement;return!n.contains(t)||null!==s&&n.contains(s)&&s.contains(t)}}},493173:(e,t,n)=>{"use strict";function s(e,t,n={}){return Object.assign({},e,function(e,t,n={}){const s=Object.assign({},t);for(const i of Object.keys(t)){const o=n[i]||i;o in e&&(s[i]=[e[o],t[i]].join(" "))}return s}(e,t,n))}n.d(t,{mergeThemes:()=>s})},906132:(e,t,n)=>{"use strict";var s=n(522134);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==s){var r=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw r.name="Invariant Violation",r}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},719036:(e,t,n)=>{e.exports=n(906132)()},522134:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},611098:e=>{e.exports={accessible:"accessible-NQERJsv9",active:"active-NQERJsv9"}},699343:e=>{e.exports={button:"button-GwQQdU8S",pressed:"pressed-GwQQdU8S",hover:"hover-GwQQdU8S",clicked:"clicked-GwQQdU8S",isInteractive:"isInteractive-GwQQdU8S",accessible:"accessible-GwQQdU8S",isGrouped:"isGrouped-GwQQdU8S",isActive:"isActive-GwQQdU8S",isOpened:"isOpened-GwQQdU8S",isDisabled:"isDisabled-GwQQdU8S",text:"text-GwQQdU8S",icon:"icon-GwQQdU8S",endIcon:"endIcon-GwQQdU8S"}},480204:e=>{e.exports={button:"button-xNqEcuN2"}},879619:e=>{e.exports={title:"title-u3QJgF_p"}},163024:e=>{e.exports={button:"button-merBkM5y",hover:"hover-merBkM5y",clicked:"clicked-merBkM5y",accessible:"accessible-merBkM5y",arrow:"arrow-merBkM5y",arrowWrap:"arrowWrap-merBkM5y",isOpened:"isOpened-merBkM5y"}},478748:e=>{e.exports={toolbar:"toolbar-BXXUwft2",
dateRangeWrapper:"dateRangeWrapper-BXXUwft2",noranges:"noranges-BXXUwft2",dateRangeExpanded:"dateRangeExpanded-BXXUwft2",separator:"separator-BXXUwft2",seriesControlWrapper:"seriesControlWrapper-BXXUwft2",dateRangeCollapsed:"dateRangeCollapsed-BXXUwft2",item:"item-BXXUwft2",inline:"inline-BXXUwft2",dateRange:"dateRange-BXXUwft2",fullscreenButton:"fullscreenButton-BXXUwft2",hidden:"hidden-BXXUwft2",collapsed:"collapsed-BXXUwft2",fullscreenBtn:"fullscreenBtn-BXXUwft2"}},84524:e=>{e.exports={button:"button-Hfju7pW_"}},949449:e=>{e.exports={button:"button-uToIfRbZ"}},380071:e=>{e.exports={separator:"separator-yDfG9Ccu"}},784242:e=>{e.exports={headerMenuText:"headerMenuText-AcJrLng7"}},115573:e=>{e.exports={button:"button-x1dCOTP3",disabled:"disabled-x1dCOTP3",hover:"hover-x1dCOTP3",clicked:"clicked-x1dCOTP3",accessible:"accessible-x1dCOTP3"}},240091:e=>{e.exports={wrap:"wrap-k2h4OAz8",item:"item-k2h4OAz8"}},920488:(e,t,n)=>{"use strict";n.d(t,{focusFirstMenuItem:()=>u,handleAccessibleMenuFocus:()=>l,handleAccessibleMenuKeyDown:()=>c,queryMenuElements:()=>m});var s=n(947278),i=n(738152),o=n(180185),a=n(32556);const r=[37,39,38,40];function l(e,t){if(!e.target)return;const n=e.relatedTarget?.getAttribute("aria-activedescendant");if(e.relatedTarget!==t.current){const e=n&&document.getElementById(n);if(!e||e!==t.current)return}u(e.target)}function c(e){if(e.defaultPrevented)return;const t=(0,o.hashFromEvent)(e);if(!r.includes(t))return;const n=document.activeElement;if(!(document.activeElement instanceof HTMLElement))return;const a=m(e.currentTarget).sort(s.navigationOrderComparator);if(0===a.length)return;const l=document.activeElement.closest('[data-role="menuitem"]')||document.activeElement.parentElement?.querySelector('[data-role="menuitem"]');if(!(l instanceof HTMLElement))return;const c=a.indexOf(l);if(-1===c)return;const u=p(l),g=u.indexOf(document.activeElement),v=-1!==g,b=e=>{n&&(0,i.becomeSecondaryElement)(n),(0,i.becomeMainElement)(e),e.focus()};switch((0,s.mapKeyCodeToDirection)(t)){case"inlinePrev":if(!u.length)return;e.preventDefault(),b(0===g?a[c]:v?d(u,g,-1):u[u.length-1]);break;case"inlineNext":if(!u.length)return;e.preventDefault(),g===u.length-1?b(a[c]):b(v?d(u,g,1):u[0]);break;case"blockPrev":{e.preventDefault();const t=d(a,c,-1);if(v){const e=h(t,g);b(e||t);break}b(t);break}case"blockNext":{e.preventDefault();const t=d(a,c,1);if(v){const e=h(t,g);b(e||t);break}b(t)}}}function u(e){const[t]=m(e);t&&((0,i.becomeMainElement)(t),t.focus())}function d(e,t,n){return e[(t+e.length+n)%e.length]}function h(e,t){const n=p(e);return n.length?n[(t+n.length)%n.length]:null}function m(e){return Array.from(e.querySelectorAll('[data-role="menuitem"]:not([disabled]):not([aria-disabled])')).filter((0,a.createScopedVisibleElementFilter)(e))}function p(e){return Array.from(e.querySelectorAll("[tabindex]:not([disabled]):not([aria-disabled])")).filter((0,a.createScopedVisibleElementFilter)(e))}},738152:(e,t,n)=>{"use strict";var s;function i(e){e.dispatchEvent(new CustomEvent("roving-tabindex:main-element"))}function o(e){
e.dispatchEvent(new CustomEvent("roving-tabindex:secondary-element"))}n.d(t,{becomeMainElement:()=>i,becomeSecondaryElement:()=>o}),function(e){e.MainElement="roving-tabindex:main-element",e.SecondaryElement="roving-tabindex:secondary-element"}(s||(s={}))},462576:(e,t,n)=>{"use strict";n.d(t,{AccessibleIconButton:()=>o});var s=n(50959),i=n(935919);const o=(0,s.forwardRef)((function(e,t){const{tooltip:n,...o}=e;return s.createElement(i.ToolWidgetIconButton,{"aria-label":n,...o,tag:"button",ref:t,"data-tooltip":n,"data-tooltip-show-on-focus":"true"})}))},92679:(e,t,n)=>{"use strict";n.d(t,{AccessibleMenuButton:()=>r});var s=n(50959),i=n(718736),o=n(119437),a=n(920488);const r=(0,s.forwardRef)((function(e,t){const{tooltip:n,tag:r,buttonRef:l,reference:c,...u}=e,d=(0,i.useFunctionalRefObject)(c??null);return s.createElement(o.ToolWidgetMenu,{"aria-label":n,...u,ref:t,tag:r??"button",reference:l??d,"data-tooltip":n,onMenuKeyDown:a.handleAccessibleMenuKeyDown,onMenuFocus:e=>(0,a.handleAccessibleMenuFocus)(e,l??d)})}))},822039:(e,t,n)=>{"use strict";n.d(t,{AccessibleMenuItem:()=>u});var s=n(50959),i=n(497754),o=n.n(i),a=n(930202),r=n(865266),l=n(192063),c=n(611098);function u(e){const{className:t,reference:n,...i}=e,[u,d]=(0,r.useRovingTabindexElement)(n??null);return s.createElement(l.PopupMenuItem,{...i,className:o()(c.accessible,e.isActive&&c.active,t),reference:u,tabIndex:d,onKeyDown:function(e){if(e.target!==e.currentTarget)return;const t=(0,a.hashFromEvent)(e);13!==t&&32!==t||(e.preventDefault(),u.current instanceof HTMLElement&&u.current.click())},"data-role":"menuitem","aria-disabled":e.isDisabled||void 0,toolboxRole:"toolbar"})}},752509:(e,t,n)=>{"use strict";n.d(t,{HorizontalAttachEdge:()=>i,HorizontalDropDirection:()=>a,VerticalAttachEdge:()=>s,VerticalDropDirection:()=>o,getPopupPositioner:()=>c});var s,i,o,a,r=n(650151);!function(e){e[e.Top=0]="Top",e[e.Bottom=1]="Bottom",e[e.AutoStrict=2]="AutoStrict"}(s||(s={})),function(e){e[e.Left=0]="Left",e[e.Right=1]="Right"}(i||(i={})),function(e){e[e.FromTopToBottom=0]="FromTopToBottom",e[e.FromBottomToTop=1]="FromBottomToTop"}(o||(o={})),function(e){e[e.FromLeftToRight=0]="FromLeftToRight",e[e.FromRightToLeft=1]="FromRightToLeft"}(a||(a={}));const l={verticalAttachEdge:s.Bottom,horizontalAttachEdge:i.Left,verticalDropDirection:o.FromTopToBottom,horizontalDropDirection:a.FromLeftToRight,verticalMargin:0,horizontalMargin:0,matchButtonAndListboxWidths:!1};function c(e,t){return n=>{const{contentWidth:c,contentHeight:u,availableHeight:d}=n,h=(0,r.ensureNotNull)(e).getBoundingClientRect(),{horizontalAttachEdge:m=l.horizontalAttachEdge,horizontalDropDirection:p=l.horizontalDropDirection,horizontalMargin:g=l.horizontalMargin,verticalMargin:v=l.verticalMargin,matchButtonAndListboxWidths:b=l.matchButtonAndListboxWidths}=t;let f=t.verticalAttachEdge??l.verticalAttachEdge,_=t.verticalDropDirection??l.verticalDropDirection;f===s.AutoStrict&&(d<h.y+h.height+v+u?(f=s.Top,_=o.FromBottomToTop):(f=s.Bottom,_=o.FromTopToBottom))
;const y=f===s.Top?-1*v:v,C=m===i.Right?h.right:h.left,x=f===s.Top?h.top:h.bottom,E={x:C-(p===a.FromRightToLeft?c:0)+g,y:x-(_===o.FromBottomToTop?u:0)+y};return b&&(E.overrideWidth=h.width),E}}},795641:(e,t,n)=>{"use strict";n.d(t,{DEFAULT_TOOL_WIDGET_BUTTON_THEME:()=>r,ToolWidgetButton:()=>l});var s=n(50959),i=n(497754),o=n(878112),a=n(699343);const r=a,l=s.forwardRef(((e,t)=>{const{tag:n="div",icon:r,endIcon:l,isActive:c,isOpened:u,isDisabled:d,isDisabledAppearance:h,isGrouped:m,isHovered:p,isClicked:g,onClick:v,text:b,textBeforeIcon:f,title:_,theme:y=a,className:C,forceInteractive:x,"data-name":E,"data-tooltip":S,tooltipPosition:w,children:M,isPressed:k,...B}=e,T=i(C,y.button,{"apply-common-tooltip":Boolean(_||S),"common-tooltip-vertical":Boolean(S)&&"vertical"===w,[y.isActive]:c,[y.isOpened]:u,[y.isInteractive]:(x||Boolean(v))&&!d&&!h,[y.isDisabled]:Boolean(d||h),[y.isGrouped]:m,[y.hover]:p,[y.clicked]:g,[y.pressed]:k}),R=r&&("string"==typeof r?s.createElement(o.Icon,{className:y.icon,icon:r}):s.cloneElement(r,{className:i(y.icon,r.props.className)}));return"button"===n?s.createElement("button",{...B,ref:t,type:"button",className:i(T,y.accessible),disabled:d&&!h,onClick:v,title:_,"data-name":E,"data-tooltip":S},f&&b&&s.createElement("div",{className:i("js-button-text",y.text)},b),R,!f&&b&&s.createElement("div",{className:i("js-button-text",y.text)},b),M):s.createElement("div",{...B,ref:t,"data-role":"button",className:T,onClick:d?void 0:v,title:_,"data-name":E,"data-tooltip":S},f&&b&&s.createElement("div",{className:i("js-button-text",y.text)},b),R,!f&&b&&s.createElement("div",{className:i("js-button-text",y.text)},b),l&&s.createElement(o.Icon,{icon:l,className:a.endIcon}),M)}))},935919:(e,t,n)=>{"use strict";n.d(t,{ToolWidgetIconButton:()=>r});var s=n(50959),i=n(497754),o=n(795641),a=n(480204);const r=s.forwardRef((function(e,t){const{className:n,id:r,...l}=e;return s.createElement(o.ToolWidgetButton,{id:r,"data-name":r,...l,ref:t,className:i(n,a.button)})}))},729314:(e,t,n)=>{"use strict";n.d(t,{ToolWidgetMenuSummary:()=>a});var s=n(50959),i=n(497754),o=n(879619);function a(e){return s.createElement("div",{className:i(e.className,o.title)},e.children)}},119437:(e,t,n)=>{"use strict";n.d(t,{DEFAULT_TOOL_WIDGET_MENU_THEME:()=>b,ToolWidgetMenu:()=>_});var s=n(50959),i=n(497754),o=n.n(i),a=n(930202),r=n(624216),l=n(515783),c=n(800417),u=n(163694),d=n(759339),h=n(752509),m=n(930052),p=n(534934),g=n(111706),v=n(163024);const b=v;var f;!function(e){e[e.Vertical=2]="Vertical",e[e.Horizontal=0]="Horizontal"}(f||(f={}));class _ extends s.PureComponent{constructor(e){super(e),this._wrapperRef=null,this._controller=s.createRef(),this._onPopupCloseOnClick=e=>{"keyboard"===e.detail.clickType&&this.focus()},this._handleMenuFocus=e=>{e.relatedTarget===this._wrapperRef&&this.setState((e=>({...e,isOpenedByButton:!0}))),this.props.onMenuFocus?.(e)},this._handleWrapperRef=e=>{this._wrapperRef=e,this.props.reference&&this.props.reference(e)},this._handleOpen=()=>{"div"!==this.props.tag&&(this.setState((e=>({...e,isOpenedByButton:!1
}))),this.props.menuReference?.current?.addEventListener("popup-menu-close-event",this._onPopupCloseOnClick),this._controller.current?.focus())},this._handleClick=e=>{(p.enabled("skip_event_target_check")||e.target instanceof Node)&&e.currentTarget.contains(e.target)&&(this._handleToggleDropdown(void 0,(0,g.isKeyboardClick)(e)),this.props.onClick&&this.props.onClick(e,!this.state.isOpened))},this._handleToggleDropdown=(e,t=!1)=>{const{onClose:n,onOpen:s}=this.props,{isOpened:i}=this.state,o="boolean"==typeof e?e:!i;this.setState({isOpened:o,shouldReturnFocus:!!o&&t}),o&&s&&s(),!o&&n&&n()},this._handleClose=()=>{this.close()},this._handleKeyDown=e=>{const{orientation:t="horizontal"}=this.props;if(e.defaultPrevented)return;if(!(e.target instanceof Node))return;const n=(0,a.hashFromEvent)(e);if(e.currentTarget.contains(e.target))switch(n){case 40:if("div"===this.props.tag||"horizontal"!==t)return;if(this.state.isOpened)return;e.preventDefault(),this._handleToggleDropdown(!0,!0);break;case 27:if(!this.state.isOpened||!this.props.closeOnEsc)return;e.preventDefault(),e.stopPropagation(),this._handleToggleDropdown(!1)}else{if("div"===this.props.tag)return;switch(n){case 27:{e.preventDefault();const{shouldReturnFocus:t,isOpenedByButton:n}=this.state;this._handleToggleDropdown(!1),t&&n&&this._wrapperRef?.focus();break}}}},this.state={isOpened:!1,shouldReturnFocus:!1,isOpenedByButton:!1}}render(){const{tag:e="div",id:t,arrow:n,content:i,isDisabled:a,isDrawer:r,isShowTooltip:u,title:d,className:h,hotKey:p,theme:g,drawerBreakpoint:v,tabIndex:b,isClicked:f}=this.props,{isOpened:_}=this.state,C=o()(h,g.button,{"apply-common-tooltip":u||!a,[g.isDisabled]:a,[g.isOpened]:_,[g.clicked]:f}),x=y(i)?i({isOpened:_}):i;return"button"===e?s.createElement("button",{type:"button",id:t,className:o()(C,g.accessible),disabled:a,onClick:this._handleClick,title:d,"data-tooltip-hotkey":p,ref:this._handleWrapperRef,onKeyDown:this._handleKeyDown,tabIndex:b,...(0,c.filterDataProps)(this.props),...(0,c.filterAriaProps)(this.props)},x,n&&s.createElement("div",{className:g.arrow},s.createElement("div",{className:g.arrowWrap},s.createElement(l.ToolWidgetCaret,{dropped:_}))),this.state.isOpened&&(v?s.createElement(m.MatchMedia,{rule:v},(e=>this._renderContent(e))):this._renderContent(r))):s.createElement("div",{id:t,className:C,onClick:a?void 0:this._handleClick,title:d,"data-tooltip-hotkey":p,ref:this._handleWrapperRef,"data-role":"button",tabIndex:b,onKeyDown:this._handleKeyDown,"aria-haspopup":this.props["aria-haspopup"],...(0,c.filterDataProps)(this.props)},x,n&&s.createElement("div",{className:g.arrow},s.createElement("div",{className:g.arrowWrap},s.createElement(l.ToolWidgetCaret,{dropped:_}))),this.state.isOpened&&(v?s.createElement(m.MatchMedia,{rule:v},(e=>this._renderContent(e))):this._renderContent(r)))}close(){this.props.menuReference?.current?.removeEventListener("popup-menu-close-event",this._onPopupCloseOnClick),this._handleToggleDropdown(!1)}focus(){this._wrapperRef?.focus()}update(){
null!==this._controller.current&&this._controller.current.update()}_renderContent(e){const{menuDataName:t,minWidth:n,menuClassName:i,menuRole:o,maxHeight:a,drawerPosition:l="Bottom",children:c,noMomentumBasedScroll:m}=this.props,{isOpened:p}=this.state,g={horizontalMargin:this.props.horizontalMargin||0,verticalMargin:this.props.verticalMargin||2,verticalAttachEdge:this.props.verticalAttachEdge,horizontalAttachEdge:this.props.horizontalAttachEdge,verticalDropDirection:this.props.verticalDropDirection,horizontalDropDirection:this.props.horizontalDropDirection,matchButtonAndListboxWidths:this.props.matchButtonAndListboxWidths},v=Boolean(p&&e&&l),b=y(c)?c({isDrawer:v}):c;return v?s.createElement(u.DrawerManager,null,s.createElement(d.Drawer,{reference:this.props.drawerReference,onClose:this._handleClose,position:l,"data-name":t},b)):s.createElement(r.PopupMenu,{reference:this.props.menuReference,role:o,controller:this._controller,closeOnClickOutside:this.props.closeOnClickOutside,doNotCloseOn:this,isOpened:p,minWidth:n,onClose:this._handleClose,position:(0,h.getPopupPositioner)(this._wrapperRef,g),className:i,maxHeight:a,"data-name":t,tabIndex:"div"!==this.props.tag?-1:void 0,onOpen:this._handleOpen,onKeyDown:this.props.onMenuKeyDown,onFocus:this._handleMenuFocus,noMomentumBasedScroll:m},b)}}function y(e){return"function"==typeof e}_.defaultProps={arrow:!0,closeOnClickOutside:!0,theme:v}},40851:(e,t,n)=>{"use strict";n.d(t,{DEFAULT_TOOLBAR_BUTTON_THEME:()=>a,ToolbarButton:()=>r});var s=n(50959),i=n(795641),o=n(865266);const a=i.DEFAULT_TOOL_WIDGET_BUTTON_THEME,r=(0,s.forwardRef)((function(e,t){const{tooltip:n,...a}=e,[r,l]=(0,o.useRovingTabindexElement)(t);return s.createElement(i.ToolWidgetButton,{"aria-label":n,...a,tag:"button",ref:r,tabIndex:l,"data-tooltip":n})}))},466377:(e,t,n)=>{"use strict";n.d(t,{ToolbarIconButton:()=>a});var s=n(50959),i=n(865266),o=n(462576);const a=(0,s.forwardRef)((function(e,t){const[n,a]=(0,i.useRovingTabindexElement)(t);return s.createElement(o.AccessibleIconButton,{...e,ref:n,tabIndex:a})}))},588380:(e,t,n)=>{"use strict";n.d(t,{ToolbarMenuButton:()=>l});var s=n(50959),i=n(718736),o=n(865266),a=n(132208),r=n(92679);const l=(0,s.forwardRef)((function(e,t){const{tooltip:n,menuReference:l=null,...c}=e,[u,d]=(0,o.useRovingTabindexElement)(null),h=(0,i.useFunctionalRefObject)(l);return s.createElement(r.AccessibleMenuButton,{"aria-label":n,"aria-haspopup":"menu",...a.MouseClickAutoBlurHandler.attributes(),...c,ref:t,tag:"button",buttonRef:u,tabIndex:d,menuReference:h,tooltip:n})}))},589422:(e,t,n)=>{"use strict";n.d(t,{Toolbar:()=>d});var s=n(50959),i=n(650151),o=n(269842),a=n(930202),r=n(947278),l=n(738152),c=n(718736),u=n(132208);const d=(0,s.forwardRef)((function(e,t){const{onKeyDown:n,orientation:d,blurOnEscKeydown:h=!0,blurOnClick:m=!0,...p}=e,g=(0,c.useFunctionalRefObject)(t);return(0,s.useLayoutEffect)((()=>{const e=(0,i.ensureNotNull)(g.current),t=()=>{const t=(0,r.queryTabbableElements)(e).sort(r.navigationOrderComparator);if(0===t.length){const[t]=(0,
r.queryFocusableElements)(e).sort(r.navigationOrderComparator);if(void 0===t)return;(0,l.becomeMainElement)(t)}if(t.length>1){const[,...e]=t;for(const t of e)(0,l.becomeSecondaryElement)(t)}};return window.addEventListener("keyboard-navigation-activation",t),()=>window.removeEventListener("keyboard-navigation-activation",t)}),[]),s.createElement("div",{...u.MouseClickAutoBlurHandler.attributes(m),...p,role:"toolbar","aria-orientation":d,ref:g,onKeyDown:(0,o.createSafeMulticastEventHandler)((function(e){if(e.defaultPrevented)return;if(!(document.activeElement instanceof HTMLElement))return;const t=(0,a.hashFromEvent)(e);if(h&&27===t)return e.preventDefault(),void document.activeElement.blur();if("vertical"!==d&&37!==t&&39!==t)return;if("vertical"===d&&38!==t&&40!==t)return;const n=e.currentTarget,s=(0,r.queryFocusableElements)(n).sort(r.navigationOrderComparator);if(0===s.length)return;const i=s.indexOf(document.activeElement);if(-1===i)return;e.preventDefault();const o=()=>{const e=(i+s.length-1)%s.length;(0,l.becomeSecondaryElement)(s[i]),(0,l.becomeMainElement)(s[e]),s[e].focus()},c=()=>{const e=(i+s.length+1)%s.length;(0,l.becomeSecondaryElement)(s[i]),(0,l.becomeMainElement)(s[e]),s[e].focus()};switch((0,r.mapKeyCodeToDirection)(t)){case"inlinePrev":"vertical"!==d&&o();break;case"inlineNext":"vertical"!==d&&c();break;case"blockPrev":"vertical"===d&&o();break;case"blockNext":"vertical"===d&&c()}}),n),"data-tooltip-show-on-focus":"true"})}))},934988:(e,t,n)=>{"use strict";n.r(t),n.d(t,{BottomToolbarRenderer:()=>At});var s=n(50959),i=n(632227),o=n(609838),a=n(719036),r=n(497754),l=n.n(r),c=n(534934),u=n(588380),d=n(752509),h=n(370981),m=n(930052),p=n(822039),g=n(917850),v=n(650151),b=n(32133),f=n(547622),_=n(627692),y=n(298670),C=n(271706);const x=e=>o.t(null,{plural:"{str} minutes",count:e,replace:{str:`${e}`}},n(805926)),E=e=>o.t(null,{plural:"{str} hours",count:e,replace:{str:`${e}`}},n(664963)),S=e=>o.t(null,{plural:"{str} months",count:e,replace:{str:`${e}`}},n(520062)),w=e=>e,M={[w("1")]:{resolution:"1",text:x(1)},[w("3")]:{resolution:"3",text:x(3)},[w("5")]:{resolution:"5",text:x(5)},[w("15")]:{resolution:"15",text:x(15)},[w("30")]:{resolution:"30",text:x(30)},[w("45")]:{resolution:"45",text:x(45)},[w("60")]:{resolution:"60",text:E(1)},[w("120")]:{resolution:"120",text:E(2)},[w("180")]:{resolution:"180",text:E(3)},[w("240")]:{resolution:"240",text:E(4)},[w("1D")]:{resolution:"1D",text:(T=1,o.t(null,{plural:"{str} days",count:T,replace:{str:`${T}`}},n(862368)))},[w("1W")]:{resolution:"1W",text:(B=1,o.t(null,{plural:"{str} weeks",count:B,replace:{str:`${B}`}},n(149306)))},[w("1M")]:{resolution:"1M",text:S(1)},[w("3M")]:{resolution:"3M",text:S(3)},[w("6M")]:{resolution:"6M",text:S(6)},[w("12M")]:{resolution:"12M",text:(k=1,o.t(null,{plural:"{str} years",count:k,replace:{str:`${k}`}},n(791549)))}};var k,B,T;function R(e){const t=function(e){const t=e.value.value,s=C.Interval.parse(t);if(!s.isValid()){if("YTD"===t)return o.t(null,{context:"timeframe_title"},n(119273));if("ALL"===t)return o.t(null,{
context:"timeframe_title"},n(858221));if("LASTSESSION"===t)return N(1)}if(s.isMinutes()){const e=s.multiplier();return e%60!=0?D(e):A(e/60)}if(s.isDays())return N(s.multiplier());if(s.isWeeks())return W(s.multiplier());if(s.isMonths()){const e=s.multiplier();return e%12!=0?F(e):P(e/12)}return e.description||e.text}(e),s=function(e){const t=e.targetResolution,n=C.Interval.parse(t);if(n.isMinutes()){const e=n.multiplier();return e%60!=0?L(e):O(e/60)}if(n.isDays())return z(n.multiplier());if(n.isWeeks())return I(n.multiplier());if(n.isMonths()){const e=n.multiplier();return e%12!=0?H(e):U(e/12)}return M[t].text}(e);return o.t(null,{replace:{timePeriod:t,timeInterval:s},context:"timeframe_title"},n(458426))}const D=e=>o.t(null,{plural:"{str} minutes",count:e,replace:{str:`${e}`},context:"timeframe_title"},n(995484)),A=e=>o.t(null,{plural:"{str} hours",count:e,replace:{str:`${e}`},context:"timeframe_title"},n(772495)),N=e=>o.t(null,{plural:"{str} days",count:e,replace:{str:`${e}`},context:"timeframe_title"},n(263808)),W=e=>o.t(null,{plural:"{str} weeks",count:e,replace:{str:`${e}`},context:"timeframe_title"},n(6088)),F=e=>o.t(null,{plural:"{str} months",count:e,replace:{str:`${e}`},context:"timeframe_title"},n(712752)),P=e=>o.t(null,{plural:"{str} years",count:e,replace:{str:`${e}`},context:"timeframe_title"},n(396325)),L=e=>o.t(null,{plural:"{str} minutes intervals",count:e,replace:{str:`${e}`},context:"timeframe_title"},n(815489)),O=e=>o.t(null,{plural:"{str} hours intervals",count:e,replace:{str:`${e}`},context:"timeframe_title"},n(414887)),z=e=>o.t(null,{plural:"{str} days intervals",count:e,replace:{str:`${e}`},context:"timeframe_title"},n(300561)),I=e=>o.t(null,{plural:"{str} weeks intervals",count:e,replace:{str:`${e}`},context:"timeframe_title"},n(960316)),H=e=>o.t(null,{plural:"{str} months intervals",count:e,replace:{str:`${e}`},context:"timeframe_title"},n(548514)),U=e=>o.t(null,{plural:"{str} years intervals",count:e,replace:{str:`${e}`},context:"timeframe_title"},n(278971));class j{constructor(e){this._state={ranges:[]},this._firstBarTime1D=null,this._waitingUpdateAfterSymbolResolved=!0,this._change=new _.Delegate,this._rangeChangedListenerBound=this._onRangeChanged.bind(this);const{chartWidget:t}=this._context=e;t.withModel(null,(()=>{const e=t.model(),n=e.mainSeries();n.onStatusChanged().subscribe(this,this._updateAvailableRanges),n.dataEvents().symbolResolved().subscribe(this,(()=>this._updateRangesByQuotesData())),n.priceScale().properties().childs().lockScale.subscribe(this,(()=>this._updateAvailableRanges()));const s=e.model().appliedTimeFrame();s.subscribe(this._rangeChangedListenerBound),this._rangeChangedListenerBound(s.value()),this._updateRangesByQuotesData()}))}state(){return this._state}onChange(){return this._change}selectRange(e){this._setState({activeRange:e.value.value});const{chartWidgetCollection:t}=this._context,n={val:e.value,res:e.targetResolution};t.setTimeFrame(n)}destroy(){const{chartWidget:e}=this._context;e.withModel(null,(()=>{const t=e.model(),n=t.mainSeries()
;n.onStatusChanged().unsubscribeAll(this),n.dataEvents().symbolResolved().unsubscribeAll(this),n.quotesProvider().quotesUpdate().unsubscribeAll(this),n.priceScale().properties().childs().lockScale.unsubscribeAll(this),t.model().appliedTimeFrame().unsubscribe(this._rangeChangedListenerBound)})),this._change.destroy(),this._lastAbortController?.abort()}_setState(e){this._state=Object.assign({},this._state,e),this._change.fire(this._state)}_onRangeChanged(e){let t;null!==e&&"period-back"===e.val.type&&(t=e.val.value),this._setState({activeRange:t})}_updateRangesByQuotesData(){const{chartWidget:e}=this._context;if(!e.hasModel())return;this._lastAbortController?.abort();const t=new AbortController;this._lastAbortController=t;const n=e.model().mainSeries();n.quotesProvider().quotesUpdate().unsubscribeAll(this),this._waitingUpdateAfterSymbolResolved=!0,this._firstBarTime1D=null,Promise.race([(0,y.delay)(null,0),new Promise((e=>{const t=()=>{void 0!==n.quotes()?.open_price&&(n.quotesProvider().quotesUpdate().unsubscribeAll(this),e())};n.quotesProvider().quotesUpdate().subscribe(this,t),t()}))]).then((()=>{t.signal.aborted||(this._waitingUpdateAfterSymbolResolved=!1,this._updateAvailableRanges())}))}_updateAvailableRanges(e){const{availableTimeFrames:t,chartWidget:n}=this._context;if(!n.hasModel())return;const s=n.model().mainSeries(),i=s.symbolInfo(),o=s.status();if(2===o||1===o||this._waitingUpdateAfterSymbolResolved||e&&!i)return;const a=s.quotes()?.first_bar_time_1d??-1/0;if(this._firstBarTime1D===a)return;this._firstBarTime1D=a;const r=t(i,o,a).map((e=>({...e,description:""===e.description?R(e):e.description})));this._setState({ranges:r})}}const V=(0,f.registryContextType)();function X(e){var t;return(t=class extends s.PureComponent{constructor(e,t){super(e,t),this._handleUpdate=e=>{this.setState(e)},this._handleSelectRange=e=>{(0,b.trackEvent)("GUI","Chart Bottom Toolbar",`range ${e.value}`),this.props.onSelectRange?.(e),this._binding.selectRange(e)},(0,f.validateRegistry)(t,{availableTimeFrames:a.any.isRequired,chartWidgetCollection:a.any.isRequired,chartWidget:a.any.isRequired}),Q.has(t.chartWidget)||Q.set(t.chartWidget,new j(t));const n=this._binding=(0,v.ensureDefined)(Q.get(t.chartWidget));this.state=n.state()}componentDidMount(){this._binding.onChange().subscribe(this,this._handleUpdate)}componentWillUnmount(){this._binding.onChange().unsubscribe(this,this._handleUpdate)}render(){return s.createElement(e,{goToDateButton:this.props.goToDateButton,className:this.props.className,ranges:this.state.ranges,activeRange:this.state.activeRange,onSelectRange:this._handleSelectRange})}}).contextType=V,t}const Q=new WeakMap;var q=n(851076),G=n(729624),J=n(494707),K=n(851310),$=n(290752),Z=n(84524);function Y(e){const{ranges:t,activeRange:n,onSelectRange:i}=e;return s.createElement(s.Fragment,null,t.map((e=>s.createElement(G.ContextMenuItem,{key:e.value.value,label:e.description||e.text,active:n===e.value.value,checked:n===e.value.value,checkable:!0,disabled:!1,onClick:o.bind(null,e),doNotCloseOnClick:!1,subItems:[]}))))
;function o(e){e&&i&&i(e),(0,h.globalCloseMenu)()}}function ee(e){const{onGoToDateClick:t}=e;return s.createElement(s.Fragment,null,s.createElement(J.Separator,{className:Z.separator}),s.createElement(G.ContextMenuItem,{icon:$,label:(0,K.appendEllipsis)(o.t(null,void 0,n(742432))),onClick:t,active:!1,checked:!1,checkable:!1,disabled:!1,doNotCloseOnClick:!1,subItems:[]}))}const te={title:o.t(null,void 0,n(485444)),goToDate:(0,K.appendEllipsis)(o.t(null,void 0,n(742432)))},ne=(0,f.registryContextType)();class se extends s.PureComponent{constructor(e,t){super(e,t),this._handleGoToDateClick=()=>{const{chartWidget:e}=this.context;(0,q.showGoToDateDialog)(e),(0,h.globalCloseMenu)()},this._handleRangeSelect=e=>{e&&this.props.onSelectRange&&this.props.onSelectRange(e),(0,h.globalCloseMenu)()},this._renderChildren=e=>{const{ranges:t,activeRange:n,goToDateButton:i}=this.props;return e?s.createElement(s.Fragment,null,s.createElement(Y,{ranges:t,activeRange:n,onSelectRange:this._handleRangeSelect}),i&&s.createElement(ee,{onGoToDateClick:this._handleGoToDateClick})):s.createElement(s.Fragment,null,t.map((e=>s.createElement(p.AccessibleMenuItem,{key:e.value.value,label:e.description||e.text,isActive:n===e.value.value,onClick:this._handleRangeSelect,onClickArg:e}))),i&&t.length>0&&s.createElement(g.PopupMenuSeparator,null),i&&s.createElement(p.AccessibleMenuItem,{label:te.goToDate,onClick:this._handleGoToDateClick}))},(0,f.validateRegistry)(t,{chartWidget:a.any.isRequired})}render(){return s.createElement(m.MatchMedia,{rule:"(max-width: 440px)"},(e=>s.createElement(u.ToolbarMenuButton,{className:l()(Z.button,this.props.className),content:te.title,arrow:!0,verticalAttachEdge:d.VerticalAttachEdge.Top,verticalDropDirection:d.VerticalDropDirection.FromBottomToTop,horizontalMargin:4,"data-name":"date-ranges-menu",isDrawer:e,onClick:this._trackClick},this._renderChildren(e))))}_trackClick(){0}}se.contextType=ne;const ie=X(se);var oe=n(40851),ae=n(240091);const re=X((function(e){const{className:t,ranges:n,activeRange:i,onSelectRange:o}=e;return s.createElement("div",{className:r(ae.wrap,t),"data-name":"date-ranges-tabs"},n.map((e=>s.createElement(oe.ToolbarButton,{key:e.value.value,className:ae.item,"data-name":`date-range-tab-${e.value.value}`,isActive:i===e.value.value,onClick:o&&o.bind(null,e),text:e.text,tooltip:e.description||e.text}))))}));var le=n(725784),ce=n(180185),ue=n(466377),de=n(792574),he=n(949449);const me=(0,le.hotKeySerialize)({keys:[(0,ce.humanReadableModifiers)(ce.Modifiers.Alt,!1),"G"],text:"{0} + {1}"}),pe=(0,f.registryContextType)();class ge extends s.PureComponent{constructor(e,t){super(e,t),this._handleClick=()=>{const{chartWidget:e}=this.context;(0,b.trackEvent)("GUI","Chart Bottom Toolbar","go to"),(0,q.showGoToDateDialog)(e)},(0,f.validateRegistry)(t,{chartWidget:a.any.isRequired})}render(){const{className:e}=this.props;return s.createElement(ue.ToolbarIconButton,{icon:de,onClick:this._handleClick,"data-tooltip-hotkey":me,tooltip:o.t(null,void 0,n(742432)),"data-name":"go-to-date",className:r(he.button,e)})}}
ge.contextType=pe;const ve=X(ge);var be=n(111706),fe=n(453253),_e=n(623445),ye=n(420146),Ce=n(243716),xe=n(196578),Ee=n(959394),Se=n(574235),we=n(493173),Me=n(115573);const ke=(0,we.mergeThemes)(oe.DEFAULT_TOOLBAR_BUTTON_THEME,{isDisabled:Me.disabled,button:Me.button});const Be=(0,f.registryContextType)();class Te extends s.PureComponent{constructor(e,t){super(e,t),this._timeFormatter=new ye.TimeFormatter((0,xe.getHourMinuteSecondFormat)(Ee.timeHoursFormatProperty.value())),this._tickInterval=void 0,this._element=null,this._menuShown=!1,this._preventShowingMenu=!1,this._tickClock=()=>{const{chartApiInstance:e}=this.context;if(void 0!==this._timezone){const t=(0,fe.utc_to_cal)(this._timezone,e.serverTime());this.setState({time:this._timeFormatter.format(t)})}},this._getActions=()=>{if(!this.props.withMenu)return[];const{chartWidget:e}=this.context;return function(e){const t=e.actions();return t&&t.applyTimeZone instanceof Ce.Action?t.applyTimeZone.getSubItems():[]}(e)},this._handleRef=e=>{this._element=e},this._onMouseDown=()=>{this._preventShowingMenu=this._menuShown},this._showMenu=e=>{if(this._preventShowingMenu)return void Se.ContextMenuManager.hideAll();const t=(0,v.ensureNotNull)(this._element),n=this._getActions();if(0===n.length)return;const s=t.getBoundingClientRect();Se.ContextMenuManager.showMenu(n,{clientX:s.left,clientY:s.top,attachToYBy:"bottom"},{returnFocus:!0,takeFocus:!0,isKeyboardEvent:(0,be.isKeyboardClick)(e)},{menuName:"TimezoneMenuContextMenu"},(()=>{this._menuShown=!1,this.setState({isMenuOpened:!1})})).then((()=>{this._menuShown=!0,this.setState({isMenuOpened:!0})}))},(0,f.validateRegistry)(t,{chartWidget:a.any.isRequired,chartApiInstance:a.any.isRequired}),this.state={time:"",isMenuOpened:!1}}componentDidMount(){const{chartWidget:e}=this.context;this._tickInterval=setInterval(this._tickClock,1e3),e.withModel(null,(()=>{const t=e.model();t.model().mainSeries().dataEvents().symbolResolved().subscribe(this,this.updateTimezonesButton),t.model().properties().childs().timezone.subscribe(this,this.updateTimezonesButton),Ee.timeHoursFormatProperty.subscribe(this,this._timeHoursFormatPropertyChanged)}))}componentWillUnmount(){const{chartWidget:e}=this.context;clearInterval(this._tickInterval),e.withModel(null,(()=>{const t=e.model();t.model().mainSeries().dataEvents().symbolResolved().unsubscribe(this,this.updateTimezonesButton),t.model().properties().childs().timezone.unsubscribe(this,this.updateTimezonesButton),Ee.timeHoursFormatProperty.unsubscribe(this,this._timeHoursFormatPropertyChanged)}))}render(){const{className:e,withMenu:t}=this.props,{time:i,isMenuOpened:a}=this.state,r=void 0!==this._timezone?(0,_e.parseTzOffset)(this._timezone.name()).string:null;return s.createElement(oe.ToolbarButton,{onMouseDown:this._onMouseDown,ref:this._handleRef,onClick:this._showMenu,isOpened:a,isDisabled:!t,theme:ke,"data-name":"time-zone-menu",tooltip:t?o.t(null,void 0,n(877073)):void 0,className:e,text:i&&r&&`${i} ${r}`})}updateTimezonesButton(){const{chartWidget:e}=this.context;if(!e.hasModel())return
;if(null===e.model().mainSeries().symbolInfo())return;const t=(0,v.ensureNotNull)(e.model().model().timezoneExceptExchange().value());this._timezone=(0,fe.get_timezone)(t),this._tickClock()}_timeHoursFormatPropertyChanged(){this._timeFormatter=new ye.TimeFormatter((0,xe.getHourMinuteSecondFormat)(Ee.timeHoursFormatProperty.value())),this.updateTimezonesButton()}}Te.contextType=Be;var Re=n(380071);function De(e){return s.createElement("span",{className:r(Re.separator,e.className)})}var Ae=n(589422),Ne=n(754617),We=n(601227);class Fe{constructor(e,t,n){this._highlighted=!1,this._chartWidget=e,this._priceScaleGetter=t,this._owner=n,this._setHighlight=this._setHighlight.bind(this),this._removeHighlight=this._removeHighlight.bind(this)}destroy(){this._highlighted&&this._removeHighlight()}handlers(){const e=We.CheckMobile.any();return{onMouseEnter:e?void 0:this._setHighlight,onMouseLeave:e?void 0:this._removeHighlight}}_setHighlight(){if(!this._chartWidget.hasModel())return;const e=this._chartWidget.model().model(),t=e.paneForSource(e.mainSeries()),n=this._priceScaleGetter();if(null===t||null===n)return;const s=this._chartWidget.paneByState(t);if(null!==s){const t=s.rightPriceAxisesContainer().findAxisWidgetForScale(n);let i=null;null!==t&&(i=t.axisInfo());const o=s.leftPriceAxisesContainer().findAxisWidgetForScale(n);if(null!==o&&(i=o.axisInfo()),i){const t=s.highlightedPriceAxises(),n=t.value();n.find((e=>e.axis.label===i.label))||(t.setValue([...n,{owner:this._owner,axis:i}]),e.lightUpdate(),this._highlighted=!0)}}}_removeHighlight(){if(!this._chartWidget.hasModel())return;const e=this._chartWidget.model().model(),t=e.paneForSource(e.mainSeries()),n=this._priceScaleGetter();if(null===t||null===n)return;const s=this._chartWidget.paneByState(t);if(null!==s){const t=s.rightPriceAxisesContainer().findAxisWidgetForScale(n);let i=null;null!==t&&(i=t.axisInfo());const o=s.leftPriceAxisesContainer().findAxisWidgetForScale(n);if(null!==o&&(i=o.axisInfo()),i){const t=s.highlightedPriceAxises(),n=t.value().slice(),o=n.findIndex((e=>i.label===e.axis.label&&e.owner===this._owner));-1!==o&&(n.splice(o,1),t.setValue(n),e.lightUpdate(),this._highlighted=!1)}}}}const Pe=(0,f.registryContextType)(),Le=new Ne.TranslatedString("toggle log scale",o.t(null,void 0,n(149403)));const Oe=(0,f.registryContextType)(),ze=new Ne.TranslatedString("toggle auto scale",o.t(null,void 0,n(642240)));const Ie=(0,f.registryContextType)(),He=new Ne.TranslatedString("toggle percentage scale",o.t(null,void 0,n(398994)));const Ue=(0,f.registryContextType)();var je=n(670086),Ve=n(157206),Xe=n(930202),Qe=n(729314),qe=n(896170),Ge=n(784242);const Je=new Ne.TranslatedString("change session",o.t(null,void 0,n(887041))),Ke={hint:o.t(null,void 0,n(194031)),headerMenuText:o.t(null,void 0,n(827665))},$e=(0,le.hotKeySerialize)({keys:[(0,Xe.humanReadableModifiers)(Xe.Modifiers.Alt,!1),(0,Xe.humanReadableModifiers)(Xe.Modifiers.Shift,!1),"E"],text:"{0} + {1} + {2}"}),Ze=(0,f.registryContextType)();class Ye extends s.PureComponent{constructor(e,t){super(e,t),(0,
f.validateRegistry)(t,{chartWidget:a.any.isRequired,chartApiInstance:a.any.isRequired}),this.state={availableSessions:[]}}componentDidMount(){const{chartWidget:e}=this.context;e.withModel(null,(()=>{const t=e.model();t.model().mainSeries().dataEvents().symbolResolved().subscribe(this,this.updateSessionButton),t.model().mainSeries().properties().childs().sessionId.subscribe(this,this.updateSessionButton),this.updateSessionButton()}))}componentWillUnmount(){const{chartWidget:e}=this.context;e.withModel(null,(()=>{const t=e.model();t.model().mainSeries().dataEvents().symbolResolved().unsubscribe(this,this.updateSessionButton),t.model().mainSeries().properties().childs().sessionId.unsubscribe(this,this.updateSessionButton)}))}render(){const{className:e,withMenu:t}=this.props,{sessionName:n,sessionDescription:i}=this.state;return s.createElement(u.ToolbarMenuButton,{arrow:!1,isDisabled:!t,content:n,className:e,closeOnClickOutside:!0,tooltip:t?i:void 0,hotKey:$e,"data-name":"session-menu",verticalDropDirection:d.VerticalDropDirection.FromBottomToTop,verticalAttachEdge:d.VerticalAttachEdge.Top,onClick:this._trackClick},this._menuItems())}updateSessionButton(){const{chartWidget:e}=this.context;if(!e.model())return;const t=e.model().mainSeries().symbolInfo();if(null===t)return;const n=t.subsession_id,s=t.subsessions?.filter((e=>!e.private))??[],i=s.find((e=>e.id===n));this.setState({sessionId:n,sessionName:(0,qe.translateSessionShortDescription)(i?.description||""),sessionDescription:(0,qe.translateSessionDescription)(i?.description||""),availableSessions:s})}_menuItems(){if(!this.props.withMenu)return[];const{chartWidget:e}=this.context,{availableSessions:t}=this.state;if(!e.model())return[];const n=e.model().mainSeries(),i=[s.createElement(Qe.ToolWidgetMenuSummary,{key:"header_menu_text",className:Ge.headerMenuText},Ke.headerMenuText.toUpperCase())];for(const o of t){const t={category:"SetSession",event:o.id},a=()=>{e.model().setProperty(n.properties().childs().sessionId,o.id,Je)};i.push(s.createElement(p.AccessibleMenuItem,{key:o.id,label:(0,qe.translateSessionDescription)(o.description),isActive:this.state.sessionId===o.id,trackEventObject:t,onClick:a}))}return i}_trackClick(){0}}Ye.contextType=Ze;var et=n(932641),tt=n(210118),nt=n(958198),st=n(795641),it=n(451267);const ot=(0,f.registryContextType)();class at extends s.PureComponent{constructor(e,t){super(e,t),this._handleClick=()=>{const{resizerDetacher:e,chartWidgetCollection:t}=this.context;t.setViewMode(tt.CollectionViewMode.Multichart),e.exitFullscreen()},(0,f.validateRegistry)(t,{chartWidgetCollection:a.any.isRequired,resizerDetacher:a.any.isRequired})}render(){const{className:e}=this.props;return s.createElement(st.ToolWidgetButton,{icon:it,className:e,onClick:this._handleClick})}}at.contextType=ot;var rt,lt=n(821868),ct=n(972026),ut=n(478748);!function(e){e[e.MinSpace=0]="MinSpace"}(rt||(rt={}));const dt={extLabel:o.t(null,void 0,n(508586)),extHint:o.t(null,void 0,n(892966)),percentageHint:o.t(null,void 0,n(281649)),logLabel:o.t(null,{context:"scale"},n(604161)),
logHint:o.t(null,void 0,n(21e4)),autoLabel:o.t(null,{context:"scale"},n(522233)),autoHint:o.t(null,void 0,n(441888)),maximizeChartHint:o.t(null,void 0,n(461206)),restoreChartHint:o.t(null,void 0,n(631142)),adjLabel:o.t(null,{context:"adjustments"},n(894920)),adjHint:o.t(null,void 0,n(493020)),adjForDividendsOnlyHint:o.t(null,void 0,n(402031)),adjForSplitsOnlyHint:o.t(null,void 0,n(895739)),backAdjustLabel:o.t(null,{context:"adjustments"},n(716755)),backAdjustHint:o.t(null,void 0,n(768921)),settlementAsCloseLabel:o.t(null,{context:"adjustments"},n(882631)),settlementAsCloseHint:o.t(null,void 0,n(549545))};var ht,mt;!function(e){e.Separator="separator",e.TimeZones="timeZones",e.SessionId="session",e.Percentage="percentage",e.Logarithm="logarithm",e.Auto="auto",e.LayoutFullscreen="layoutFullscreen",e.Fullscreen="fullscreen",e.Adj="adj",e.BackAdj="backAdj",e.SettlementAsClose="settlementAsClose",e.PreventPhoneLayout="preventPhoneLayout"}(ht||(ht={})),function(e){e.Expanded="expanded",e.Collapsed="collapsed",e.Hidden="hidden"}(mt||(mt={}));const pt=(gt=e=>s.createElement(oe.ToolbarButton,{text:dt.logLabel,tooltip:dt.logHint,className:e.className,isActive:e.isLogarithm,"aria-pressed":e.isLogarithm,onClick:wt(e.onClick,"log",e.isLogarithm),onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,"data-name":"logarithm"}),(vt=class extends s.PureComponent{constructor(e,t){super(e,t),this._priceScale=null,this._handleSelect=()=>{const e=this.context.chartWidget.model(),t=(0,v.ensureNotNull)(this.state.series),n=t.priceScale(),s=n.mode();t.priceScale().isLockScale()||e.setPriceScaleMode({log:!s.log},n,Le)},(0,f.validateRegistry)(t,{chartWidget:a.any.isRequired}),this.state={isActive:!1,series:null},this._priceAxisHighlighter=new Fe(this.context.chartWidget,(()=>this._priceScale),"logarithm")}componentDidMount(){const e=this.context.chartWidget;e.withModel(null,(()=>{const t=e.model().mainSeries(),n=t.priceScale();this._handleMainSeriesPriceScaleChanged(n),t.priceScaleChanged().subscribe(this,this._handleMainSeriesPriceScaleChanged),this._handleModeChanged({},n.mode()),this.setState({isActive:t.priceScale().isLog(),series:t})}))}componentWillUnmount(){const e=this.context.chartWidget;e.withModel(null,(()=>{e.model().mainSeries().priceScaleChanged().unsubscribe(this,this._handleMainSeriesPriceScaleChanged)})),null!==this._priceScale&&(this._priceScale.modeChanged().unsubscribeAll(this),this._priceScale=null),this._priceAxisHighlighter.destroy()}render(){const{className:e}=this.props,{isActive:t,series:n}=this.state;return s.createElement(gt,{...this._priceAxisHighlighter.handlers(),className:e,isLogarithm:t,isDisabled:null===n,onClick:this._handleSelect})}_handleMainSeriesPriceScaleChanged(e){null!==this._priceScale&&this._priceScale.modeChanged().unsubscribe(this,this._handleModeChanged),this._priceScale=e,this._priceScale.modeChanged().subscribe(this,this._handleModeChanged),this._handleModeChanged({},e.mode())}_handleModeChanged(e,t){Boolean(t.log)!==this.state.isActive&&this.setState({isActive:Boolean(t.log)})}
}).contextType=Pe,vt);var gt,vt;const bt=function(e){var t;return(t=class extends s.PureComponent{constructor(e,t){super(e,t),this._priceScale=null,this._handleSelect=()=>{const e=this.context.chartWidget.model(),t=(0,v.ensureNotNull)(this.state.series).priceScale(),n=t.mode();e.setPriceScaleMode({autoScale:!n.autoScale},t,ze)},(0,f.validateRegistry)(t,{chartWidget:a.any.isRequired}),this.state={isActive:!1,series:null},this._priceAxisHighlighter=new Fe(this.context.chartWidget,(()=>this._priceScale),"auto")}componentDidMount(){const e=this.context.chartWidget;e.withModel(null,(()=>{const t=e.model().mainSeries(),n=t.priceScale();this._handleMainSeriesPriceScaleChanged(n),t.priceScaleChanged().subscribe(this,this._handleMainSeriesPriceScaleChanged),this._handleModeChanged({},n.mode()),this.setState({isActive:t.priceScale().isAutoScale(),series:t})}))}componentWillUnmount(){const e=this.context.chartWidget;e.withModel(null,(()=>{e.model().mainSeries().priceScaleChanged().unsubscribe(this,this._handleMainSeriesPriceScaleChanged)})),null!==this._priceScale&&(this._priceScale.modeChanged().unsubscribeAll(this),this._priceScale=null),this._priceAxisHighlighter.destroy()}render(){const{className:t}=this.props,{isActive:n,series:i}=this.state;return s.createElement(e,{...this._priceAxisHighlighter.handlers(),className:t,isAuto:n,isDisabled:null===i,onClick:this._handleSelect})}_handleMainSeriesPriceScaleChanged(e){null!==this._priceScale&&this._priceScale.modeChanged().unsubscribe(this,this._handleModeChanged),this._priceScale=e,this._priceScale.modeChanged().subscribe(this,this._handleModeChanged),this._handleModeChanged({},e.mode())}_handleModeChanged(e,t){Boolean(t.autoScale)!==this.state.isActive&&this.setState({isActive:Boolean(t.autoScale)})}}).contextType=Oe,t}((e=>s.createElement(oe.ToolbarButton,{text:dt.autoLabel,tooltip:dt.autoHint,className:e.className,isActive:e.isAuto,"aria-pressed":e.isAuto,onClick:wt(e.onClick,"auto",e.isAuto),onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,"data-name":"auto"}))),ft=function(e){var t;return(t=class extends s.PureComponent{constructor(e,t){super(e,t),this._priceScale=null,this._handleSelect=()=>{const e=this.context.chartWidget.model(),t=(0,v.ensureNotNull)(this.state.series),n=t.priceScale(),s=n.mode();t.priceScale().isLockScale()||e.setPriceScaleMode({percentage:!s.percentage},n,He)},(0,f.validateRegistry)(t,{chartWidget:a.any.isRequired}),this.state={isActive:!1,series:null},this._priceAxisHighlighter=new Fe(this.context.chartWidget,(()=>this._priceScale),"percentage")}componentDidMount(){const e=this.context.chartWidget;e.withModel(null,(()=>{const t=e.model().mainSeries(),n=t.priceScale();this._handleMainSeriesPriceScaleChanged(n),t.priceScaleChanged().subscribe(this,this._handleMainSeriesPriceScaleChanged),this._handleScaleChange({},n.mode()),this.setState({isActive:t.priceScale().isPercentage(),series:t})}))}componentWillUnmount(){const e=this.context.chartWidget;e.withModel(null,(()=>{
e.model().mainSeries().priceScaleChanged().unsubscribe(this,this._handleMainSeriesPriceScaleChanged)})),null!==this._priceScale&&(this._priceScale.modeChanged().unsubscribeAll(this),this._priceScale=null),this._priceAxisHighlighter.destroy()}render(){const{className:t}=this.props,{isActive:n,series:i}=this.state;return s.createElement(e,{...this._priceAxisHighlighter.handlers(),className:t,isPercentage:n,isDisabled:null===i,onClick:this._handleSelect})}_handleMainSeriesPriceScaleChanged(e){null!==this._priceScale&&this._priceScale.modeChanged().unsubscribe(this,this._handleScaleChange),this._priceScale=e,this._priceScale.modeChanged().subscribe(this,this._handleScaleChange),this._handleScaleChange({},e.mode())}_handleScaleChange(e,t){Boolean(t.percentage)!==this.state.isActive&&this.setState({isActive:Boolean(t.percentage)})}}).contextType=Ie,t}((e=>s.createElement(oe.ToolbarButton,{icon:lt,tooltip:dt.percentageHint,className:e.className,isActive:e.isPercentage,"aria-pressed":e.isPercentage,isDisabled:e.isDisabled,onClick:wt(e.onClick,"percent",e.isPercentage),onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,"data-name":"percentage"})));const _t=(0,le.hotKeySerialize)({keys:[(0,ce.humanReadableModifiers)(ce.Modifiers.Alt,!1),"Enter"],text:"{0} + {1}"}),yt=function(e){var t;return(t=class extends s.PureComponent{constructor(e,t){super(e,t),this._handleClick=e=>{const{resizerDetacher:t,chartWidgetCollection:n}=this.context;e.shiftKey&&t.detachable.value()?t.detach():this.state.isFullscreen?t.exitFullscreen():t.requestFullscreen()},this._handleLayoutChange=e=>{this.setState({isFullscreen:e})},this._handlePhoneSize=()=>{0},(0,f.validateRegistry)(t,{chartWidgetCollection:a.any.isRequired,resizerDetacher:a.any.isRequired});const{resizerDetacher:n}=t;this.state={isFullscreen:n.fullscreen.value(),isChangeLayoutButton:this._isChangeLayoutButton()}}componentDidMount(){const{resizerDetacher:e,chartWidgetCollection:t}=this.context,{mobileChangeLayoutEnabled:n}=this.props;e.fullscreen.subscribe(this._handleLayoutChange)}componentWillUnmount(){const{resizerDetacher:e,chartWidgetCollection:t}=this.context,{mobileChangeLayoutEnabled:n}=this.props;e.fullscreen.unsubscribe(this._handleLayoutChange)}render(){const{className:t}=this.props,{isFullscreen:n,isChangeLayoutButton:i}=this.state;return s.createElement(e,{className:t,isFullscreen:n,onClick:this._handleClick})}_isChangeLayoutButton(){return!1}}).contextType=Ue,t}((e=>s.createElement(oe.ToolbarButton,{icon:e.isFullscreen?it:ct,tooltip:e.isFullscreen?dt.restoreChartHint:dt.maximizeChartHint,className:r(e.className,ut.fullscreenButton),isActive:e.isFullscreen,onClick:wt(e.onClick,"maximize chart",e.isFullscreen),"data-tooltip-hotkey":_t,"data-name":"layoutFullscreen"}))),Ct={layoutFullscreen:!0,preventPhoneLayout:!0},xt={layoutFullscreen:Number.MIN_SAFE_INTEGER,preventPhoneLayout:Number.MIN_SAFE_INTEGER,fullscreen:Number.MIN_SAFE_INTEGER,separator:-2,timeZones:-1,auto:0,logarithm:1,percentage:2,session:3,adj:4,backAdj:5,settlementAsClose:6},Et=(()=>{const e=new Map
;return e.set(pt,"logarithm"),e.set(ft,"percentage"),e.set(bt,"auto"),e.set(Ye,"session"),e.set(yt,"layoutFullscreen"),e.set(at,"preventPhoneLayout"),We.CheckMobile.any()&&e.set(et.ToolWidgetFullscreen,"fullscreen"),e})();function St(e){0}function wt(e,t,n){return t=>{e(t)}}const Mt={dateRangeMode:"hidden",noRanges:!1,separator:!0,timeZones:!0,layoutFullscreen:!0,preventPhoneLayout:!0,auto:!0,logarithm:!0,percentage:!0,session:!0,adj:!0,backAdj:!0,settlementAsClose:!0,fullscreen:!0},kt=(0,f.registryContextType)();class Bt extends s.PureComponent{constructor(e,t){var n,o;super(e,t),this._timezoneButtonRef=null,this._layout=Object.assign({},Mt),this._raf=null,this._toolbar=null,this._rangeExpanded=null,this._rangeCollapsed=null,this._seriesComponents={},this._resizeObserver=null,this._injector=(n=()=>this._layout,o=(e,t)=>this._seriesComponents[t]=e,(e,t,i)=>{if(s.isValidElement(e)&&"string"!=typeof e.type){const{props:t}=e;if("string"==typeof t.className){const i={className:t.className},a=n(),l=(0,v.ensureDefined)(Et.get(e.type));return s.createElement("div",{key:null===e.key?void 0:e.key,className:r(ut.inline,a[l]&&ut.collapsed),ref:e=>o(e,l),onClick:()=>St()},s.cloneElement(e,i))}}return e}),this._onSymbolSourceCollectionChanged=()=>{this._updateButtonsVisibilityImp(!0)},this._updateButtonsVisibility=()=>{this._updateButtonsVisibilityImp()},this._updateButtonsVisibilityImp=e=>{const{chartWidget:t}=this.context,n=t.model().model(),s=n.mainSeries(),i=s.symbolInfo(),o=!s.isDWMProperty().value();if(s.symbolResolvingActive().value())return void this._setStateWithResize({intervalAllowsSessionButton:o},e);const a=(i?.subsessions||[]).filter((e=>!e.private)).length>1;this._setStateWithResize({intervalAllowsSessionButton:o,symbolAllowsSessionButton:a},e)},this._handleFullscreenChange=()=>{this.setState({isFullscreen:this.context.chartWidgetCollection.fullscreen().value()})},this._resizeByRaf=()=>{null===this._raf&&(this._raf=requestAnimationFrame((()=>{this._resizeHandler(),this._raf=null})))},this._resizeHandler=()=>{const e=this._layout,t=(0,v.ensureNotNull)(this._toolbar),n=(0,v.ensureNotNull)(this._rangeExpanded),s=(o=function(e){const t={};return Object.keys(e).forEach((n=>{const s=e[n];if(null!==s){const e=i.findDOMNode(s);null!==e&&(t[n]=e)}})),t}(this._seriesComponents),Object.keys(o).map((e=>({name:e,width:o[e].offsetWidth}))).sort(((e,t)=>xt[e.name]-xt[t.name])));var o;const a=t.offsetWidth,r=s.reduce(((e,t)=>e+t.width),0),l=n.offsetWidth,c=!Boolean(n.textContent),u=a-r-l<=0?"collapsed":"expanded";if(Object.assign(e,{dateRangeMode:u,noRanges:c}),"expanded"!==u){const t=a-(0,v.ensureNotNull)(this._rangeCollapsed).offsetWidth-0;let n=0,i=0;for(const o of s)n+=o.width,o.name in Ct?(i+=o.width,Object.assign(e,{[o.name]:!1})):Object.assign(e,{[o.name]:t<=n});t<=i&&Object.assign(e,{dateRangeMode:"hidden"})}else Object.assign(e,{separator:!1,timeZones:!1,layoutFullscreen:!1,preventPhoneLayout:!1,auto:!1,logarithm:!1,percentage:!1,session:!1,adj:!1,settlementAsClose:!1,backAdj:!1,fullscreen:!1});this._applyResizing()},
this._handleTimezoneButtonRef=e=>{this._timezoneButtonRef=e},this._handleMeasure=()=>{null!==this._toolbar&&this.resizeUI()},this._handleLayoutFullscreenableChange=e=>{this._setStateWithResize({isLayoutFullscreenable:e}),this._handlePreventPhoneLayoutButtonVisibility()},this._handlePreventPhoneLayoutButtonVisibility=()=>{this._setStateWithResize({isPreventPhoneLayoutButton:this._isPreventPhoneLayoutButton()})},this._handleToolbarRef=e=>this._toolbar=e,this._handleRangeCollapsedRef=e=>this._rangeCollapsed=e,this._handleRangeExpandedRef=e=>{this._updateResizeObserver(this._rangeExpanded,e),this._rangeExpanded=e},this._handleTimeZonesRef=e=>{this._updateResizeObserver(this._seriesComponents.timeZones,e),this._seriesComponents.timeZones=e},this._handleSessionsRef=e=>{this._updateResizeObserver(this._seriesComponents.session,e),this._seriesComponents.session=e},this._handleSeparatorRef=e=>{this._seriesComponents.separator=e},this._updateResizeObserver=(e,t)=>{this._resizeObserver&&e!==t&&(e&&this._resizeObserver.unobserve(e),t&&this._resizeObserver.observe(t))},(0,f.validateRegistry)(t,{onContentBoxChanged:a.any.isRequired,chartApiInstance:a.any.isRequired,chartWidget:a.any.isRequired,chartWidgetCollection:a.any.isRequired,resizerDetacher:a.any.isRequired});const{resizerDetacher:l}=this.context;this.state={isLayoutFullscreenable:l.fullscreenable.value(),isPreventPhoneLayoutButton:this._isPreventPhoneLayoutButton(),isFullscreen:this.context.chartWidgetCollection.fullscreen().value()},this._resizeObserver=new ResizeObserver(this._handleMeasure)}componentDidMount(){const{onContentBoxChanged:e,resizerDetacher:t,chartWidgetCollection:n,chartWidget:s}=this.context;e.subscribe(this,this._resizeByRaf),n.fullscreen().subscribe(this._handleFullscreenChange),nt.mediaState.on("changeDevice",this._handlePreventPhoneLayoutButtonVisibility),n.viewMode.subscribe(this._handlePreventPhoneLayoutButtonVisibility),t.fullscreenable.subscribe(this._handleLayoutFullscreenableChange),s.withModel(null,(()=>{const e=s.model(),t=e.model();e.mainSeries().isDWMProperty().subscribe(this,this._updateButtonsVisibility),t.symbolSourceResolvingActive().subscribe(this._updateButtonsVisibility),t.symbolSourceCollectionChanged().subscribe(this,this._onSymbolSourceCollectionChanged),this._updateButtonsVisibility()})),this.updateTimezonesButton(),this.resizeUI()}componentWillUnmount(){const{onContentBoxChanged:e,resizerDetacher:t,chartWidgetCollection:n,chartWidget:s}=this.context;n.fullscreen().unsubscribe(this._handleFullscreenChange),e.unsubscribe(this,this._resizeByRaf),nt.mediaState.off("changeDevice",this._handlePreventPhoneLayoutButtonVisibility),n.viewMode.unsubscribe(this._handlePreventPhoneLayoutButtonVisibility),t.fullscreenable.unsubscribe(this._handleLayoutFullscreenableChange),this._resizeObserver?.disconnect(),s.withModel(null,(()=>{const e=s.model(),t=e.model();e.mainSeries().isDWMProperty().unsubscribe(this,this._updateButtonsVisibility),e.mainSeries().isBackAdjustmentForbiddenProperty().unsubscribe(this,this._updateButtonsVisibility),
e.mainSeries().isSettlementAsCloseForbiddenProperty().unsubscribe(this,this._updateButtonsVisibility),t.symbolSourceCollectionChanged().unsubscribe(this,this._onSymbolSourceCollectionChanged),t.symbolSourceResolvingActive().unsubscribe(this._updateButtonsVisibility)})),null!==this._raf&&(cancelAnimationFrame(this._raf),this._raf=null)}render(){const e=this._layout,{timeFramesWidgetEnabled:t,timeWidgetEnabled:n,percentageScaleButtonEnabled:i,logScaleButtonEnabled:o,autoScaleButtonEnabled:a,layoutFullscreenButtonEnabled:l}=this.props;return s.createElement(Ae.Toolbar,{className:ut.toolbar,onContextMenu:Ve.preventDefault,ref:this._handleToolbarRef},t&&s.createElement(je.FragmentMap,null,s.createElement("div",{className:r(ut.dateRangeWrapper,"collapsed"!==e.dateRangeMode&&ut.collapsed),ref:this._handleRangeCollapsedRef},s.createElement("div",{className:r(ut.dateRangeCollapsed)},s.createElement(ie,{goToDateButton:this.props.goToDateEnabled,className:ut.dateRange}))),s.createElement("div",{className:r(ut.dateRangeWrapper,"expanded"!==e.dateRangeMode&&ut.collapsed,e.noRanges&&ut.noranges),ref:this._handleRangeExpandedRef},s.createElement("div",{className:r(ut.dateRangeExpanded)},s.createElement(re,{onSelectRange:this._trackRangeButtonClick,className:ut.dateRange}),this.props.goToDateEnabled&&s.createElement(De,{className:r(ut.separator)}),this.props.goToDateEnabled&&s.createElement(ve,null)))),s.createElement("div",{className:ut.seriesControlWrapper},n&&s.createElement("div",{className:r(ut.inline,e.timeZones&&ut.collapsed),ref:this._handleTimeZonesRef},s.createElement("div",{className:ut.inline,onClick:this._trackTimezonesButtonClick},s.createElement(Te,{className:ut.item,withMenu:this.props.timezoneMenuEnabled,ref:this._handleTimezoneButtonRef}))),this.props.sessionIdButtonEnabled&&this.state.symbolAllowsSessionButton&&this.state.intervalAllowsSessionButton&&s.createElement("div",{className:r(ut.inline,e.session&&ut.collapsed),ref:this._handleSessionsRef},s.createElement("div",{className:ut.inline},s.createElement(Ye,{className:ut.item,withMenu:this.props.sessionIdButtonEnabled}))),s.createElement("div",{ref:this._handleSeparatorRef,className:r(ut.inline,e.separator&&ut.collapsed)},s.createElement(De,null)),s.createElement(je.FragmentMap,{map:this._injector},!1,!1,!1,i&&!c.enabled("fundamental_widget")&&s.createElement(ft,{className:ut.item}),o&&s.createElement(pt,{className:ut.item}),a&&s.createElement(bt,{className:ut.item}),l&&this.state.isLayoutFullscreenable&&s.createElement(yt,{className:ut.item,mobileChangeLayoutEnabled:this.props.mobileChangeLayoutEnabled}),this.props.layoutFullscreenButtonEnabled&&this.props.mobileChangeLayoutEnabled&&this.state.isPreventPhoneLayoutButton&&s.createElement(at,{className:ut.item}),We.CheckMobile.any()&&this.state.isFullscreen&&s.createElement(et.ToolWidgetFullscreen,{id:"bottom-toolbar-fullscreen",clickArea:"bottom toolbar",isActive:!0,className:ut.fullscreenBtn}))))}updateTimezonesButton(){null!==this._timezoneButtonRef&&this._timezoneButtonRef.updateTimezonesButton()}resizeUI(){
this._resizeByRaf()}_trackRangeButtonClick(e){0}_trackTimezonesButtonClick(){St()}_setStateWithResize(e,t){Object.assign(this._layout,Mt),this._applyResizing(),t?(this.setState(e),this._resizeHandler()):this.setState(e,(()=>this._resizeByRaf()))}_applyResizing(){const{dateRangeMode:e,noRanges:t,...n}=this._layout;this._rangeExpanded&&(this._rangeExpanded.classList.toggle(ut.collapsed,"expanded"!==e),this._rangeExpanded.classList.toggle(ut.noranges,t)),this._rangeCollapsed&&this._rangeCollapsed.classList.toggle(ut.collapsed,"collapsed"!==e);let s=!1,i=!1;Object.keys(n).forEach((e=>{const t=e;if("separator"!==t){const e=this._seriesComponents[t],o=!0===n[t];e&&("timeZones"===t||"session"===t?s=s||!o:i=i||!o,e.classList.toggle(ut.collapsed,o))}}));const o=this._seriesComponents.separator;if(o){const e=!s||!i||!0===n.separator;o.classList.toggle(ut.collapsed,e)}}_isPreventPhoneLayoutButton(){{const{chartWidgetCollection:e,resizerDetacher:t}=this.context;return t.fullscreenable.value()&&We.CheckMobile.any()&&nt.mediaState.isPhoneSizeDevice()&&e.viewMode.value()===tt.CollectionViewMode.ForceFullscreen}}}Bt.contextType=kt;const Tt={onContentBoxChanged:a.any,computeContentBox:a.any,chartWidget:a.any,chartApiInstance:a.any,chartWidgetCollection:a.any,resizerDetacher:a.any,availableTimeFrames:a.any};class Rt extends s.PureComponent{constructor(e){super(e),this._setActiveChart=e=>{this._defineRegistry(e),this.setState({chartWidget:e})};const t=this.props.chartWidgetCollection.activeChartWidget.value();this.state={chartWidget:t},this._defineRegistry(t)}componentDidMount(){this.props.chartWidgetCollection.activeChartWidget.subscribe(this._setActiveChart)}componentWillUnmount(){this.props.chartWidgetCollection.activeChartWidget.unsubscribe(this._setActiveChart)}render(){const{chartWidget:e}=this.state;if(!e)return null;const{options:t}=this.props,n={timeFramesWidgetEnabled:t.timeFramesWidgetEnabled,goToDateEnabled:t.timeFramesWidget.goToDateEnabled,timeWidgetEnabled:t.timeWidgetEnabled,timezoneMenuEnabled:t.timeWidget&&t.timeWidget.timezoneMenuEnabled,sessionIdButtonEnabled:t.sessionIdButtonEnabled,backAdjustmentButtonEnabled:t.backAdjustmentButtonEnabled,settlementAsCloseButtonEnabled:t.settlementAsCloseButtonEnabled,adjustForDividendsButtonEnabled:t.adjustForDividendsButtonEnabled,logScaleButtonEnabled:t.logScaleButtonEnabled,percentageScaleButtonEnabled:t.percentageScaleButtonEnabled,autoScaleButtonEnabled:t.autoScaleButtonEnabled,layoutFullscreenButtonEnabled:t.layoutFullscreenButtonEnabled,mobileChangeLayoutEnabled:t.mobileChangeLayoutEnabled};return s.createElement(f.RegistryProvider,{validation:Tt,value:this._registry},s.createElement(Bt,{key:e.id(),...n}))}_defineRegistry(e){const{onContentBoxChanged:t,computeContentBox:n,chartApiInstance:s,chartWidgetCollection:i,options:{timeFramesWidgetEnabled:o,timeFramesWidget:a}}=this.props,r=o?a.availableTimeFrames:void 0;this._registry={onContentBoxChanged:t,computeContentBox:n,chartWidget:e,availableTimeFrames:r,chartApiInstance:s,chartWidgetCollection:i,
resizerDetacher:e.getResizerDetacher()}}}var Dt;!function(e){e.InitializedAttribute="data-initialized"}(Dt||(Dt={}));class At{constructor(e,t,n,o,a,r,l){this._container=e;const c=s.createElement(Rt,{onContentBoxChanged:t,computeContentBox:n,chartWidgetCollection:o,chartApiInstance:a,chartWidgetOptions:r,options:l});i.render(c,e),e.setAttribute("data-initialized","true")}destroy(){i.unmountComponentAtNode(this._container),this._container.removeAttribute("data-initialized")}}},932641:(e,t,n)=>{"use strict";n.d(t,{ToolWidgetFullscreen:()=>g});var s=n(50959),i=n(719036),o=n(497754),a=n(609838),r=n(466377),l=n(547622),c=n(725784),u=n(180185),d=n(597268),h=n(236992);const m=(0,c.hotKeySerialize)({keys:[(0,u.humanReadableModifiers)(u.Modifiers.Shift,!1),"F"],text:"{0} + {1}"}),p=(0,l.registryContextType)();class g extends s.PureComponent{constructor(e,t){super(e,t),this._updateState=()=>{this.setState({isFullscreen:this.context.chartWidgetCollection.fullscreen().value()})},this._handleClick=()=>{const{chartWidgetCollection:e}=this.context,{clickArea:t}=this.props;e.fullscreen().value()?e.exitFullscreen():e.startFullscreen()},(0,l.validateRegistry)(t,{chartWidgetCollection:i.any.isRequired}),this.state={isFullscreen:this.context.chartWidgetCollection.fullscreen().value()},this._subscribe()}render(){const{className:e,id:t,isActive:i}=this.props,{isFullscreen:l}=this.state;return s.createElement(r.ToolbarIconButton,{id:t,icon:l?h:d,onClick:this._handleClick,className:o(e),tooltip:a.t(null,void 0,n(967092)),"data-tooltip-hotkey":m,isActive:i})}componentWillUnmount(){this._unsubscribe()}_subscribe(){this.context.chartWidgetCollection.fullscreen().subscribe(this._updateState)}_unsubscribe(){this.context.chartWidgetCollection.fullscreen().unsubscribe(this._updateState)}}g.contextType=p},547622:(e,t,n)=>{"use strict";n.d(t,{RegistryProvider:()=>l,registryContextType:()=>c,validateRegistry:()=>r});var s=n(50959),i=n(719036),o=n.n(i);const a=s.createContext({});function r(e,t){o().checkPropTypes(t,e,"context","RegistryContext")}function l(e){const{validation:t,value:n}=e;return r(n,t),s.createElement(a.Provider,{value:n},e.children)}function c(){return a}},972026:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M15 8V3h-5V2h6v6h-1ZM3 10v5h5v1H2v-6h1Z"/></svg>'},451267:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M11 2v5h5v1h-6V2h1ZM7 16v-5H2v-1h6v6H7Z"/></svg>'},460925:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M12 4h3v1h-1.04l-.88 9.64a1.5 1.5 0 0 1-1.5 1.36H6.42a1.5 1.5 0 0 1-1.5-1.36L4.05 5H3V4h3v-.5C6 2.67 6.67 2 7.5 2h3c.83 0 1.5.67 1.5 1.5V4ZM7.5 3a.5.5 0 0 0-.5.5V4h4v-.5a.5.5 0 0 0-.5-.5h-3ZM5.05 5l.87 9.55a.5.5 0 0 0 .5.45h5.17a.5.5 0 0 0 .5-.45L12.94 5h-7.9Z"/></svg>'},597268:e=>{
e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" d="M8.5 6A2.5 2.5 0 0 0 6 8.5V11h1V8.5C7 7.67 7.67 7 8.5 7H11V6H8.5zM6 17v2.5A2.5 2.5 0 0 0 8.5 22H11v-1H8.5A1.5 1.5 0 0 1 7 19.5V17H6zM19.5 7H17V6h2.5A2.5 2.5 0 0 1 22 8.5V11h-1V8.5c0-.83-.67-1.5-1.5-1.5zM22 19.5V17h-1v2.5c0 .83-.67 1.5-1.5 1.5H17v1h2.5a2.5 2.5 0 0 0 2.5-2.5z"/></svg>'},236992:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" d="M17 6v2.5a2.5 2.5 0 0 0 2.5 2.5H22v-1h-2.5A1.5 1.5 0 0 1 18 8.5V6h-1zm2.5 11a2.5 2.5 0 0 0-2.5 2.5V22h1v-2.5c0-.83.67-1.5 1.5-1.5H22v-1h-2.5zm-11 1H6v-1h2.5a2.5 2.5 0 0 1 2.5 2.5V22h-1v-2.5c0-.83-.67-1.5-1.5-1.5zM11 8.5V6h-1v2.5c0 .83-.67 1.5-1.5 1.5H6v1h2.5A2.5 2.5 0 0 0 11 8.5z"/></svg>'},792574:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" fill-rule="evenodd" d="M11 4h-1v2H7.5A2.5 2.5 0 0 0 5 8.5V13h1v-2h16v8.5c0 .83-.67 1.5-1.5 1.5H14v1h6.5a2.5 2.5 0 0 0 2.5-2.5v-11A2.5 2.5 0 0 0 20.5 6H18V4h-1v2h-6V4Zm6 4V7h-6v1h-1V7H7.5C6.67 7 6 7.67 6 8.5V10h16V8.5c0-.83-.67-1.5-1.5-1.5H18v1h-1Zm-5.15 10.15-3.5-3.5-.7.7L10.29 18H4v1h6.3l-2.65 2.65.7.7 3.5-3.5.36-.35-.36-.35Z"/></svg>'},100578:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 8" width="16" height="8"><path fill="currentColor" d="M0 1.475l7.396 6.04.596.485.593-.49L16 1.39 14.807 0 7.393 6.122 8.58 6.12 1.186.08z"/></svg>'},379978:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18" fill="none"><path stroke="currentColor" d="M8 5l3.5 3.5L8 12"/></svg>'},821868:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14"><g fill="none" stroke="currentColor"><circle cx="3.5" cy="3.5" r="2"/><circle cx="10.5" cy="10.5" r="2"/><path stroke-linecap="square" d="M9.5 1.5l-5 11"/></g></svg>'},339750:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28" fill="none"><path stroke="currentColor" stroke-linecap="round" stroke-width="1.5" d="M7 15l5 5L23 9"/></svg>'},290752:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28" fill="none"><path stroke="currentColor" d="M5.5 13v-2.5m8.5 11h6.5a2 2 0 0 0 2-2v-9m-17 0v-2c0-1.1.9-2 2-2h13a2 2 0 0 1 2 2v2m-17 0h17"/><path fill="currentColor" d="M10 4h1v4h-1V4zM17 4h1v4h-1V4z"/><path stroke="currentColor" d="M4 18.5h7.5m0 0L8 22m3.5-3.5L8 15"/></svg>'},925931:(e,t,n)=>{"use strict";n.d(t,{nanoid:()=>s});let s=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+=(t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_"),"")}}]);