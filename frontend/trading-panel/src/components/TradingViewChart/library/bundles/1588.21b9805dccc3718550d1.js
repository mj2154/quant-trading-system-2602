(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[1588],{497754:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function s(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)&&n.length){var o=s.apply(null,n);o&&e.push(o)}else if("object"===i)for(var a in n)r.call(n,a)&&n[a]&&e.push(a)}}return e.join(" ")}e.exports?(s.default=s,e.exports=s):void 0===(n=function(){return s}.apply(t,[]))||(e.exports=n)}()},15378:(e,t,n)=>{"use strict";var r,s,i,o;!function(e){e.Primary="primary",e.QuietPrimary="quiet-primary",e.Secondary="secondary",e.Ghost="ghost"}(r||(r={})),function(e){e.XXSmall="xxsmall",e.XSmall="xsmall",e.Small="small",e.Medium="medium",e.Large="large",e.XLarge="xlarge",e.XXLarge="xxlarge"}(s||(s={})),function(e){e.Brand="brand",e.Blue="blue",e.Gray="gray",e.LightGray="light-gray",e.Green="green",e.Red="red",e.Black="black",e.Gradient="gradient",e.BlackFriday="black-friday",e.CyberMonday="cyber-monday",e.Coupon="coupon",e.Offer="offer",e.Space="space"}(i||(i={})),function(e){e.Semibold18px="semibold18px",e.Semibold16px="semibold16px",e.Semibold14px="semibold14px",e.Medium16px="medium16px",e.Regular16px="regular16px",e.Regular14px="regular14px",e.Regular12px="regular12px"}(o||(o={}))},234539:(e,t,n)=>{"use strict";n.d(t,{CustomBehaviourContext:()=>r});const r=(0,n(50959).createContext)({enableActiveStateStyles:!0});r.displayName="CustomBehaviourContext"},855393:(e,t,n)=>{"use strict";n.d(t,{useIsomorphicLayoutEffect:()=>s});var r=n(50959);function s(e,t){("undefined"==typeof window?r.useEffect:r.useLayoutEffect)(e,t)}},778199:(e,t,n)=>{"use strict";function r(e,t,n,r,s){function i(s){if(e>s.timeStamp)return;const i=s.target;void 0!==n&&null!==t&&null!==i&&i.ownerDocument===r&&(t.contains(i)||n(s))}return s.click&&r.addEventListener("click",i,!1),s.mouseDown&&r.addEventListener("mousedown",i,!1),s.touchEnd&&r.addEventListener("touchend",i,!1),s.touchStart&&r.addEventListener("touchstart",i,!1),()=>{r.removeEventListener("click",i,!1),r.removeEventListener("mousedown",i,!1),r.removeEventListener("touchend",i,!1),r.removeEventListener("touchstart",i,!1)}}n.d(t,{addOutsideEventListener:()=>r})},183787:(e,t,n)=>{"use strict";n.d(t,{Icon:()=>s});var r=n(50959);const s=r.forwardRef(((e,t)=>{const{icon:n="",title:s,ariaLabel:i,ariaLabelledby:o,ariaHidden:a,...l}=e,u=!!(s||i||o);return r.createElement("span",{role:"img",...l,ref:t,"aria-label":i,"aria-labelledby":o,"aria-hidden":a||!u,title:s,dangerouslySetInnerHTML:{__html:n}})}))},878112:(e,t,n)=>{"use strict";n.d(t,{Icon:()=>r.Icon});var r=n(183787)},730654:(e,t,n)=>{"use strict";n.d(t,{Portal:()=>u,PortalContext:()=>d});var r=n(50959),s=n(632227),i=n(925931),o=n(801808),a=n(481564),l=n(682925);class u extends r.PureComponent{constructor(){super(...arguments),this._uuid=(0,i.nanoid)()}componentWillUnmount(){this._manager().removeWindow(this._uuid)}render(){const e=this._manager().ensureWindow(this._uuid,this.props.layerOptions)
;e.style.top=this.props.top||"",e.style.bottom=this.props.bottom||"",e.style.left=this.props.left||"",e.style.right=this.props.right||"",e.style.pointerEvents=this.props.pointerEvents||"";const t=this.props.className;return t&&("string"==typeof t?e.classList.add(t):e.classList.add(...t)),this.props.shouldTrapFocus&&!e.hasAttribute(a.FOCUS_TRAP_DATA_ATTRIBUTE)&&e.setAttribute(a.FOCUS_TRAP_DATA_ATTRIBUTE,"true"),this.props["aria-hidden"]&&e.setAttribute("aria-hidden","true"),s.createPortal(r.createElement(d.Provider,{value:this},this.props.children),e)}moveToTop(){this._manager().moveToTop(this._uuid)}_manager(){return null===this.context?(0,o.getRootOverlapManager)():this.context}}u.contextType=l.SlotContext;const d=r.createContext(null)},682925:(e,t,n)=>{"use strict";n.d(t,{Slot:()=>s,SlotContext:()=>i});var r=n(50959);class s extends r.Component{shouldComponentUpdate(){return!1}render(){return r.createElement("div",{style:{position:"fixed",zIndex:150,left:0,top:0},ref:this.props.reference})}}const i=r.createContext(null)},800417:(e,t,n)=>{"use strict";function r(e){return i(e,o)}function s(e){return i(e,a)}function i(e,t){const n=Object.entries(e).filter(t),r={};for(const[e,t]of n)r[e]=t;return r}function o(e){const[t,n]=e;return 0===t.indexOf("data-")&&"string"==typeof n}function a(e){return 0===e[0].indexOf("aria-")}n.d(t,{filterAriaProps:()=>s,filterDataProps:()=>r,filterProps:()=>i,isAriaAttribute:()=>a,isDataAttribute:()=>o})},273388:(e,t,n)=>{"use strict";function r(e){return t=>{e.forEach((e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)}))}}function s(e){return r([e])}n.d(t,{isomorphicRef:()=>s,mergeRefs:()=>r})},801808:(e,t,n)=>{"use strict";n.d(t,{OverlapManager:()=>o,getRootOverlapManager:()=>l});var r=n(650151),s=n(481564);class i{constructor(){this._storage=[]}add(e){this._storage.push(e)}remove(e){this._storage=this._storage.filter((t=>e!==t))}has(e){return this._storage.includes(e)}getItems(){return this._storage}}class o{constructor(e=document){this._storage=new i,this._windows=new Map,this._index=0,this._document=e,this._container=e.createDocumentFragment()}setContainer(e){const t=this._container,n=null===e?this._document.createDocumentFragment():e;!function(e,t){Array.from(e.childNodes).forEach((e=>{e.nodeType===Node.ELEMENT_NODE&&t.appendChild(e)}))}(t,n),this._container=n}registerWindow(e){this._storage.has(e)||this._storage.add(e)}ensureWindow(e,t={position:"fixed",direction:"normal"}){const n=this._windows.get(e);if(void 0!==n)return n;this.registerWindow(e);const r=this._document.createElement("div");if(r.style.position=t.position,r.style.zIndex=this._index.toString(),r.dataset.id=e,void 0!==t.index){const e=this._container.childNodes.length;if(t.index>=e)this._container.appendChild(r);else if(t.index<=0)this._container.insertBefore(r,this._container.firstChild);else{const e=this._container.childNodes[t.index];this._container.insertBefore(r,e)}}else"reverse"===t.direction?this._container.insertBefore(r,this._container.firstChild):this._container.appendChild(r)
;return this._windows.set(e,r),++this._index,r}unregisterWindow(e){this._storage.remove(e);const t=this._windows.get(e);void 0!==t&&(null!==t.parentElement&&t.parentElement.removeChild(t),this._windows.delete(e))}getZindex(e){const t=this.ensureWindow(e);return parseInt(t.style.zIndex||"0")}moveLastWindowToTop(){const e=this._storage.getItems(),t=e[e.length-1];t&&this.moveToTop(t)}moveToTop(e){if(this.getZindex(e)!==this._index){const t=this.ensureWindow(e);this._windows.forEach(((e,n)=>{e.hasAttribute(s.FOCUS_TRAP_DATA_ATTRIBUTE)&&e.setAttribute(s.FOCUS_TRAP_DATA_ATTRIBUTE,e===t?"true":"false")})),t.style.zIndex=(++this._index).toString()}}removeWindow(e){this.unregisterWindow(e)}}const a=new WeakMap;function l(e=document){const t=e.getElementById("overlap-manager-root");if(null!==t)return(0,r.ensureDefined)(a.get(t));{const t=new o(e),n=function(e){const t=e.createElement("div");return t.style.position="absolute",t.style.zIndex=150..toString(),t.style.top="0px",t.style.left="0px",t.id="overlap-manager-root",t.dataset.qaId="overlap-manager-root",t}(e);return a.set(n,t),t.setContainer(n),e.body.appendChild(n),t}}var u;!function(e){e[e.BaseZindex=150]="BaseZindex"}(u||(u={}))},868333:(e,t,n)=>{"use strict";var r;n.d(t,{LogoSize:()=>r,getLogoUrlResolver:()=>o}),function(e){e[e.Medium=0]="Medium",e[e.Large=1]="Large"}(r||(r={}));class s{getSymbolLogoUrl(e){return e}collectSymbolLogoUrls(e,t){return[]}getCountryFlagUrl(){return""}getCryptoLogoUrl(e){return e}getProviderLogoUrl(e){return e}getSourceLogoUrl(e){return e}getBlockchainContractLogoUrl(e){return e}}let i;function o(){return i||(i=new s),i}},904237:(e,t,n)=>{"use strict";var r=n(632227);t.createRoot=r.createRoot,r.hydrateRoot},266807:e=>{e.exports={wrapper:"wrapper-hPiAkrn3",timezone:"timezone-hPiAkrn3",largePadding:"largePadding-hPiAkrn3",sessionDayWrapper:"sessionDayWrapper-hPiAkrn3",nowWrapper:"nowWrapper-hPiAkrn3",now:"now-hPiAkrn3",sessionDay:"sessionDay-hPiAkrn3",weekDay:"weekDay-hPiAkrn3",sessionDaySegments:"sessionDaySegments-hPiAkrn3",timeMarkWrapper:"timeMarkWrapper-hPiAkrn3",timeMarkSegment:"timeMarkSegment-hPiAkrn3",timeMark:"timeMark-hPiAkrn3",timeMarkSegmentAlignByEnds:"timeMarkSegmentAlignByEnds-hPiAkrn3",segment:"segment-hPiAkrn3",small:"small-hPiAkrn3",start:"start-hPiAkrn3",end:"end-hPiAkrn3",active:"active-hPiAkrn3",green:"green-hPiAkrn3",orange:"orange-hPiAkrn3",blue:"blue-hPiAkrn3",gray:"gray-hPiAkrn3",tooltip:"tooltip-hPiAkrn3",time:"time-hPiAkrn3"}},253518:(e,t,n)=>{"use strict";n.d(t,{FullSessionScheduleRenderer:()=>A});var r=n(50959),s=n(497754),i=n(650151),o=n(609838),a=n(297265),l=n(284170),u=n(266807);const d=new WeakMap;function c(e){return d.has(e)||d.set(e,(0,l.randomHash)()),(0,i.ensureDefined)(d.get(e))}const m=new Map([[0,u.green],[1,u.orange],[2,u.blue],[3,u.gray]]),h=new Map([[0,o.t(null,void 0,n(241410))],[1,o.t(null,void 0,n(236018))],[2,o.t(null,void 0,n(673897))],[3,o.t(null,void 0,n(762464))]]),p=o.t(null,void 0,n(763538));var f;function v(e){
const{segment:t,forceStart:n,forceEnd:i}=e,o=t.end.value-t.start.value,a=o<.03,l={left:100*t.start.value+"%",width:`calc(${100*o}% + ${a?2:0}px)`},d=s(u.segment,m.get(t.type),(n||t.start.isFirstOrLastPoint)&&u.start,(i||t.end.isFirstOrLastPoint)&&u.end,a&&u.small,"common-tooltip-html","apply-common-tooltip"),c=function(e,t){return`<div class="${u.tooltip}">\n\t\t<span class="${m.get(t)}">${h.get(t)}</span>\n\t\t<span class="${u.time}">${e}</span>\n\t</div>`}(t.tooltip,t.type);return r.createElement("div",{className:d,style:l,"data-tooltip":c})}function y(e){const{sessionDay:t}=e,n=t.entries.map(((e,n)=>r.createElement(v,{key:`${c(e)}Segment`,segment:e,forceStart:0===n&&3===e.type,forceEnd:n===t.entries.length-1&&3===e.type}))),i=s(u.sessionDay,t.isActive&&u.active);return r.createElement("div",{className:i},r.createElement("div",{className:u.weekDay},t.title),r.createElement("div",{className:u.sessionDaySegments},n))}function g(e){const{sessionDays:t,currentTimeMark:n}=e,i=[],o=parseInt(Object.keys(t).filter((e=>t[parseInt(e)].isActive))[0]),a=t[o].entries.filter((e=>e.start.value<=n&&e.end.value>=n))[0];if((a.start.isFirstOrLastPoint||3===a.type)&&i.push(a.start),(a.end.isFirstOrLastPoint||3===a.type)&&i.push(a.end),0===i.length)return null;i.sort(((e,t)=>e.value-t.value));const l=i.map((e=>r.createElement("div",{key:c(e),className:u.timeMark},e.title))),d=100*(2===i.length?i[1].value-i[0].value:0),m=s(d>12&&u.timeMarkSegmentAlignByEnds,u.timeMarkSegment);return r.createElement("div",{className:u.sessionDay},r.createElement("div",{className:u.weekDay}),r.createElement("div",{className:u.timeMarkWrapper},r.createElement("div",{className:m,style:{left:100*i[0].value+"%",width:`${d}%`}},l)))}function A(e){const{className:t,timezone:n,showAllDays:i,timeZoneClassName:o}=e,l=(0,a.useWatchedValueReadonly)({watchedValue:e.sessionDays}),d=(0,a.useWatchedValueReadonly)({watchedValue:e.now}),c=Object.values(l).filter((e=>e.isActive))[0],m=s(t,u.wrapper);return r.createElement("div",{className:m},r.createElement("div",{className:u.sessionDayWrapper},i?r.createElement(r.Fragment,null,Object.values(l).map(((e,t)=>r.createElement(y,{key:t,sessionDay:e})))):r.createElement(y,{sessionDay:c}),r.createElement("div",{className:u.nowWrapper},r.createElement("div",{className:u.now,style:{left:100*d+"%"}}))),r.createElement(g,{sessionDays:l,currentTimeMark:d}),r.createElement("div",{className:s(u.timezone,o,i&&u.largePadding)},`${p}: ${n}`))}!function(e){e[e.MinSegmentWidth=12]="MinSegmentWidth",e[e.SmallWidth=.03]="SmallWidth"}(f||(f={}))},260249:(e,t,n)=>{"use strict";n.d(t,{FullSessionScheduleViewModel:()=>j});var r=n(505170),s=n(144421),i=n(453253),o=n(963632),a=n(241075);function l(e){return e/i.minutesPerDay}function u(e){return Math.round(e*i.minutesPerDay)}var d,c,m=n(650151),h=n(372097);!function(e){e[e.SUNDAY=1]="SUNDAY",e[e.MONDAY=2]="MONDAY",e[e.TUESDAY=3]="TUESDAY",e[e.WEDNESDAY=4]="WEDNESDAY",e[e.THURSDAY=5]="THURSDAY",e[e.FRIDAY=6]="FRIDAY",e[e.SATURDAY=7]="SATURDAY"}(d||(d={})),function(e){e[e.JANUARY=0]="JANUARY",
e[e.FEBRUARY=1]="FEBRUARY",e[e.MARCH=2]="MARCH",e[e.APRIL=3]="APRIL",e[e.MAY=4]="MAY",e[e.JUNE=5]="JUNE",e[e.JULY=6]="JULY",e[e.AUGUST=7]="AUGUST",e[e.SEPTEMBER=8]="SEPTEMBER",e[e.OCTOBER=9]="OCTOBER",e[e.NOVEMBER=10]="NOVEMBER",e[e.DECEMBER=11]="DECEMBER"}(c||(c={}));const p=[d.SUNDAY,d.MONDAY,d.TUESDAY,d.WEDNESDAY,d.THURSDAY,d.FRIDAY,d.SATURDAY];function f(e){return t=>function(e,t){return(e+t+6)%7+1}(t,e)}const v=f(-1),y=f(1);const g=function(e){return e&&e.length?e[0]:void 0};var A=n(82593),E=n(609838);c.JANUARY,E.t(null,void 0,n(100200)),c.FEBRUARY,E.t(null,void 0,n(581069)),c.MARCH,E.t(null,void 0,n(193878)),c.APRIL,E.t(null,void 0,n(528896)),c.MAY,E.t(null,void 0,n(125734)),c.JUNE,E.t(null,void 0,n(661487)),c.JULY,E.t(null,void 0,n(206608)),c.AUGUST,E.t(null,void 0,n(811081)),c.SEPTEMBER,E.t(null,void 0,n(632179)),c.OCTOBER,E.t(null,void 0,n(137997)),c.NOVEMBER,E.t(null,void 0,n(604607)),c.DECEMBER,E.t(null,void 0,n(890082)),c.JANUARY,E.t(null,void 0,n(562310)),c.FEBRUARY,E.t(null,void 0,n(302507)),c.MARCH,E.t(null,void 0,n(92767)),c.APRIL,E.t(null,void 0,n(227072)),c.MAY,E.t(null,{context:"short"},n(13132)),c.JUNE,E.t(null,void 0,n(800429)),c.JULY,E.t(null,void 0,n(853786)),c.AUGUST,E.t(null,void 0,n(546450)),c.SEPTEMBER,E.t(null,void 0,n(806816)),c.OCTOBER,E.t(null,void 0,n(912179)),c.NOVEMBER,E.t(null,void 0,n(526899)),c.DECEMBER,E.t(null,void 0,n(532084)),d.SUNDAY,E.t(null,void 0,n(661480)),d.MONDAY,E.t(null,void 0,n(419573)),d.TUESDAY,E.t(null,void 0,n(682160)),d.WEDNESDAY,E.t(null,void 0,n(894226)),d.THURSDAY,E.t(null,void 0,n(879137)),d.FRIDAY,E.t(null,void 0,n(503570)),d.SATURDAY,E.t(null,void 0,n(130348));const _={[d.SUNDAY]:E.t(null,void 0,n(377493)),[d.MONDAY]:E.t(null,void 0,n(837150)),[d.TUESDAY]:E.t(null,void 0,n(811916)),[d.WEDNESDAY]:E.t(null,void 0,n(711532)),[d.THURSDAY]:E.t(null,void 0,n(771388)),[d.FRIDAY]:E.t(null,void 0,n(922928)),[d.SATURDAY]:E.t(null,void 0,n(232273))};d.SUNDAY,E.t(null,{context:"day_of_week"},n(875005)),d.MONDAY,E.t(null,{context:"day_of_week"},n(930961)),d.TUESDAY,E.t(null,{context:"day_of_week"},n(244254)),d.WEDNESDAY,E.t(null,{context:"day_of_week"},n(392578)),d.THURSDAY,E.t(null,{context:"day_of_week"},n(608765)),d.FRIDAY,E.t(null,{context:"day_of_week"},n(923230)),d.SATURDAY,E.t(null,{context:"day_of_week"},n(894748));var D=n(491807);function S(e){for((0,m.assert)(Number.isInteger(e),"timeMinutes expected to be integer number");e>i.minutesPerDay;)e-=i.minutesPerDay;const t=e%60,n=(e-t)/60;return(0,D.numberToStringWithLeadingZero)(n,2)+":"+(0,D.numberToStringWithLeadingZero)(t,2)}function w(e,t){return`${e} â€” ${t}`}function x(e,t){return`${_[e]} ${S(t)}`}function T(e,t,n,r){(0,m.assert)(t!==i.minutesPerDay,"Start time expected to be normalized (24:00 as range start is not allowed)"),(0,m.assert)(0!==r,"End time expected to be normalized (00:00 as range end is not allowed)");const s=function(e,t,n,r){const s=e*i.minutesPerDay+t;let o=n*i.minutesPerDay+r;return o<s&&(o+=7*i.minutesPerDay),o-s}(e,t,n,r)
;return s<i.minutesPerDay||s===i.minutesPerDay&&0===t?function(e,t){return w(S(e),S(t))}(t,r):function(e,t,n,r){return w(x(e,t),x(n,r))}(e,t,n,r)}function R(e,t){return{value:e,title:S(u(e)),isFirstOrLastPoint:t}}function k(e){return 3!==e.type}function P(e,t){return{dayIndex:e,entries:t.filter(k)}}function U(e,t,n,r=t){const s=n(t),i=e[s];return s!==r&&0===i.entries.length?U(e,s,n,r):P(s,e[s].entries)}function b(e){return(t,n)=>U(t,n,e)}const M=b(v),I=b(y);function N(e,t,n,r){return(s,i,o)=>void 0===s?[r,o]:s===e?[t,n(i)]:[s,i]}const Y=N(1,0,y,0),C=N(0,1,v,1);function L(e,t,n,r,s){const[i,o]=Y(e,t,s),[a,l]=C(n,r,s);(0,m.assert)(t!==n||i<a,`Days are same (${t}) but prev entry time (${i}) >= next entry time (${a})`);const d=u(i),c=u(a);return h=R(o!==s?0:i,o===s),p=R(l!==s?1:a,l===s),f=3,v=T(o,d,l,c),{start:h,end:p,type:f,tooltip:v};var h,p,f,v}function B(e,t,n,r,s){return L(e?.end?.value,t,n?.start?.value,r,s)}function O(e){const t=[...e.entries];for(let n=1;n<e.entries.length;n++){const r=e.entries[n-1],s=e.entries[n];if(s.start.value!==r.end.value){const n=B(r,e.dayIndex,s,e.dayIndex,e.dayIndex);t.push(n)}}return t.sort(((e,t)=>e.start.value-t.start.value)),t}function W(e,t){const n=(0,A.default)(t.entries),r=t.dayIndex,s=(0,m.ensureDefined)(g(e.entries));return 0===s.start.value?[]:[B(n,r,s,e.dayIndex,e.dayIndex)]}function F(e,t){const n=g(t.entries),r=t.dayIndex,s=(0,m.ensureDefined)((0,A.default)(e.entries));return 1===s.end.value?[]:[B(s,e.dayIndex,n,r,e.dayIndex)]}function z(e,t){const n={thisDay:P(e,t[e].entries),prevDay:M(t,e),nextDay:I(t,e)};return function({thisDay:e,prevDay:t,nextDay:n}){if(0===e.entries.length)return[B((0,A.default)(t.entries),t.dayIndex,g(n.entries),n.dayIndex,e.dayIndex)]}(n)??function({thisDay:e,prevDay:t,nextDay:n}){const r=e.dayIndex;if(t.dayIndex!==r||n.dayIndex!==r)return;const i=e.entries,o=(0,m.ensureDefined)(g(i)),a=(0,m.ensureDefined)((0,A.default)(i));return[0!==o.start.value?L(0,r,o.start.value,r,r):void 0,...O(e),1!==a.end.value?L(a.end.value,r,1,r,r):void 0].filter(s.isExistent)}(n)??function(e){return[...W(e.thisDay,e.prevDay),...O(e.thisDay),...F(e.thisDay,e.nextDay)]}(n)}var V=n(482468);const $=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var s=e[t];r[s[0]]=s[1]}return r}(p.map((e=>[e,{title:_[e],isActive:!1,entries:[]}])));function H(e,t,n){const r=e[n].entries;r.push(t),r.sort(((e,t)=>e.start.value-t.start.value))}function J(e,t){const n=function(e){if(null===e)return new Map;if(void 0===e.subsessions)return new Map([[0,new V.SessionsSpec(e.timezone,e.session_display??e.session,e.session_holidays,e.corrections)]]);const t="regular",n="premarket",r="postmarket",s=[t,n,r],i=new Map;for(const o of s){let s=null;switch(o){case t:s=0;break;case n:s=1;break;case r:s=2}if(null!==s){const t=e.subsessions.find((e=>e.id===o));void 0!==t&&i.set(s,new V.SessionsSpec(e.timezone,t["session-display"]||t.session,e.session_holidays,t["session-correction"]))}}return i}(e),r=t??(0,i.utc_to_cal)((0,
i.get_timezone)(e?.timezone??"Etc/UTC"),Date.now()),s=(t?.getUTCDay()??(new Date).getDay())%7+1;const o=(0,h.deepCopy)($);o[s].isActive=!0;for(const e of Array.from(n.keys())){const t=(0,m.ensureDefined)(n.get(e)),s=(0,i.get_day_of_week)(r),a=(0,i.clone)(r);(0,i.add_date)(a,-s),(0,i.set_hms)(a,0,0,0,0);const u=(0,i.clone)(a);(0,i.add_date)(u,7);let d=t.alignToNearestSessionStart(a,t.inSession(a)?-1:1);for(;d.getTime()<u.getTime();){const n=t.alignToNearestSessionEnd(d,1),r=(0,i.get_day_of_week)(d),s=(0,i.get_day_of_week)(n),c=(0,i.get_minutes_from_midnight)(d),m=(0,i.get_minutes_from_midnight)(n)+1,h=l(c),p=l(m),f=T(r,c,s,m);r===s?H(o,{start:R(h,!0),end:R(p,!0),type:e,tooltip:f},r):(d.getTime()>a.getTime()&&H(o,{start:R(h,!0),end:R(1,!1),type:e,tooltip:f},r),n.getTime()<u.getTime()&&H(o,{start:R(0,!1),end:R(p,!0),type:e,tooltip:f},s)),(0,i.add_minutes)(n,1),d=t.alignToNearestSessionStart(n,1)}}return function(e){const t=new Map;for(const n of p)t.set(n,z(n,e));for(const n of p)e[n].entries=(0,m.ensureDefined)(t.get(n))}(o),{newSessionsDays:o,newTodaySession:o[s]}}var Z;function G(e){return(0,i.get_cal_from_unix_timestamp_ms)((0,i.get_timezone)(e.timezone),window.ChartApiInstance.serverTime()-1e3*(0,a.getSymbolDelaySeconds)(e))}!function(e){e[e.Regular=0]="Regular",e[e.Pre=1]="Pre",e[e.Post=2]="Post",e[e.Close=3]="Close"}(Z||(Z={}));class j{constructor(e){this.sessionsDays=new o.WatchedValue((0,s.clone)($)),this.todaySession=new o.WatchedValue((0,s.clone)({entries:[]})),this._currentTime=new o.WatchedValue(-1),this._symbolInfo=e.symbolInfo().spawn(),this._symbolInfo.subscribe(this._updateEntriesBySubSessions.bind(this),{callWithLast:!0}),this._timeIntervalId=setInterval(this._updateTodayWithOffsets.bind(this),6e4)}destroy(){this._symbolInfo.destroy(),clearInterval(this._timeIntervalId)}currentTimeValue(){return this._currentTime.readonly()}timezone(){const e=this._symbolInfo.value();return null===e?"":(0,r.timezoneTitle)(e.timezone)}_updateEntriesBySubSessions(e){this._updateTodayWithOffsets();const{newSessionsDays:t,newTodaySession:n}=J(e,null===e?null:G(e));this.sessionsDays.setValue(t),this.todaySession.setValue(n)}_updateTodayWithOffsets(){const e=this._symbolInfo.value();if(null===e)return void this._currentTime.setValue(-1);const t=this._currentTime.value(),n=l((0,i.get_minutes_from_midnight)(G(e)));this._currentTime.setValue(n),n<t&&this._updateEntriesBySubSessions(e)}}},602948:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M3.92 7.83 9 12.29l5.08-4.46-1-1.13L9 10.29l-4.09-3.6-.99 1.14Z"/></svg>'},492315:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M9 14A5 5 0 1 0 9 4a5 5 0 0 0 0 10Zm3-4H6V8h6v2Z"/></svg>'},925931:(e,t,n)=>{"use strict";n.d(t,{nanoid:()=>r});let r=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+=(t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_"),"")}}]);