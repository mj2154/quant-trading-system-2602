(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[2962],{497754:(t,e)=>{var n;!function(){"use strict";var o={}.hasOwnProperty;function r(){for(var t=[],e=0;e<arguments.length;e++){var n=arguments[e];if(n){var i=typeof n;if("string"===i||"number"===i)t.push(n);else if(Array.isArray(n)&&n.length){var a=r.apply(null,n);a&&t.push(a)}else if("object"===i)for(var l in n)o.call(n,l)&&n[l]&&t.push(l)}}return t.join(" ")}t.exports?(r.default=r,t.exports=r):void 0===(n=function(){return r}.apply(e,[]))||(t.exports=n)}()},672174:t=>{t.exports={divider:"divider-pzdcWv_c","orientation-horizontal":"orientation-horizontal-pzdcWv_c","orientation-vertical":"orientation-vertical-pzdcWv_c","size-xsmall":"size-xsmall-pzdcWv_c","size-small":"size-small-pzdcWv_c","size-medium":"size-medium-pzdcWv_c","size-large":"size-large-pzdcWv_c","size-xlarge":"size-xlarge-pzdcWv_c","size-xxlarge":"size-xxlarge-pzdcWv_c","type-primary":"type-primary-pzdcWv_c","type-secondary":"type-secondary-pzdcWv_c"}},891754:t=>{t.exports={content:"content-DAxjbs7m"}},224044:t=>{t.exports={positioner:"positioner-lATuqHRX",invisible:"invisible-lATuqHRX"}},201290:(t,e,n)=>{"use strict";n.d(e,{AppContext:()=>o});const o=(0,n(50959).createContext)({isOnMobileAppPage:()=>!1,isRtl:!1,locale:"en",renderMode:"legacy"})},584811:(t,e,n)=>{"use strict";n.d(e,{Divider:()=>h});var o,r,i,a=n(50959),l=n(497754),s=n.n(l),c=n(672174),u=n.n(c);function h(t){const{className:e,type:n="secondary",size:o="small",orientation:r="horizontal"}=t,i=s()(e,u().divider,u()[`size-${o}`],u()[`type-${n}`],u()[`orientation-${r}`]);return a.createElement("hr",{className:i,"aria-orientation":r})}!function(t){t.XSmall="xsmall",t.Small="small",t.Medium="medium",t.Large="large",t.XLarge="xlarge",t.XXLarge="xxlarge"}(o||(o={})),function(t){t.Primary="primary",t.Secondary="secondary"}(r||(r={})),function(t){t.Horizontal="horizontal",t.Vertical="vertical"}(i||(i={}))},669461:(t,e,n)=>{"use strict";n.d(e,{applySlideToFitOnAxis:()=>r});var o=n(611551);function r(t,e,n){if(t.start<n.start)return(0,o.createInterval)(n.start,t.length);return t.start+t.length>n.start+n.length?(0,o.createInterval)(n.start+n.length-t.length,t.length):(0,o.createInterval)(t.start,t.length)}},356668:(t,e,n)=>{"use strict";function o(t){const e=t[0].contentRect,n=function(t,e){const n=Math.max(t.x,e.x),o=Math.max(t.y,e.y),r=Math.min(t.x+t.width,e.x+e.width),i=Math.min(t.y+t.height,e.y+e.height);if(!(n>r||o>i))return{x:n,y:o,width:r-n,height:i-o}}(e,{...t[0].screenRect});return n?e.width*e.height-n.width*n.height:Number.POSITIVE_INFINITY}n.d(e,{bySmallestArea:()=>o})},630910:(t,e,n)=>{"use strict";function o(t){return e=>function(t,e){return function(t,e){let n=t[0],o=e(n);for(let r=1;r<t.length;r++){const i=t[r],a=e(i);a<o&&(o=a,n=i)}return n}(t,e)}(e,t)}n.d(e,{ruleSelectionBehaviorBySmallestOverlapToImpl:()=>o})},611551:(t,e,n)=>{"use strict";function o(t,e){return{start:t,length:e}}function r(t){return o(t.x,t.width)}function i(t){return o(t.y,t.height)}n.d(e,{createHorizontalInterval:()=>r,
createInterval:()=>o,createVerticalInterval:()=>i})},190285:(t,e,n)=>{"use strict";n.d(e,{ifNonePlacementRuleMatchedToImpl:()=>a});var o=n(630910);const r={horizontal:t=>t[0].overflow.x,vertical:t=>t[0].overflow.y,area:n(356668).bySmallestArea};var i=n(611551);function a(t){return{pickRule:function(t){switch(t?.by){case"smallest-overlap":return(0,o.ruleSelectionBehaviorBySmallestOverlapToImpl)((e=t.criteria,r[e]));case"name":return e=>function(t,e){return t.find((t=>t[1].name===e.name))??t[0]}(e,t);default:return t=>function(t){return t[0]}(t)}var e}(t.pickRule),vertical:c(t.vertical),horizontal:c(t.horizontal)}}const l={keepNonFitting:function(t){return(0,i.createInterval)(t.start,t.length)},cropSlideToFit:function(t,e,n){if(e.start+e.length>=n.start&&e.start<=n.start+n.length){if(t.start<n.start)return(0,i.createInterval)(n.start,t.length+t.start-n.start);return t.start+t.length>n.start+n.length?(0,i.createInterval)(t.start,n.start+n.length-t.start):(0,i.createInterval)(t.start,t.length)}{const o=e.start+e.length<=n.start,r=Math.min(t.length,n.length);return o?(0,i.createInterval)(n.start,r):(0,i.createInterval)(n.length-r,r)}},slideToFit:n(669461).applySlideToFitOnAxis},s="keepNonFitting";function c(t){return l[t??s]}},9365:(t,e,n)=>{"use strict";n.d(e,{RectanglePositionerContent:()=>l});var o=n(50959),r=n(286674),i=n(891754),a=n.n(i);function l(t){const{children:e}=t,{onContentResized:n}=(0,o.useContext)(r.RectanglePositionerContext),i=(0,o.useMemo)((()=>new ResizeObserver((([t])=>{n(t.borderBoxSize[0].inlineSize,t.borderBoxSize[0].blockSize)}))),[n]);return o.createElement("div",{ref:t=>{i.disconnect(),t&&i.observe(t)},className:a().content},e)}},286674:(t,e,n)=>{"use strict";n.d(e,{RectanglePositioner:()=>x,RectanglePositionerContext:()=>y});var o=n(50959),r=n(497754),i=n.n(r),a=n(730654),l=n(625956);function s(t,e){return{x:e?-t.x:1-t.x,y:t.y}}function c(t,e){return t.map((t=>function(t,e){return{name:e&&t.rtlName||t.name,anchorPoint:s(t.anchorPoint),contentPoint:s(t.contentPoint),offset:t.offset?s(t.offset,!0):void 0}}(t,e)))}var u=n(611551);function h(t,e,n,o){const r=o.horizontal((0,u.createHorizontalInterval)(t),(0,u.createHorizontalInterval)(e),(0,u.createHorizontalInterval)(n)),i=o.vertical((0,u.createVerticalInterval)(t),(0,u.createVerticalInterval)(e),(0,u.createVerticalInterval)(n));return{x:r.start,y:i.start,width:r.length,height:i.length}}function d(t,e){const n=t.start+t.length,o=e.start+e.length;return t.start<e.start?{overflow:e.start-t.start,correction:e.start-t.start}:n>o?{overflow:n-o,correction:o-n}:{overflow:0,correction:0}}function p(t,e,n,o){const r=function(t,e,n){const{anchorPoint:o,contentPoint:r,offset:i}=n;return{x:t.x+t.width*o.x-e.width*r.x+(i?.x??0),y:t.y+t.height*o.y-e.height*r.y+(i?.y??0)}}(t,e,n),i=(0,u.createInterval)(r.x,e.width),a=(0,u.createHorizontalInterval)(o),{overflow:l}=d(i,a),s=(0,u.createInterval)(r.y,e.height),c=(0,u.createVerticalInterval)(o),{overflow:h}=d(s,c);return{contentRect:{x:r.x,y:r.y,...e},screenRect:o,overflow:{x:l,y:h}}}function m(){return{x:0,y:0,
width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}}var f=n(224044),g=n.n(f);const v={width:0,height:0};function x(t){const{isRtl:e,anchoredAt:n,isOpen:r,placementRules:s,ifNonePlacementRuleMatched:u,anchorPositionerCardAppearanceClassname:d,refObjectToContentWrapperElement:f,children:x,onPlacementRuleSelected:_,getRootRect:w=m,idOfContentWrapperElement:E,ariaLabelledby:T,ariaMultiselectable:b,role:P,width:R,height:N,...A}=t,C=A,[z,I]=(0,o.useState)(void 0),M=(0,o.useCallback)((t=>{const e=Math.ceil(t.width),n=Math.ceil(t.height);I((t=>t?.width!==e||t?.height!==n?{width:e,height:n}:t))}),[I]),S=(0,o.useCallback)(((t,e)=>{M({width:t,height:e})}),[M]);(0,o.useEffect)((()=>{r||I(void 0)}),[r]);const[k,L]=(0,o.useMemo)((()=>function(t,e,n,o,r,i=!1){const a=i?c(o,i):o,l=[];for(const o of a){const r=p(t,e,o,n);if(0===r.overflow.x&&0===r.overflow.y)return[r.contentRect,o];l.push([r,o])}const s=r.pickRule(l);return[h(s[0].contentRect,t,n,r),s[1]]}(n,z??v,w(),s,u,e)),[n,z,w,s,u,e]);if((0,o.useEffect)((()=>{if(L&&_)return _(L)}),[L,_]),!r)return null;const O=[],V={},W={};for(const e of["width","height"]){const o=t[e];(Array.isArray(o)?o:[o]).filter((t=>!!t)).forEach((t=>{if("content"===t.by)return;if("class"===t.by)return void O.push(t.className);const o=t.type??"exact";("exact"===o?V:W)["--ui-lib-positioner-anchor-"+o+"-"+e]=n[e]+"px"}))}const H=[d,g().positioner],F={...V,...W,"--ui-lib-positioner-anchor-width":n.width+"px","--ui-lib-positioner-anchor-height":n.height+"px","--ui-lib-positioner-content-point-y":L.contentPoint.y,"--ui-lib-positioner-content-point-x":L.contentPoint.x,"--ui-lib-positioner-anchor-top":n.y+"px","--ui-lib-positioner-anchor-left":n.x+"px"},B=o.createElement(y.Provider,{value:{onContentResized:S}},x);return o.createElement(a.Portal,null,void 0===z?o.createElement("div",{className:i()(g().invisible,...O,...H),style:F},B):o.createElement("div",{className:i()(...H,...O),style:{"--ui-lib-positioner-calculated-left":k.x+"px","--ui-lib-positioner-calculated-top":k.y+"px","--ui-lib-positioner-calculated-height":k.height+"px","--ui-lib-positioner-calculated-width":k.width+"px",...F},...(0,l.contentProps)(E,T,b,P),...C,ref:f},B))}const y=(0,o.createContext)({onContentResized:()=>{}})},625956:(t,e,n)=>{"use strict";function o(t,e,n,o){return{role:o,"aria-labelledby":e,"aria-multiselectable":n,id:t}}n.d(e,{contentProps:()=>o})},19952:(t,e,n)=>{"use strict";n.d(e,{PLACEMENT_BOTTOM_ALIGN_CENTER:()=>i,PLACEMENT_BOTTOM_ALIGN_LEFT:()=>o,PLACEMENT_BOTTOM_ALIGN_RIGHT:()=>r,PLACEMENT_LEFT_ALIGN_BOTTOM:()=>p,PLACEMENT_LEFT_ALIGN_CENTER:()=>m,PLACEMENT_LEFT_ALIGN_TOP:()=>d,PLACEMENT_RIGHT_ALIGN_BOTTOM:()=>u,PLACEMENT_RIGHT_ALIGN_CENTER:()=>h,PLACEMENT_RIGHT_ALIGN_TOP:()=>c,PLACEMENT_TOP_ALIGN_CENTER:()=>s,PLACEMENT_TOP_ALIGN_LEFT:()=>a,PLACEMENT_TOP_ALIGN_RIGHT:()=>l});const o={name:"bottom-left",rtlName:"bottom-right",anchorPoint:{x:0,y:1},contentPoint:{x:0,y:0}},r={name:"bottom-right",rtlName:"bottom-left",anchorPoint:{x:1,y:1},contentPoint:{x:1,y:0}},i={name:"bottom",anchorPoint:{
x:.5,y:1},contentPoint:{x:.5,y:0}},a={name:"top-left",rtlName:"top-right",anchorPoint:{x:0,y:0},contentPoint:{x:0,y:1}},l={name:"top-right",rtlName:"top-left",anchorPoint:{x:1,y:0},contentPoint:{x:1,y:1}},s={name:"top",anchorPoint:{x:.5,y:0},contentPoint:{x:.5,y:1}},c={name:"right-top",rtlName:"left-top",anchorPoint:{x:1,y:0},contentPoint:{x:0,y:0}},u={name:"right-bottom",rtlName:"left-bottom",anchorPoint:{x:1,y:1},contentPoint:{x:0,y:1}},h={name:"right",rtlName:"left",anchorPoint:{x:1,y:.5},contentPoint:{x:0,y:.5}},d={name:"left-top",rtlName:"right-top",anchorPoint:{x:0,y:0},contentPoint:{x:1,y:0}},p={name:"left-bottom",rtlName:"right-bottom",anchorPoint:{x:0,y:1},contentPoint:{x:1,y:1}},m={name:"left",rtlName:"right",anchorPoint:{x:0,y:.5},contentPoint:{x:1,y:.5}}},730654:(t,e,n)=>{"use strict";n.d(e,{Portal:()=>c,PortalContext:()=>u});var o=n(50959),r=n(632227),i=n(925931),a=n(801808),l=n(481564),s=n(682925);class c extends o.PureComponent{constructor(){super(...arguments),this._uuid=(0,i.nanoid)()}componentWillUnmount(){this._manager().removeWindow(this._uuid)}render(){const t=this._manager().ensureWindow(this._uuid,this.props.layerOptions);t.style.top=this.props.top||"",t.style.bottom=this.props.bottom||"",t.style.left=this.props.left||"",t.style.right=this.props.right||"",t.style.pointerEvents=this.props.pointerEvents||"";const e=this.props.className;return e&&("string"==typeof e?t.classList.add(e):t.classList.add(...e)),this.props.shouldTrapFocus&&!t.hasAttribute(l.FOCUS_TRAP_DATA_ATTRIBUTE)&&t.setAttribute(l.FOCUS_TRAP_DATA_ATTRIBUTE,"true"),this.props["aria-hidden"]&&t.setAttribute("aria-hidden","true"),r.createPortal(o.createElement(u.Provider,{value:this},this.props.children),t)}moveToTop(){this._manager().moveToTop(this._uuid)}_manager(){return null===this.context?(0,a.getRootOverlapManager)():this.context}}c.contextType=s.SlotContext;const u=o.createContext(null)},682925:(t,e,n)=>{"use strict";n.d(e,{Slot:()=>r,SlotContext:()=>i});var o=n(50959);class r extends o.Component{shouldComponentUpdate(){return!1}render(){return o.createElement("div",{style:{position:"fixed",zIndex:150,left:0,top:0},ref:this.props.reference})}}const i=o.createContext(null)},801808:(t,e,n)=>{"use strict";n.d(e,{OverlapManager:()=>a,getRootOverlapManager:()=>s});var o=n(650151),r=n(481564);class i{constructor(){this._storage=[]}add(t){this._storage.push(t)}remove(t){this._storage=this._storage.filter((e=>t!==e))}has(t){return this._storage.includes(t)}getItems(){return this._storage}}class a{constructor(t=document){this._storage=new i,this._windows=new Map,this._index=0,this._document=t,this._container=t.createDocumentFragment()}setContainer(t){const e=this._container,n=null===t?this._document.createDocumentFragment():t;!function(t,e){Array.from(t.childNodes).forEach((t=>{t.nodeType===Node.ELEMENT_NODE&&e.appendChild(t)}))}(e,n),this._container=n}registerWindow(t){this._storage.has(t)||this._storage.add(t)}ensureWindow(t,e={position:"fixed",direction:"normal"}){const n=this._windows.get(t);if(void 0!==n)return n
;this.registerWindow(t);const o=this._document.createElement("div");if(o.style.position=e.position,o.style.zIndex=this._index.toString(),o.dataset.id=t,void 0!==e.index){const t=this._container.childNodes.length;if(e.index>=t)this._container.appendChild(o);else if(e.index<=0)this._container.insertBefore(o,this._container.firstChild);else{const t=this._container.childNodes[e.index];this._container.insertBefore(o,t)}}else"reverse"===e.direction?this._container.insertBefore(o,this._container.firstChild):this._container.appendChild(o);return this._windows.set(t,o),++this._index,o}unregisterWindow(t){this._storage.remove(t);const e=this._windows.get(t);void 0!==e&&(null!==e.parentElement&&e.parentElement.removeChild(e),this._windows.delete(t))}getZindex(t){const e=this.ensureWindow(t);return parseInt(e.style.zIndex||"0")}moveLastWindowToTop(){const t=this._storage.getItems(),e=t[t.length-1];e&&this.moveToTop(e)}moveToTop(t){if(this.getZindex(t)!==this._index){const e=this.ensureWindow(t);this._windows.forEach(((t,n)=>{t.hasAttribute(r.FOCUS_TRAP_DATA_ATTRIBUTE)&&t.setAttribute(r.FOCUS_TRAP_DATA_ATTRIBUTE,t===e?"true":"false")})),e.style.zIndex=(++this._index).toString()}}removeWindow(t){this.unregisterWindow(t)}}const l=new WeakMap;function s(t=document){const e=t.getElementById("overlap-manager-root");if(null!==e)return(0,o.ensureDefined)(l.get(e));{const e=new a(t),n=function(t){const e=t.createElement("div");return e.style.position="absolute",e.style.zIndex=150..toString(),e.style.top="0px",e.style.left="0px",e.id="overlap-manager-root",e.dataset.qaId="overlap-manager-root",e}(t);return l.set(n,e),e.setContainer(n),t.body.appendChild(n),e}}var c;!function(t){t[t.BaseZindex=150]="BaseZindex"}(c||(c={}))},157129:(t,e,n)=>{"use strict";n.d(e,{createReactRoot:()=>h});var o=n(50959),r=n(632227),i=n(904237),a=n(201290),l=n(69111),s=n(229144);const c={iOs:"old",android:"new",old:"old",new:"new",any:"any"};function u(t){const[e]=(0,o.useState)({isOnMobileAppPage:t=>(0,l.isOnMobileAppPage)(c[t]),isRtl:(0,s.isRtl)(),locale:window.locale,renderMode:t.renderMode??"legacy"});return o.createElement(a.AppContext.Provider,{value:e},t.children)}function h(t,e,n="legacy"){const a=o.createElement(u,{renderMode:n},t);if("modern"===n){const t=(0,i.createRoot)(e);return t.render(a),{render(e){t.render(o.createElement(u,{renderMode:n},e))},unmount(){t.unmount()}}}return r.render(a,e),{render(t){r.render(o.createElement(u,{renderMode:n},t),e)},unmount(){r.unmountComponentAtNode(e)}}}},297265:(t,e,n)=>{"use strict";n.d(e,{useWatchedValueReadonly:()=>r});var o=n(50959);const r=(t,e=!1,n=[])=>{const r="watchedValue"in t?t.watchedValue:void 0,i="defaultValue"in t?t.defaultValue:t.watchedValue.value(),[a,l]=(0,o.useState)(r?r.value():i);return(e?o.useLayoutEffect:o.useEffect)((()=>{if(r){l(r.value());const t=t=>l(t);return r.subscribe(t),()=>r.unsubscribe(t)}return()=>{}}),[r,...n]),a}},904237:(t,e,n)=>{"use strict";var o=n(632227);e.createRoot=o.createRoot,o.hydrateRoot},447723:t=>{t.exports={
"floating-tooltip-container":"floating-tooltip-container-HbjzitVh",hidden:"hidden-HbjzitVh","chart-floating-tooltip-content":"chart-floating-tooltip-content-HbjzitVh","chart-floating-tooltip-row":"chart-floating-tooltip-row-HbjzitVh","chart-floating-tooltip-divider":"chart-floating-tooltip-divider-HbjzitVh","chart-floating-tooltip-divider-dark":"chart-floating-tooltip-divider-dark-HbjzitVh","chart-floating-tooltip-title":"chart-floating-tooltip-title-HbjzitVh","chart-floating-tooltip-title-text":"chart-floating-tooltip-title-text-HbjzitVh","chart-floating-tooltip-title-text-dark":"chart-floating-tooltip-title-text-dark-HbjzitVh","chart-floating-tooltip-title-inputs":"chart-floating-tooltip-title-inputs-HbjzitVh","chart-floating-tooltip-title-inputs-dark":"chart-floating-tooltip-title-inputs-dark-HbjzitVh","chart-floating-tooltip-value":"chart-floating-tooltip-value-HbjzitVh","chart-floating-tooltip-value-dark":"chart-floating-tooltip-value-dark-HbjzitVh","chart-floating-tooltip-value--summary":"chart-floating-tooltip-value--summary-HbjzitVh","chart-floating-tooltip-positioner":"chart-floating-tooltip-positioner-HbjzitVh","chart-floating-tooltip-positioner-dark":"chart-floating-tooltip-positioner-dark-HbjzitVh"}},464042:(t,e,n)=>{"use strict";n.r(e),n.d(e,{createChartFloatingTooltip:()=>_});var o=n(50959),r=n(157129),i=n(497754),a=n.n(i),l=n(144421),s=n(286674),c=n(9365),u=n(190285),h=n(19952),d=n(584811),p=n(297265),m=n(447723);const f=12;function g(t){const{state:e,isDark:n}=t;return o.createElement("div",{className:m["chart-floating-tooltip-row"]},o.createElement("div",{className:m["chart-floating-tooltip-title"]},o.createElement("div",{className:a()(m["chart-floating-tooltip-title-text"],n&&m["chart-floating-tooltip-title-text-dark"])},e.titleText),o.createElement("div",{className:a()(m["chart-floating-tooltip-title-inputs"],n&&m["chart-floating-tooltip-title-inputs-dark"])},e.titleInputs)),o.createElement("div",{className:a()(m["chart-floating-tooltip-value"],e.isSummary&&m["chart-floating-tooltip-value--summary"],n&&m["chart-floating-tooltip-value-dark"]),style:{color:t.state.valueColor}},e.value))}function v(t){const{state:e,isDark:n}=t;return o.createElement(o.Fragment,null,e.plots.map(((t,e)=>o.createElement(g,{key:e,state:t,isDark:n}))))}function x(t){const e=(0,p.useWatchedValueReadonly)({watchedValue:t.isDark}),n=(0,p.useWatchedValueReadonly)({watchedValue:t.state}),r=[...n.sources,n.seriesSource].filter(l.notUndefined).reduce(((t,e)=>t+e.plots.length),0),i=(0,o.useRef)(null);return o.createElement(s.RectanglePositioner,{isOpen:n.visible&&r>0,anchoredAt:{x:n.x-f,y:n.y,width:2*f,height:0},width:{by:"content"},height:{by:"content"},isRtl:!1,anchorPositionerCardAppearanceClassname:a()(m["chart-floating-tooltip-positioner"],e&&m["chart-floating-tooltip-positioner-dark"]),ifNonePlacementRuleMatched:(0,u.ifNonePlacementRuleMatchedToImpl)({pickRule:{by:"smallest-overlap",criteria:"area"},vertical:"slideToFit"}),placementRules:y,refObjectToContentWrapperElement:i
},o.createElement(c.RectanglePositionerContent,null,o.createElement("div",{className:m["chart-floating-tooltip-content"]},!!n.seriesSource?.plots.length&&o.createElement(o.Fragment,null,o.createElement(v,{state:n.seriesSource,isDark:e}),n.sources.length>0&&o.createElement(d.Divider,{size:"xsmall",className:a()(m["chart-floating-tooltip-divider"],e&&m["chart-floating-tooltip-divider-dark"])})),n.sources.map(((t,n)=>o.createElement(v,{state:t,isDark:e,key:`source-${n}`}))))))}const y=[h.PLACEMENT_RIGHT_ALIGN_CENTER,h.PLACEMENT_LEFT_ALIGN_CENTER];function _(t,e){const n=document.createElement("div"),i=(0,r.createReactRoot)(o.createElement(x,{state:t,isDark:e}),n);return{destroy:()=>{i.unmount(),n.remove(),t.release()}}}},961882:(t,e,n)=>{"use strict";n.r(e),n.d(e,{createViewState:()=>h,limitedPlots:()=>c});var o=n(144421),r=n(609838),i=n(267624),a=n(780284),l=n(742196);const s=10;function c(t,e,o){if(!t||!e)return[];const i=t.items(),a=o-s+1;if(i.length>e||a>1&&i.length===e){const o=t.items().slice(0,e-1);return o.push({titleText:"",titleInputs:"",value:r.t(null,{context:"chart floating toolbar",plural:"{plotsCount} more values",count:a},n(546729)).format({plotsCount:a.toString()}),isSummary:!0}),o}return i}function u(t,e,n,o){return e&&"release"in e?(0,a.combine)(((t,e)=>({plots:c(t,n,o)})),e,t).ownership():(0,a.combine)((t=>({plots:c(e,n,o)})),t).ownership()}function h(t,e,n){const r=t.model().model(),c=(0,a.combine)((t=>t?.containsMainSeries()?r.mainSeries().chartFloatingTooltipView?.()??null:null),t.activePaneWidget().weakReference()),h=(0,a.combine)(((t,e,n)=>({cursor:t,visible:e,seriesSource:n})),e.weakReference(),n.weakReference(),u(e.weakReference(),c.ownership(),1/0,0)),d=(0,a.accumulate)(((t,e)=>({seriesSource:e.seriesSource,sources:t.filter((t=>t.plots.length)),x:e.cursor?.x??0,y:e.cursor?.y??0,visible:e.visible})),function(t,e,n){const r=(0,a.combine)((t=>t?[(0,i.createWVFromGetterAndSubscription)((()=>[...t.state().sourcesByGroup().plotSources().filter((t=>t.isVisible()))].reverse()),t.state().dataSourcesCollectionChanged()).ownership()]:[]),e.weakReference()),c=(0,a.accumulate)((t=>t[0]??[]),r.ownership());return(0,a.combine)(((e,n)=>{const r=e.filter((t=>!(0,l.isSeries)(t))).map((t=>t.chartFloatingTooltipView?.()??null)).filter(o.notNull),i=function(t){return t.reduce(((t,e)=>t+e.items().length),0)}(r);return r.reduce(((e,n,o)=>{if(e.counter>=s)return e;const r=u(t,n,s-e.counter,i);return{counter:e.counter+r.value().plots.length,views:[...e.views,r]}}),{counter:0,views:[]}).views}),c.ownership(),n.weakReference()).ownership()}(e,t.activePaneWidget().weakReference(),c.weakReference()).ownership(),h.ownership());return d.ownership()}},925931:(t,e,n)=>{"use strict";n.d(e,{nanoid:()=>o});let o=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce(((t,e)=>t+=(e&=63)<36?e.toString(36):e<62?(e-26).toString(36).toUpperCase():e>62?"-":"_"),"")}}]);