(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[6456,9790],{370168:e=>{e.exports={button:"button-D4RPB3ZC",iconOnly:"iconOnly-D4RPB3ZC",withStartSlot:"withStartSlot-D4RPB3ZC",withEndSlot:"withEndSlot-D4RPB3ZC",startSlotWrap:"startSlotWrap-D4RPB3ZC",endSlotWrap:"endSlotWrap-D4RPB3ZC",xsmall:"xsmall-D4RPB3ZC",small:"small-D4RPB3ZC",medium:"medium-D4RPB3ZC",large:"large-D4RPB3ZC",xlarge:"xlarge-D4RPB3ZC",content:"content-D4RPB3ZC",link:"link-D4RPB3ZC",blue:"blue-D4RPB3ZC",primary:"primary-D4RPB3ZC",secondary:"secondary-D4RPB3ZC",gray:"gray-D4RPB3ZC",green:"green-D4RPB3ZC",red:"red-D4RPB3ZC",black:"black-D4RPB3ZC",slot:"slot-D4RPB3ZC",stretch:"stretch-D4RPB3ZC",grouped:"grouped-D4RPB3ZC",adjustPosition:"adjustPosition-D4RPB3ZC",firstRow:"firstRow-D4RPB3ZC",firstCol:"firstCol-D4RPB3ZC","no-corner-top-left":"no-corner-top-left-D4RPB3ZC","no-corner-top-right":"no-corner-top-right-D4RPB3ZC","no-corner-bottom-right":"no-corner-bottom-right-D4RPB3ZC","no-corner-bottom-left":"no-corner-bottom-left-D4RPB3ZC",textWrap:"textWrap-D4RPB3ZC",multilineContent:"multilineContent-D4RPB3ZC",primaryText:"primaryText-D4RPB3ZC",secondaryText:"secondaryText-D4RPB3ZC"}},153895:e=>{e.exports={disableSelfPositioning:"disableSelfPositioning-dYiqkKAE"}},969101:e=>{e.exports={wrapper:"wrapper-nGEmjtaX",container:"container-nGEmjtaX",tab:"tab-nGEmjtaX",active:"active-nGEmjtaX",title:"title-nGEmjtaX",icon:"icon-nGEmjtaX",withoutIcon:"withoutIcon-nGEmjtaX",titleText:"titleText-nGEmjtaX",nested:"nested-nGEmjtaX",isTablet:"isTablet-nGEmjtaX",isMobile:"isMobile-nGEmjtaX",showLastDivider:"showLastDivider-nGEmjtaX",medium:"medium-nGEmjtaX",large:"large-nGEmjtaX",withoutArrow:"withoutArrow-nGEmjtaX",accessible:"accessible-nGEmjtaX"}},998301:e=>{e.exports={container:"container-PVi_27Zl",centerElement:"centerElement-PVi_27Zl",contentWrap:"contentWrap-PVi_27Zl",withTransition:"withTransition-PVi_27Zl",noticeShowed:"noticeShowed-PVi_27Zl",icon:"icon-PVi_27Zl",textWrap:"textWrap-PVi_27Zl"}},535266:e=>{e.exports={title:"title-z9fs4j4t",small:"small-z9fs4j4t",normal:"normal-z9fs4j4t",large:"large-z9fs4j4t"}},337963:e=>{e.exports={container:"container-XOHpda28",mobile:"mobile-XOHpda28",withoutFavoriting:"withoutFavoriting-XOHpda28"}},458794:e=>{e.exports={title:"title-cIIj4HrJ",disabled:"disabled-cIIj4HrJ",icon:"icon-cIIj4HrJ",locked:"locked-cIIj4HrJ",open:"open-cIIj4HrJ",actionIcon:"actionIcon-cIIj4HrJ",selected:"selected-cIIj4HrJ",codeIcon:"codeIcon-cIIj4HrJ",solutionIcon:"solutionIcon-cIIj4HrJ"}},915272:e=>{e.exports={"tablet-small-breakpoint":"(max-width: 440px)",container:"container-WeNdU0sq",mobile:"mobile-WeNdU0sq",selected:"selected-WeNdU0sq",disabled:"disabled-WeNdU0sq",favorite:"favorite-WeNdU0sq",highlighted:"highlighted-WeNdU0sq","highlight-animation":"highlight-animation-WeNdU0sq",badge:"badge-WeNdU0sq",main:"main-WeNdU0sq",paddingLeft:"paddingLeft-WeNdU0sq",author:"author-WeNdU0sq",likes:"likes-WeNdU0sq",actions:"actions-WeNdU0sq",isActive:"isActive-WeNdU0sq",mobileText:"mobileText-WeNdU0sq"}},426943:e=>{e.exports={
container:"container-hrZZtP0J"}},353222:e=>{e.exports={"tablet-small-breakpoint":"(max-width: 440px)",dialog:"dialog-I087YV6b",dialogLibrary:"dialogLibrary-I087YV6b",contentContainer:"contentContainer-I087YV6b",listContainer:"listContainer-I087YV6b",scroll:"scroll-I087YV6b",sidebarContainer:"sidebarContainer-I087YV6b",noContentBlock:"noContentBlock-I087YV6b",tabWithHint:"tabWithHint-I087YV6b",solution:"solution-I087YV6b",mobileSidebarItem:"mobileSidebarItem-I087YV6b"}},263059:e=>{e.exports={container:"container-QcG0kDOU",image:"image-QcG0kDOU",title:"title-QcG0kDOU",description:"description-QcG0kDOU",button:"button-QcG0kDOU"}},916499:e=>{e.exports={favorite:"favorite-_FRQhM5Y",hovered:"hovered-_FRQhM5Y",disabled:"disabled-_FRQhM5Y",focused:"focused-_FRQhM5Y",active:"active-_FRQhM5Y",checked:"checked-_FRQhM5Y"}},201290:(e,t,n)=>{"use strict";n.d(t,{AppContext:()=>i});const i=(0,n(50959).createContext)({isOnMobileAppPage:()=>!1,isRtl:!1,locale:"en",renderMode:"legacy"})},805184:(e,t,n)=>{"use strict";var i,r,s;function o(e="default"){switch(e){case"default":return"primary";case"stroke":return"secondary"}}function a(e="primary"){switch(e){case"primary":return"brand";case"success":return"green";case"default":return"gray";case"danger":return"red"}}function l(e="m"){switch(e){case"s":return"xsmall";case"m":return"small";case"l":return"large"}}n.d(t,{Button:()=>h}),function(e){e.Primary="primary",e.Success="success",e.Default="default",e.Danger="danger"}(i||(i={})),function(e){e.Small="s",e.Medium="m",e.Large="l"}(r||(r={})),function(e){e.Default="default",e.Stroke="stroke"}(s||(s={}));var c=n(50959),d=n(228837);function u(e){const{intent:t,size:n,appearance:i,useFullWidth:r,icon:s,...c}=e;return{...c,color:a(t),size:l(n),variant:o(i),stretch:r}}function h(e){return c.createElement(d.SquareButton,{...u(e)})}},228837:(e,t,n)=>{"use strict";n.d(t,{SquareButton:()=>v});var i=n(50959),r=n(497754),s=n.n(r),o=n(331774),a=n(370168),l=n.n(a);const c="apply-overflow-tooltip apply-overflow-tooltip--check-children-recursively apply-overflow-tooltip--allow-text apply-common-tooltip";function d(e){const{size:t="medium",variant:n="primary",color:i="brand",stretch:r=!1,startSlot:a,endSlot:d,iconOnly:u=!1,className:h,isGrouped:p,cellState:m,disablePositionAdjustment:f=!1,primaryText:g,secondaryText:v,isAnchor:y=!1}=e,b="brand"===i?"black":i,_=function(e){let t="";return 0!==e&&(1&e&&(t=s()(t,l()["no-corner-top-left"])),2&e&&(t=s()(t,l()["no-corner-top-right"])),4&e&&(t=s()(t,l()["no-corner-bottom-right"])),8&e&&(t=s()(t,l()["no-corner-bottom-left"]))),t}((0,o.getGroupCellRemoveRoundBorders)(m)),w=u&&(a||d);return s()(h,l().button,l()[t],l()[b],l()[n],r&&l().stretch,a&&l().withStartIcon,d&&l().withEndIcon,w&&l().iconOnly,_,p&&l().grouped,p&&!f&&l().adjustPosition,p&&m.isTop&&l().firstRow,p&&m.isLeft&&l().firstCol,g&&v&&l().multilineContent,y&&l().link,c)}function u(e){const{startSlot:t,iconOnly:n,children:r,endSlot:o,primaryText:a,secondaryText:d}=e;if(t&&o&&n)return i.createElement("span",{className:s()(l().slot,l().startSlotWrap)},t)
;const u=n&&(t??o),h=!t&&!o&&!n&&!r&&a&&d;return i.createElement(i.Fragment,null,t&&i.createElement("span",{className:s()(l().slot,l().startSlotWrap)},t),r&&!u&&i.createElement("span",{className:l().content},r),o&&i.createElement("span",{className:s()(l().slot,l().endSlotWrap)},o),h&&!u&&function(e){return e.primaryText&&e.secondaryText&&i.createElement("div",{className:s()(l().textWrap,c)},i.createElement("span",{className:l().primaryText}," ",e.primaryText," "),"string"==typeof e.secondaryText?i.createElement("span",{className:l().secondaryText}," ",e.secondaryText," "):i.createElement("span",{className:l().secondaryText},i.createElement("span",null,e.secondaryText.firstLine),i.createElement("span",null,e.secondaryText.secondLine)))}(e))}var h=n(601198),p=n(380327),m=n(800417);function f(e,t){return n=>{if(t)return n.preventDefault(),void n.stopPropagation();e?.(n)}}function g(e){const{className:t,color:n,variant:i,size:r,stretch:s,iconOnly:o,startSlot:a,endSlot:l,primaryText:c,secondaryText:d,...u}=e;return{...u,...(0,m.filterDataProps)(e),...(0,m.filterAriaProps)(e)}}function v(e){const{reference:t,tooltipText:n,disabled:r,onClick:s,onMouseOver:o,onMouseOut:a,onMouseDown:l,onMouseEnter:c,"aria-disabled":m,...v}=e,{isGrouped:y,cellState:b,disablePositionAdjustment:_}=(0,i.useContext)(p.ControlGroupContext),w=d({...v,isGrouped:y,cellState:b,disablePositionAdjustment:_}),E=n??(e.primaryText?[e.primaryText,e.secondaryText].join(" "):(0,h.getTextForTooltip)(e.children));return i.createElement("button",{...g(v),"aria-disabled":r||m,tabIndex:e.tabIndex??(r?-1:0),className:w,ref:t,onClick:f(s,r),onMouseDown:f(l,r),onMouseOver:f(o,r),onMouseOut:f(a,r),onMouseEnter:f(c,r),"data-overflow-tooltip-text":E},i.createElement(u,{...v}))}n(15378)},380327:(e,t,n)=>{"use strict";n.d(t,{ControlGroupContext:()=>i});const i=n(50959).createContext({isGrouped:!1,cellState:{isTop:!0,isRight:!0,isBottom:!0,isLeft:!0}})},331774:(e,t,n)=>{"use strict";function i(e){let t=0;return e.isTop&&e.isLeft||(t+=1),e.isTop&&e.isRight||(t+=2),e.isBottom&&e.isLeft||(t+=8),e.isBottom&&e.isRight||(t+=4),t}n.d(t,{getGroupCellRemoveRoundBorders:()=>i})},778199:(e,t,n)=>{"use strict";function i(e,t,n,i,r){function s(r){if(e>r.timeStamp)return;const s=r.target;void 0!==n&&null!==t&&null!==s&&s.ownerDocument===i&&(t.contains(s)||n(r))}return r.click&&i.addEventListener("click",s,!1),r.mouseDown&&i.addEventListener("mousedown",s,!1),r.touchEnd&&i.addEventListener("touchend",s,!1),r.touchStart&&i.addEventListener("touchstart",s,!1),()=>{i.removeEventListener("click",s,!1),i.removeEventListener("mousedown",s,!1),i.removeEventListener("touchend",s,!1),i.removeEventListener("touchstart",s,!1)}}n.d(t,{addOutsideEventListener:()=>i})},908783:(e,t,n)=>{"use strict";n.d(t,{useOutsideEvent:()=>o});var i=n(50959),r=n(855393),s=n(778199);function o(e){const{click:t,mouseDown:n,touchEnd:o,touchStart:a,handler:l,reference:c}=e,d=(0,i.useRef)(null),u=(0,i.useRef)("undefined"==typeof window?0:new window.CustomEvent("timestamp").timeStamp);return(0,
r.useIsomorphicLayoutEffect)((()=>{const e={click:t,mouseDown:n,touchEnd:o,touchStart:a},i=c?c.current:d.current;return(0,s.addOutsideEventListener)(u.current,i,l,document,e)}),[t,n,o,a,l]),c||d}},730654:(e,t,n)=>{"use strict";n.d(t,{Portal:()=>c,PortalContext:()=>d});var i=n(50959),r=n(632227),s=n(925931),o=n(801808),a=n(481564),l=n(682925);class c extends i.PureComponent{constructor(){super(...arguments),this._uuid=(0,s.nanoid)()}componentWillUnmount(){this._manager().removeWindow(this._uuid)}render(){const e=this._manager().ensureWindow(this._uuid,this.props.layerOptions);e.style.top=this.props.top||"",e.style.bottom=this.props.bottom||"",e.style.left=this.props.left||"",e.style.right=this.props.right||"",e.style.pointerEvents=this.props.pointerEvents||"";const t=this.props.className;return t&&("string"==typeof t?e.classList.add(t):e.classList.add(...t)),this.props.shouldTrapFocus&&!e.hasAttribute(a.FOCUS_TRAP_DATA_ATTRIBUTE)&&e.setAttribute(a.FOCUS_TRAP_DATA_ATTRIBUTE,"true"),this.props["aria-hidden"]&&e.setAttribute("aria-hidden","true"),r.createPortal(i.createElement(d.Provider,{value:this},this.props.children),e)}moveToTop(){this._manager().moveToTop(this._uuid)}_manager(){return null===this.context?(0,o.getRootOverlapManager)():this.context}}c.contextType=l.SlotContext;const d=i.createContext(null)},682925:(e,t,n)=>{"use strict";n.d(t,{Slot:()=>r,SlotContext:()=>s});var i=n(50959);class r extends i.Component{shouldComponentUpdate(){return!1}render(){return i.createElement("div",{style:{position:"fixed",zIndex:150,left:0,top:0},ref:this.props.reference})}}const s=i.createContext(null)},672511:(e,t,n)=>{"use strict";n.d(t,{Spinner:()=>c});var i=n(50959),r=n(497754),s=n.n(r),o=n(843442),a=(n(140987),n(153895)),l=n.n(a);function c(e){const{ariaLabel:t,ariaLabelledby:n,className:r,style:a,size:c,id:d,disableSelfPositioning:u}=e;return i.createElement("div",{className:s()(r,"tv-spinner","tv-spinner--shown",`tv-spinner--size_${o.spinnerSizeMap[c||o.DEFAULT_SIZE]}`,u&&l().disableSelfPositioning),style:a,role:"progressbar",id:d,"aria-label":t,"aria-labelledby":n})}},800417:(e,t,n)=>{"use strict";function i(e){return s(e,o)}function r(e){return s(e,a)}function s(e,t){const n=Object.entries(e).filter(t),i={};for(const[e,t]of n)i[e]=t;return i}function o(e){const[t,n]=e;return 0===t.indexOf("data-")&&"string"==typeof n}function a(e){return 0===e[0].indexOf("aria-")}n.d(t,{filterAriaProps:()=>r,filterDataProps:()=>i,filterProps:()=>s,isAriaAttribute:()=>a,isDataAttribute:()=>o})},615617:(e,t,n)=>{"use strict";n.d(t,{dataQaIds:()=>r});var i=n(740391);function r(e,t){return[e,t].filter(i.isExistent).join(" ")}},601198:(e,t,n)=>{"use strict";n.d(t,{getTextForTooltip:()=>o});var i=n(50959);const r=e=>(0,i.isValidElement)(e)&&Boolean(e.props.children),s=(e,t=!0)=>null==e||"boolean"==typeof e||"{}"===JSON.stringify(e)?"":e.toString()+(t?" ":""),o=e=>Array.isArray(e)||(0,i.isValidElement)(e)?i.Children.toArray(e).reduce(((e,t)=>{let n="";return n=(0,i.isValidElement)(t)&&r(t)?o(t.props.children):(0,
i.isValidElement)(t)&&!r(t)?"":s(t),e.concat(n)}),"").trim():s(e,!1)},801808:(e,t,n)=>{"use strict";n.d(t,{OverlapManager:()=>o,getRootOverlapManager:()=>l});var i=n(650151),r=n(481564);class s{constructor(){this._storage=[]}add(e){this._storage.push(e)}remove(e){this._storage=this._storage.filter((t=>e!==t))}has(e){return this._storage.includes(e)}getItems(){return this._storage}}class o{constructor(e=document){this._storage=new s,this._windows=new Map,this._index=0,this._document=e,this._container=e.createDocumentFragment()}setContainer(e){const t=this._container,n=null===e?this._document.createDocumentFragment():e;!function(e,t){Array.from(e.childNodes).forEach((e=>{e.nodeType===Node.ELEMENT_NODE&&t.appendChild(e)}))}(t,n),this._container=n}registerWindow(e){this._storage.has(e)||this._storage.add(e)}ensureWindow(e,t={position:"fixed",direction:"normal"}){const n=this._windows.get(e);if(void 0!==n)return n;this.registerWindow(e);const i=this._document.createElement("div");if(i.style.position=t.position,i.style.zIndex=this._index.toString(),i.dataset.id=e,void 0!==t.index){const e=this._container.childNodes.length;if(t.index>=e)this._container.appendChild(i);else if(t.index<=0)this._container.insertBefore(i,this._container.firstChild);else{const e=this._container.childNodes[t.index];this._container.insertBefore(i,e)}}else"reverse"===t.direction?this._container.insertBefore(i,this._container.firstChild):this._container.appendChild(i);return this._windows.set(e,i),++this._index,i}unregisterWindow(e){this._storage.remove(e);const t=this._windows.get(e);void 0!==t&&(null!==t.parentElement&&t.parentElement.removeChild(t),this._windows.delete(e))}getZindex(e){const t=this.ensureWindow(e);return parseInt(t.style.zIndex||"0")}moveLastWindowToTop(){const e=this._storage.getItems(),t=e[e.length-1];t&&this.moveToTop(t)}moveToTop(e){if(this.getZindex(e)!==this._index){const t=this.ensureWindow(e);this._windows.forEach(((e,n)=>{e.hasAttribute(r.FOCUS_TRAP_DATA_ATTRIBUTE)&&e.setAttribute(r.FOCUS_TRAP_DATA_ATTRIBUTE,e===t?"true":"false")})),t.style.zIndex=(++this._index).toString()}}removeWindow(e){this.unregisterWindow(e)}}const a=new WeakMap;function l(e=document){const t=e.getElementById("overlap-manager-root");if(null!==t)return(0,i.ensureDefined)(a.get(t));{const t=new o(e),n=function(e){const t=e.createElement("div");return t.style.position="absolute",t.style.zIndex=150..toString(),t.style.top="0px",t.style.left="0px",t.id="overlap-manager-root",t.dataset.qaId="overlap-manager-root",t}(e);return a.set(n,t),t.setContainer(n),e.body.appendChild(n),t}}var c;!function(e){e[e.BaseZindex=150]="BaseZindex"}(c||(c={}))},740391:(e,t,n)=>{"use strict";function i(e){return null!=e}n.d(t,{isExistent:()=>i})},110963:(e,t,n)=>{"use strict";n.d(t,{useHintShowAnimation:()=>o});var i=n(50959);const r=50,s=2500;function o(e){const[t,n]=(0,i.useState)(!1);return(0,i.useLayoutEffect)((()=>{const t=setTimeout((()=>n(!0)),r),i=setTimeout((()=>n(!1)),e??s);return()=>{clearTimeout(t),clearTimeout(i)}}),[]),t}},285089:(e,t,n)=>{"use strict";n.d(t,{
setFixedBodyState:()=>l});var i=n(735922);const r=()=>!window.matchMedia("(min-width: 768px)").matches,s=()=>!window.matchMedia("(min-width: 1280px)").matches;let o=0,a=!1;function l(e){const{body:t}=document,n=t.querySelector(".widgetbar-wrap");if(e&&1==++o){const e=(0,i.getCSSProperty)(t,"overflow"),r=(0,i.getCSSPropertyNumericValue)(t,"padding-right");"hidden"!==e.toLowerCase()&&t.scrollHeight>t.offsetHeight&&((0,i.setStyle)(n,"right",`${(0,i.getScrollbarWidth)()}px`),t.style.paddingRight=`${r+(0,i.getScrollbarWidth)()}px`,a=!0),t.classList.add("i-no-scroll")}else if(!e&&o>0&&0==--o&&(t.classList.remove("i-no-scroll"),a)){(0,i.setStyle)(n,"right","0px");let e=0;e=n?(l=(0,i.getContentWidth)(n),r()?0:s()?45:Math.min(Math.max(l,45),450)):0,t.scrollHeight<=t.clientHeight&&(e-=(0,i.getScrollbarWidth)()),t.style.paddingRight=(e<0?0:e)+"px",a=!1}var l}},982850:(e,t,n)=>{"use strict";n.d(t,{DialogSidebarItem:()=>h,DialogSidebarWrapper:()=>u});var i,r=n(50959),s=n(497754),o=n.n(s),a=n(878112),l=n(393832),c=n(568648),d=n(969101);function u(e){return r.createElement("div",{className:d.wrapper,...e})}function h(e){const{mode:t,title:n,icon:i,isActive:s,onClick:u,tag:h="div",reference:p,className:m,mobileFontSize:f="medium",showLastDivider:g,useBoldIconsForMobile:v,hideArrow:y,...b}=e,{isMobile:_,isTablet:w}=(0,l.getSidebarMode)(t),E=function(){if(_&&v)return i?.bold;return s?i?.bold:i?.default}();return r.createElement(h,{...b,ref:p,title:w?n:"",className:o()(d.tab,w&&d.isTablet,_&&d.isMobile,s&&d.active,y&&d.withoutArrow,m,w&&"apply-common-tooltip"),onClick:u},i&&r.createElement(a.Icon,{className:d.icon,icon:E}),!w&&r.createElement("span",{className:o()(d.title,!i&&d.withoutIcon,"medium"===f?d.medium:d.large,g&&d.showLastDivider)},r.createElement("span",{className:o()(d.titleText,"apply-overflow-tooltip")},n),_&&!y&&r.createElement(a.Icon,{className:d.nested,icon:c})))}!function(e){e.Medium="medium",e.Large="large"}(i||(i={}))},393832:(e,t,n)=>{"use strict";var i,r;function s(e){return{isMobile:"mobile"===e,isTablet:"tablet"===e}}n.d(t,{getSidebarMode:()=>s}),function(e){e.Bold="bold",e.Default="default"}(i||(i={})),function(e){e.Tablet="tablet",e.Mobile="mobile"}(r||(r={}))},848124:(e,t,n)=>{"use strict";n.r(t),n.d(t,{IndicatorsLibraryContainer:()=>ve});var i=n(50959),r=n(609838),s=n(363515);const o=r.t(null,void 0,n(669644));var a,l,c,d,u,h,p;!function(e){e.Title="Title",e.Item="Item",e.Loader="Loader"}(a||(a={})),function(e){e.User="Script$USER",e.Public="Script$PUB",e.InviteOnly="Script$INVITE",e.Favorite="Script$FAVORITE",e.BuiltIn="tv-basicstudies",e.CandlestickPatterns="candlestick-patterns",e.Standard="Script$STD",e.VolumeProfile="tv-volumebyprice",e.Strategies="strategies",e.EditorsPicks="editorsPicks",e.Trending="trending",e.AutoJava="auto-java",e.AutoStandard="auto-standard",e.Auto="auto",e.OldChartPatterns="tv-chartpatterns",e.ChartPatterns="tv-chart_patterns"}(l||(l={})),function(e){e.Favorites="favorites",e.BuiltIns="built-ins",e.PublicLibrary="public-library",e.UserScripts="my-scripts",
e.InviteOnlyScripts="invite-only-scripts",e.Addons="addons",e.Financials="financials"}(c||(c={})),function(e){e.Indicators="indicators",e.Strategies="strategies",e.Patterns="patterns",e.Profiles="profiles"}(d||(d={})),function(e){e.Top="top",e.EditorsPicks="editorsPicks",e.Trending="trending"}(u||(u={})),function(e){e.Top="top",e.Trending="trending"}(h||(h={})),function(e){e.Favorites="favorites",e.IncomeStatement="income statements",e.BalanceSheet="balance sheet",e.CashFlow="cash flow",e.Ratios="ratios",e.Statistics="statistics",e.Crypto="crypto"}(p||(p={}));var m=n(912133),f=n(534934),g=n(597024);function v(e,t){const n=e.title.toLowerCase(),i=t.title.toLowerCase();return n<i?-1:n>i?1:0}const y={earning:new RegExp("EPS"),earnings:new RegExp("EPS"),"trailing twelve months":new RegExp("TTM")};function b(e){const{id:t,description:i,shortDescription:s,description_localized:a,is_hidden_study:l,version:c,extra:d,tags:u}=e,h=f.enabled("graying_disabled_tools_enabled")&&window.ChartApiInstance?.studiesAccessController.isToolGrayed(i);return{id:t,title:a||r.t(i,{context:"study"},n(783477)),shortDescription:s,shortTitle:s,isStrategy:m.StudyMetaInfo.isScriptStrategy(e),isHidden:l,isNew:d?.isNew,isUpdated:d?.isUpdated,isBeta:d?.isBeta,isPro:d?.isPro,proBadgeTitle:o,isFundamental:!1,isOverlay:e.is_price_study,studyData:{id:t,version:c,descriptor:{type:"java",studyId:e.id},packageName:_(t,d)},isGrayed:h,tags:u}}function _(e,t){return t?.isChartPattern?"tv-chart_patterns":t?.isAuto?"auto-java":m.StudyMetaInfo.getPackageName(e)}var w=n(497754),E=n.n(w),S=n(132455),C=n(533408),x=n(601227),T=n(231862),R=n(982850),P=n(426943);function I(e){const{reference:t,className:n,...r}=e;return i.createElement("div",{ref:t,className:E()(P.container,n),...r,"data-role":"dialog-content"})}var D=n(458794);function N(e){const{children:t,className:n,disabled:r}=e;return i.createElement("span",{className:E()(D.title,r&&D.disabled,n)},t)}var B=n(871645);const k=i.createContext(null);var F=n(260598),A=n(577687),L=n(180185),M=n(915272);function W(e){const t=(0,i.useContext)(k),{id:s,role:o,style:a,isMobile:l,item:c,query:d,regExpRules:u,isBeta:h,isNew:p,isUpdated:m,isSelected:f,isHighlighted:g,reference:v,onClick:y,renderActions:b,isPro:_,proBadgeTitle:w,onItemActionsClick:S,favoriteClickHandler:C,hideEP:x}=e,{isFavorite:T,isLocked:R,public:P,editorsPick:I}=c,D=(0,B.decodeHTMLEntities)(c.title),L=void 0!==T,W=O(y,c),Z=(0,i.useCallback)((e=>{e.stopPropagation(),S?.()}),[S]),j=(0,i.useCallback)((e=>{if(C)return S?.(),void C(e);const n=t?.toggleFavorite;if(n){O((e=>{S?.(),n(e)}),c)(e)}}),[C,S,t?.toggleFavorite]),U=E()(M.container,l&&M.mobile,c.isGrayed&&M.disabled,f&&M.selected,g&&M.highlighted);return i.createElement("div",{id:s,role:o,ref:v,className:U,onClick:W,style:a,"data-role":"list-item","data-disabled":c.isGrayed,"data-title":D,"data-id":c.id},i.createElement("div",{className:E()(M.main,!L&&M.paddingLeft)},L&&i.createElement(A.FavoriteButton,{className:E()(M.favorite,T&&M.isActive),isFilled:T,onClick:j}),i.createElement(N,{disabled:c.isGrayed,
className:E()(l&&M.mobileText)},i.createElement(F.HighlightedText,{queryString:d,rules:u,text:D})),!1,h&&i.createElement(BadgeStatus,{type:"beta",className:M.badge}),p&&i.createElement(BadgeStatus,{type:"new",className:M.badge}),m&&i.createElement(BadgeStatus,{type:"updated",className:M.badge}),Boolean(I&&!x)&&i.createElement(BadgeStatus,{type:"ep",className:M.badge,tooltip:r.t(null,void 0,n(510640))}),!1),P&&i.createElement("a",{href:P.authorLink,className:M.author,target:"_blank",onClick:Z},P.authorName),!l&&P&&i.createElement("span",{className:M.likes},compactNumberFormat(P.likesCount)),!1)}function O(e,t){return n=>{const i=0===(0,L.modifiersFromEvent)(n)&&0===n.button;!n.defaultPrevented&&e&&i&&(n.preventDefault(),e(t))}}var Z,j=n(535266);function U(e){const{title:t,type:n,className:r}=e;return i.createElement("h3",{className:E()(j.title,"Small"===n&&j.small,"Normal"===n&&j.normal,"Large"===n&&j.large,r)},t)}!function(e){e.Small="Small",e.Normal="Normal",e.Large="Large"}(Z||(Z={}));var H=n(337963);function q(e){const{style:t,children:n,isMobile:r,withoutFavoriting:s}=e;return i.createElement("div",{style:t,className:E()(H.container,r&&H.mobile,s&&H.withoutFavoriting)},n)}var G=n(993517);function V(e){const[t,n]=(0,i.useState)(null);function r(e){return e.findIndex((e=>t?.id===e.id))}return[t,n,function(){n(function(){const n=r(e),i=n===e.length-1;return null===t||-1===n?e[0]??null:i?e[n]:e[n+1]}())},function(){n(function(){const n=r(e);return null===t||0===n||-1===n?e[0]??null:e[n-1]}())}]}var z=n(170876),X=n(181687),J=n(353222);function Y(e){const{reference:t,data:s,isOpened:o,onClose:a,applyStudy:l,shouldReturnFocus:c}=e,[d,u]=(0,i.useState)(""),h=(0,i.useMemo)((()=>(0,z.createRegExpList)(d,y)),[d]),p=(0,i.useMemo)((()=>d?(0,z.rankedSearch)({data:s,rules:h,queryString:d,primaryKey:"shortDescription",secondaryKey:"title",optionalPrimaryKey:"shortTitle",tertiaryKey:"tags"}):s),[d,h,s]),m=(0,i.useMemo)((()=>p.slice().sort(Q)),[p]),{highlightedItem:f,selectedItem:g,selectedNodeReference:v,scrollContainerRef:b,searchInputRef:_,onClickStudy:w,handleKeyDown:P}=function(e,t,n,r){let s=0;const[o,a]=(0,i.useState)(null),l=(0,i.useRef)(null),c=(0,i.useRef)(null),[d,u,h,p]=V(t),m=(0,i.useRef)(null);return(0,i.useEffect)((()=>{e?f(0):u(null)}),[e]),(0,i.useEffect)((()=>{void 0!==r&&(f(0),u(null))}),[r]),(0,i.useEffect)((()=>(o&&(s=setTimeout((()=>{a(null)}),1500)),()=>{clearInterval(s)})),[o]),{highlightedItem:o,scrollContainerRef:l,selectedNodeReference:c,selectedItem:d,searchInputRef:m,onClickStudy:function(e){n&&(n(e),u(e),a(e))},handleKeyDown:function(e){const[t,i]=function(e,t){if(null===e.current||null===t.current)return[0,0];const n=e.current.getBoundingClientRect(),i=t.current.getBoundingClientRect(),{height:r}=n,s=n.top-i.top,o=n.bottom-i.bottom+r<0?0:r,a=s-r>0?0:r,{scrollTop:l}=t.current;return[l-a,l+o]}(c,l);if(40===(0,L.hashFromEvent)(e)&&(e.preventDefault(),h(),f(i)),38===(0,L.hashFromEvent)(e)&&(e.preventDefault(),p(),f(t)),13===(0,L.hashFromEvent)(e)&&d){if(!n)return;n(d),a(d)}}};function f(e){
null!==l.current&&l.current.scrollTo&&l.current.scrollTo(0,e)}}(o,m,l),D=""===d&&!m.length;(0,i.useEffect)((()=>{o||u(""),x.CheckMobile.any()||_.current?.focus()}),[o]);const N=(0,i.useId)();return i.createElement(C.AdaptivePopupDialog,{className:E()(J.dialogLibrary),isOpened:o,onClose:a,onClickOutside:a,title:r.t(null,void 0,n(184549)),dataName:"indicators-dialog",onKeyDown:P,shouldReturnFocus:c,ref:t,render:()=>i.createElement(i.Fragment,null,i.createElement(T.DialogSearch,{reference:_,placeholder:r.t(null,void 0,n(508573)),onChange:B,onFocus:k,"aria-controls":N,"aria-owns":N,"aria-haspopup":"listbox",activeDescendant:K(g?.id)}),i.createElement(R.DialogSidebarWrapper,null,i.createElement(I,{id:N,reference:b,role:"listbox",className:J.scroll},D?i.createElement(S.Spinner,null):m.length?i.createElement(i.Fragment,null,i.createElement(q,null,i.createElement(U,{title:r.t(null,void 0,n(7378))})),m.map((e=>i.createElement(W,{key:e.id,id:K(e.id),role:"option",item:e,onClick:()=>w(e),query:d,regExpRules:h,reference:g?.id===e.id?v:void 0,isSelected:g?.id===e.id,isHighlighted:f?.id===e.id,favoriteClickHandler:t=>{t.stopPropagation(),(0,X.toggleFavorite)(e.title)}})))):i.createElement(G.ContentIsNotFound,{className:J.noContentBlock,description:r.t(null,void 0,n(770269))}))))});function B(e){u(e.target.value)}function k(){d.length>0&&_.current?.select()}}function Q(e,t){return e.isFavorite===t.isFavorite?0:e.isFavorite?-1:1}const $="indicators_dialog_item";function K(e){if(void 0!==e)return`${$}_${e}`}var ee=n(984078),te=n(559410),ne=n(454119),ie=n(963632),re=n(996038),se=n(632227),oe=n(290484),ae=n(878112),le=n(110963),ce=n(998301),de=n(499084);function ue(e){const{text:t,withTransition:n=!0}=e,r=(0,le.useHintShowAnimation)(2500);return i.createElement("div",{className:ce.container},i.createElement("div",{className:ce.centerElement},i.createElement("div",{className:w(ce.contentWrap,r&&ce.noticeShowed,n&&ce.withTransition)},i.createElement(ae.Icon,{icon:de,className:ce.icon}),i.createElement("div",{className:ce.textWrap},t))))}class he{constructor(e,t){this._showed=!1,this._wrap=document.createElement("div"),t&&this._wrap.classList.add(t),this._container=e,this._debouncedHide=(0,oe.default)((()=>this.hide()),3e3)}show(e,t){this._wrap&&!this._showed&&(this._showed=!0,this._container.appendChild(this._wrap),se.render(i.createElement(ue,{text:e,withTransition:t}),this._wrap),this._debouncedHide())}hide(){this._wrap&&(this._showed=!1,se.unmountComponentAtNode(this._wrap),this._wrap.remove())}destroy(){this.hide(),delete this._wrap}}var pe=n(515822);class me{constructor(e=!1){this._searchInputRef=i.createRef(),this._dialog=i.createRef(),this._rootInstance=null,this._parentSources=[],this._ignoreChecksWhenAddingStudy=!1,this._visibility=new ie.WatchedValue(!1),this._container=document.createElement("div"),this._isForceRender=!1,this._isDestroyed=!1,this._deepFundamentalsHistoryNotificationHasBeenShown=!1,this._hintRenderer=null,this._showDeepFundamentalsHistoryNotification=()=>{},this._ignoreChecksWhenAddingStudy=e}isDestroyed(){
return this._isDestroyed}visible(){return this._visibility.readonly()}resetAllStudies(){}open(e,t,n,i,r){this._parentSources=e,this._updateSymbol(),this._setProps({isOpened:!0,shouldReturnFocus:r?.shouldReturnFocus}),this._visibility.setValue(!0),te.emit("indicators_dialog")}show(e){this.open([],void 0,void 0,void 0,e)}hide(){this._parentSources=[],this._setProps({isOpened:!1}),this._visibility.setValue(!1),this._hintRenderer?.destroy(),this._hintRenderer=null}destroy(){this._isDestroyed=!0,this._hintRenderer?.destroy(),this._rootInstance?.unmount(),this._rootInstance=null}_shouldPreventRender(){return this._isDestroyed||!this._isForceRender&&!this._getProps().value().isOpened}_getRenderData(){return{props:this._getProps().value(),container:this._getContainer()}}_applyStudy(e,t){e.isGrayed?te.emit("onGrayedObjectClicked",{type:"study",name:e.shortDescription}):(x.CheckMobile.any()||this._searchInputRef.current?.select(),this._insertStudyImpl(e,t).then((t=>{null===t&&this._hintRenderer?.hide(),null!==t&&((0,pe.hasConfirmInputs)(t.inputs)||(0,pe.isSymbolicStudy)(t))&&this._hintRenderer?.show(this._getHintText(e.title));window.is_authenticated;x.CheckMobile.any()||(null===document.activeElement||document.activeElement===document.body||null!==this._dialog.current&&this._dialog.current.contains(document.activeElement))&&this._searchInputRef.current?.focus()})))}_setProps(e){const t=this._getProps().value(),{isOpened:n}=t;this._isForceRender=n&&"isOpened"in e&&!e.isOpened;const i={...t,...e};this._getProps().setValue(i)}_requestBuiltInJavaStudies(){return(0,ne.studyMetaInfoRepository)().findAllJavaStudies()}_focus(){this._getProps().value().isOpened&&this._dialog.current?.focus()}_getContainer(){return this._container}_getDialog(){return this._dialog}_getSymbol(){return this._symbol}_showHint(e){if(window.matchMedia(re.DialogBreakpoints.TabletSmall).matches){if(this._hintRenderer?.hide(),!this._hintRenderer){const e=this._dialog.current?.getElement();e&&(this._hintRenderer=new he(e))}this._hintRenderer?.show(this._getHintText(e))}}_getHintText(e){return ee.t(null,{replace:{studyTitle:e}},n(333673))}}function fe(e,t){return e[t]||[]}var ge=n(157129);class ve extends me{constructor(e,t){super(),this._options={onWidget:!1},this._indicatorData=[],this._chartWidgetCollection=e,t&&(this._options=t),this._props=new ie.WatchedValue({data:[],applyStudy:this._applyStudy.bind(this),isOpened:!1,reference:this._getDialog(),onClose:this.hide.bind(this)}),this._getProps().subscribe(this._render.bind(this)),this._init()}async _insertStudyImpl(e,t){const n=await async function(e,t,n,i,r,o){const a=e.activeChartWidget.value();if(!a)return null;const{studyData:l}=t;if(!l)return Promise.resolve(null);const c=l.descriptor;if("java"===c.type){const e=(0,g.tryFindStudyLineToolNameByStudyId)(c.studyId);if(null!==e)return await(0,g.initLineTool)(e),s.tool.setValue(e),null}return a.insertStudy(l.descriptor,n,{stubTitle:t.shortDescription,isFundamental:t.isFundamental,isOverlay:t.isOverlay},void 0,o)
}(this._chartWidgetCollection,e,this._parentSources,0,this._symbol,(()=>this._showHint(e.title)));return n?.metaInfo()??null}_updateSymbol(){}_getProps(){return this._props}async _init(){const e=function(e){const t={};return e.forEach((e=>{const{studyData:n}=e;if(!n)return;const{packageName:i}=n;i in t?t[i].push(e):t[i]=[e]})),t}(function(e,t=!0){return e.filter((e=>{const n=!!t||!function(e){return e.isStrategy}(e);return!e.isHidden&&n}))}((await this._requestBuiltInJavaStudies()).map(b)));this._indicatorData=await async function(e,t){let n={...t};return[...fe(n,"tv-basicstudies"),...fe(n,"Script$STD"),...fe(n,"tv-volumebyprice")].filter((e=>!e.isStrategy)).sort(v)}(this._options.onWidget,e),this._setFavorites(),this._setProps({data:this._indicatorData}),X.favoriteAdded.subscribe(null,(()=>this._refreshFavorites())),X.favoriteRemoved.subscribe(null,(()=>this._refreshFavorites()))}_setFavorites(){f.enabled("items_favoriting")&&this._indicatorData.forEach((e=>{e.isFavorite=(0,X.isFavorite)(e.title)}))}_refreshFavorites(){this._setFavorites(),this._setProps({data:this._indicatorData})}_render(){if(this._shouldPreventRender())return;const{props:e,container:t}=this._getRenderData(),n=i.createElement(Y,{...e});this._rootInstance?this._rootInstance.render(n):this._rootInstance=(0,ge.createReactRoot)(n,t)}}},227570:(e,t,n)=>{"use strict";n.d(t,{useActiveDescendant:()=>s});var i=n(50959),r=n(718736);function s(e,t=[]){const[n,s]=(0,i.useState)(!1),o=(0,r.useFunctionalRefObject)(e);return(0,i.useLayoutEffect)((()=>{const e=o.current;if(null===e)return;const t=e=>{switch(e.type){case"active-descendant-focus":s(!0);break;case"active-descendant-blur":s(!1)}};return e.addEventListener("active-descendant-focus",t),e.addEventListener("active-descendant-blur",t),()=>{e.removeEventListener("active-descendant-focus",t),e.removeEventListener("active-descendant-blur",t)}}),t),[o,n]}},993517:(e,t,n)=>{"use strict";n.d(t,{ContentIsNotFound:()=>c});var i=n(50959),r=n(497754),s=n.n(r),o=n(878112),a=n(805184),l=n(263059);function c(e){const{className:t,icon:n,title:r,description:c,buttonText:d,buttonAction:u}=e;return i.createElement("div",{className:s()(l.container,t)},n&&i.createElement(o.Icon,{icon:n,className:l.image}),r&&i.createElement("h3",{className:l.title},r),c&&i.createElement("p",{className:l.description},c),d&&u&&i.createElement(a.Button,{onClick:u,className:l.button},d))}},598448:(e,t,n)=>{"use strict";n.d(t,{RemoveTitleType:()=>i,removeTitlesMap:()=>s});var i,r=n(609838);!function(e){e.Add="add",e.Remove="remove"}(i||(i={}));const s={[i.Add]:r.t(null,void 0,n(869207)),[i.Remove]:r.t(null,void 0,n(685106))}},577687:(e,t,n)=>{"use strict";n.d(t,{FavoriteButton:()=>h});var i=n(50959),r=n(497754),s=n.n(r),o=n(878112),a=n(598448),l=n(227570),c=n(239146),d=n(648010),u=n(916499);function h(e){const{className:t,isFilled:n,isActive:r,onClick:h,title:p,...m}=e,[f,g]=(0,l.useActiveDescendant)(null),v=p??(n?a.removeTitlesMap[a.RemoveTitleType.Remove]:a.removeTitlesMap[a.RemoveTitleType.Add]);return(0,i.useLayoutEffect)((()=>{
const e=f.current;e instanceof HTMLElement&&v&&e.dispatchEvent(new CustomEvent("common-tooltip-update"))}),[v,f]),i.createElement(o.Icon,{...m,className:s()(u.favorite,"apply-common-tooltip",n&&u.checked,r&&u.active,g&&u.focused,t),onClick:h,icon:n?c:d,title:v,ariaLabel:v,ref:f})}},930052:(e,t,n)=>{"use strict";n.d(t,{MatchMedia:()=>r});var i=n(50959);class r extends i.PureComponent{constructor(e){super(e),this._handleChange=()=>{this.forceUpdate()},this.state={query:window.matchMedia(this.props.rule)}}componentDidMount(){this._subscribe(this.state.query)}componentDidUpdate(e,t){this.state.query!==t.query&&(this._unsubscribe(t.query),this._subscribe(this.state.query))}componentWillUnmount(){this._unsubscribe(this.state.query)}render(){return this.props.children(this.state.query.matches)}static getDerivedStateFromProps(e,t){return e.rule!==t.query.media?{query:window.matchMedia(e.rule)}:null}_subscribe(e){e.addEventListener("change",this._handleChange)}_unsubscribe(e){e.removeEventListener("change",this._handleChange)}}},8361:(e,t,n)=>{"use strict";n.d(t,{Portal:()=>i.Portal,PortalContext:()=>i.PortalContext});var i=n(730654)},132455:(e,t,n)=>{"use strict";n.d(t,{Spinner:()=>i.Spinner});var i=n(672511)},181687:(e,t,n)=>{"use strict";n.r(t),n.d(t,{favoriteAdded:()=>s,favoriteRemoved:()=>o,favoritesSynced:()=>a,isFavorite:()=>d,saveFavorites:()=>p,toggleFavorite:()=>c});var i=n(627692),r=n(748838);const s=new i.Delegate,o=new i.Delegate,a=new i.Delegate;let l=[];function c(e){return-1===u(e)?(function(e){!d(e)&&(l.push(e),p(),s.fire(e))}(e),!0):(function(e){const t=u(e);-1!==t&&(l.splice(t,1),p(),o.fire(e))}(e),!1)}function d(e){return-1!==u(e)}function u(e){return l.indexOf(e)}function h(){l=[];const e=Boolean(void 0===(0,r.getValue)("chart.favoriteLibraryIndicators")),t=(0,r.getJSON)("chart.favoriteLibraryIndicators",[]);if(l.push(...t),0===l.length&&e&&"undefined"!=typeof window){const e=JSON.parse(window.urlParams?.favorites??"{}").indicators;e&&Array.isArray(e)&&l.push(...e)}a.fire()}function p(){const e=l.slice();(0,r.setJSON)("chart.favoriteLibraryIndicators",e)}h(),r.onSync.subscribe(null,h)},499084:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" fill-rule="evenodd" d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16Zm4-9.97L11.9 6 8.3 9.82 6.1 7.46 4.99 8.5 8.32 12 13 7.03Z"/></svg>'},568648:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28" fill="none"><path stroke="currentcolor" stroke-width="1.3" d="M12 9l5 5-5 5"/></svg>'},239146:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18" fill="none"><path fill="currentColor" d="M9 1l2.35 4.76 5.26.77-3.8 3.7.9 5.24L9 13l-4.7 2.47.9-5.23-3.8-3.71 5.25-.77L9 1z"/></svg>'},648010:e=>{
e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18" fill="none"><path stroke="currentColor" d="M9 2.13l1.903 3.855.116.236.26.038 4.255.618-3.079 3.001-.188.184.044.259.727 4.237-3.805-2L9 12.434l-.233.122-3.805 2.001.727-4.237.044-.26-.188-.183-3.079-3.001 4.255-.618.26-.038.116-.236L9 2.13z"/></svg>'},925931:(e,t,n)=>{"use strict";n.d(t,{nanoid:()=>i});let i=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+=(t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_"),"")}}]);